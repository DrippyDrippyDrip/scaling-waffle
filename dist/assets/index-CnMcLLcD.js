var rr=Object.defineProperty;var ir=(o,e,s)=>e in o?rr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var In=(o,e,s)=>ir(o,typeof e!="symbol"?e+"":e,s);function _mergeNamespaces(o,e){for(var s=0;s<e.length;s++){const a=e[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in o)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(o,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var e=o.default;if(typeof e=="function"){var s=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var c=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(s,a,c.get?c:{enumerable:!0,get:function(){return o[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,e,s){this.props=o,this.context=e,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,e){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,e,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,e,s){this.props=o,this.context=e,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,e,s){var a,c={},d=null,h=null;if(e!=null)for(a in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(d=""+e.key),e)J.call(e,a)&&!L$1.hasOwnProperty(a)&&(c[a]=e[a]);var _=arguments.length-2;if(_===1)c.children=s;else if(1<_){for(var b=Array(_),$=0;$<_;$++)b[$]=arguments[$+2];c.children=b}if(o&&o.defaultProps)for(a in _=o.defaultProps,_)c[a]===void 0&&(c[a]=_[a]);return{$$typeof:l$1,type:o,key:d,ref:h,props:c,_owner:K$1.current}}function N$1(o,e){return{$$typeof:l$1,type:o.type,key:e,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$1}function escape(o){var e={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(o,e){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):e.toString(36)}function R$1(o,e,s,a,c){var d=typeof o;(d==="undefined"||d==="boolean")&&(o=null);var h=!1;if(o===null)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(o.$$typeof){case l$1:case n$1:h=!0}}if(h)return h=o,c=c(h),o=a===""?"."+Q$1(h,0):a,I$1(c)?(s="",o!=null&&(s=o.replace(P$1,"$&/")+"/"),R$1(c,e,s,"",function($){return $})):c!=null&&(O$1(c)&&(c=N$1(c,s+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+o)),e.push(c)),1;if(h=0,a=a===""?".":a+":",I$1(o))for(var _=0;_<o.length;_++){d=o[_];var b=a+Q$1(d,_);h+=R$1(d,e,s,b,c)}else if(b=A$1(o),typeof b=="function")for(o=b.call(o),_=0;!(d=o.next()).done;)d=d.value,b=a+Q$1(d,_++),h+=R$1(d,e,s,b,c);else if(d==="object")throw e=String(o),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function S$1(o,e,s){if(o==null)return o;var a=[],c=0;return R$1(o,a,"","",function(d){return e.call(s,d,c++)}),a}function T$1(o){if(o._status===-1){var e=o._result;e=e(),e.then(function(s){(o._status===0||o._status===-1)&&(o._status=1,o._result=s)},function(s){(o._status===0||o._status===-1)&&(o._status=2,o._result=s)}),o._status===-1&&(o._status=0,o._result=e)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(o,e,s){S$1(o,function(){e.apply(this,arguments)},s)},count:function(o){var e=0;return S$1(o,function(){e++}),e},toArray:function(o){return S$1(o,function(e){return e})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(o,e,s){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var a=C$1({},o.props),c=o.key,d=o.ref,h=o._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,h=K$1.current),e.key!==void 0&&(c=""+e.key),o.type&&o.type.defaultProps)var _=o.type.defaultProps;for(b in e)J.call(e,b)&&!L$1.hasOwnProperty(b)&&(a[b]=e[b]===void 0&&_!==void 0?_[b]:e[b])}var b=arguments.length-2;if(b===1)a.children=s;else if(1<b){_=Array(b);for(var $=0;$<b;$++)_[$]=arguments[$+2];a.children=_}return{$$typeof:l$1,type:o.type,key:c,ref:d,props:a,_owner:h}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var e=M$1.bind(null,o);return e.type=o,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$1,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,e){return{$$typeof:x,type:o,compare:e===void 0?null:e}};react_production_min.startTransition=function(o){var e=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(o,e){return U$1.current.useCallback(o,e)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,e){return U$1.current.useEffect(o,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,e,s){return U$1.current.useImperativeHandle(o,e,s)};react_production_min.useInsertionEffect=function(o,e){return U$1.current.useInsertionEffect(o,e)};react_production_min.useLayoutEffect=function(o,e){return U$1.current.useLayoutEffect(o,e)};react_production_min.useMemo=function(o,e){return U$1.current.useMemo(o,e)};react_production_min.useReducer=function(o,e,s){return U$1.current.useReducer(o,e,s)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,e,s){return U$1.current.useSyncExternalStore(o,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$2(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(o,e,s){var a,c={},d=null,h=null;s!==void 0&&(d=""+s),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(h=e.ref);for(a in e)m$1.call(e,a)&&!p$1.hasOwnProperty(a)&&(c[a]=e[a]);if(o&&o.defaultProps)for(a in e=o.defaultProps,e)c[a]===void 0&&(c[a]=e[a]);return{$$typeof:k,type:o,key:d,ref:h,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function e(yt,gt){var St=yt.length;yt.push(gt);e:for(;0<St;){var _t=St-1>>>1,et=yt[_t];if(0<c(et,gt))yt[_t]=gt,yt[St]=et,St=_t;else break e}}function s(yt){return yt.length===0?null:yt[0]}function a(yt){if(yt.length===0)return null;var gt=yt[0],St=yt.pop();if(St!==gt){yt[0]=St;e:for(var _t=0,et=yt.length,ft=et>>>1;_t<ft;){var vt=2*(_t+1)-1,$t=yt[vt],kt=vt+1,jt=yt[kt];if(0>c($t,St))kt<et&&0>c(jt,$t)?(yt[_t]=jt,yt[kt]=St,_t=kt):(yt[_t]=$t,yt[vt]=St,_t=vt);else if(kt<et&&0>c(jt,St))yt[_t]=jt,yt[kt]=St,_t=kt;else break e}}return gt}function c(yt,gt){var St=yt.sortIndex-gt.sortIndex;return St!==0?St:yt.id-gt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var h=Date,_=h.now();o.unstable_now=function(){return h.now()-_}}var b=[],$=[],j=1,rt=null,it=3,ot=!1,ht=!1,bt=!1,pt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function at(yt){for(var gt=s($);gt!==null;){if(gt.callback===null)a($);else if(gt.startTime<=yt)a($),gt.sortIndex=gt.expirationTime,e(b,gt);else break;gt=s($)}}function xt(yt){if(bt=!1,at(yt),!ht)if(s(b)!==null)ht=!0,ct(Rt);else{var gt=s($);gt!==null&&mt(xt,gt.startTime-yt)}}function Rt(yt,gt){ht=!1,bt&&(bt=!1,dt(Bt),Bt=-1),ot=!0;var St=it;try{for(at(gt),rt=s(b);rt!==null&&(!(rt.expirationTime>gt)||yt&&!Ht());){var _t=rt.callback;if(typeof _t=="function"){rt.callback=null,it=rt.priorityLevel;var et=_t(rt.expirationTime<=gt);gt=o.unstable_now(),typeof et=="function"?rt.callback=et:rt===s(b)&&a(b),at(gt)}else a(b);rt=s(b)}if(rt!==null)var ft=!0;else{var vt=s($);vt!==null&&mt(xt,vt.startTime-gt),ft=!1}return ft}finally{rt=null,it=St,ot=!1}}var Tt=!1,It=null,Bt=-1,Pt=5,zt=-1;function Ht(){return!(o.unstable_now()-zt<Pt)}function Ut(){if(It!==null){var yt=o.unstable_now();zt=yt;var gt=!0;try{gt=It(!0,yt)}finally{gt?Et():(Tt=!1,It=null)}}else Tt=!1}var Et;if(typeof lt=="function")Et=function(){lt(Ut)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,tt=_e.port2;_e.port1.onmessage=Ut,Et=function(){tt.postMessage(null)}}else Et=function(){pt(Ut,0)};function ct(yt){It=yt,Tt||(Tt=!0,Et())}function mt(yt,gt){Bt=pt(function(){yt(o.unstable_now())},gt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(yt){yt.callback=null},o.unstable_continueExecution=function(){ht||ot||(ht=!0,ct(Rt))},o.unstable_forceFrameRate=function(yt){0>yt||125<yt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pt=0<yt?Math.floor(1e3/yt):5},o.unstable_getCurrentPriorityLevel=function(){return it},o.unstable_getFirstCallbackNode=function(){return s(b)},o.unstable_next=function(yt){switch(it){case 1:case 2:case 3:var gt=3;break;default:gt=it}var St=it;it=gt;try{return yt()}finally{it=St}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(yt,gt){switch(yt){case 1:case 2:case 3:case 4:case 5:break;default:yt=3}var St=it;it=yt;try{return gt()}finally{it=St}},o.unstable_scheduleCallback=function(yt,gt,St){var _t=o.unstable_now();switch(typeof St=="object"&&St!==null?(St=St.delay,St=typeof St=="number"&&0<St?_t+St:_t):St=_t,yt){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=St+et,yt={id:j++,callback:gt,priorityLevel:yt,startTime:St,expirationTime:et,sortIndex:-1},St>_t?(yt.sortIndex=St,e($,yt),s(b)===null&&yt===s($)&&(bt?(dt(Bt),Bt=-1):bt=!0,mt(xt,St-_t))):(yt.sortIndex=et,e(b,yt),ht||ot||(ht=!0,ct(Rt))),yt},o.unstable_shouldYield=Ht,o.unstable_wrapCallback=function(yt){var gt=it;return function(){var St=it;it=gt;try{return yt.apply(this,arguments)}finally{it=St}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(o){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+o,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+o+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,e){ha(o,e),ha(o+"Capture",e)}function ha(o,e){for(ea[o]=e,o=0;o<e.length;o++)da.add(e[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,e,s,a){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,e,s,a){if(e===null||typeof e>"u"||pa(o,e,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v(o,e,s,a,c,d,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=o,this.type=e,this.sanitizeURL=d,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var e=o[0];z[e]=new v(e,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var e=o.replace(ra,sa);z[e]=new v(e,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,e,s,a){var c=z.hasOwnProperty(e)?z[e]:null;(c!==null?c.type!==0:a||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,c,a)&&(s=null),a||c===null?oa(e)&&(s===null?o.removeAttribute(e):o.setAttribute(e,""+s)):c.mustUseProperty?o[c.propertyName]=s===null?c.type===3?!1:"":s:(e=c.attributeName,a=c.attributeNamespace,s===null?o.removeAttribute(e):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?o.setAttributeNS(a,e,s):o.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+o}var Na=!1;function Oa(o,e){if(!o||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch($){var a=$}Reflect.construct(o,[],e)}else{try{e.call()}catch($){a=$}o.call(e.prototype)}else{try{throw Error()}catch($){a=$}o()}}catch($){if($&&a&&typeof $.stack=="string"){for(var c=$.stack.split(`
`),d=a.stack.split(`
`),h=c.length-1,_=d.length-1;1<=h&&0<=_&&c[h]!==d[_];)_--;for(;1<=h&&0<=_;h--,_--)if(c[h]!==d[_]){if(h!==1||_!==1)do if(h--,_--,0>_||c[h]!==d[_]){var b=`
`+c[h].replace(" at new "," at ");return o.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",o.displayName)),b}while(1<=h&&0<=_);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var e=o.render;return o=o.displayName,o||(o=e.displayName||e.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return e=o.displayName||null,e!==null?e:Qa(o.type)||"Memo";case Ha:e=o._payload,o=o._init;try{return Qa(o(e))}catch{}}return null}function Ra(o){var e=o.type;switch(o.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=e.render,o=o.displayName||o.name||"",e.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var e=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(o){var e=Ta(o)?"checked":"value",s=Object.getOwnPropertyDescriptor(o.constructor.prototype,e),a=""+o[e];if(!o.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(o,e,{configurable:!0,get:function(){return c.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(o,e,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){o._valueTracker=null,delete o[e]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var e=o._valueTracker;if(!e)return!0;var s=e.getValue(),a="";return o&&(a=Ta(o)?o.checked?"true":"false":o.value),o=a,o!==s?(e.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??o._wrapperState.initialChecked})}function Za(o,e){var s=e.defaultValue==null?"":e.defaultValue,a=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),o._wrapperState={initialChecked:a,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(o,e){e=e.checked,e!=null&&ta(o,"checked",e,!1)}function bb(o,e){ab(o,e);var s=Sa(e.value),a=e.type;if(s!=null)a==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+s):o.value!==""+s&&(o.value=""+s);else if(a==="submit"||a==="reset"){o.removeAttribute("value");return}e.hasOwnProperty("value")?cb(o,e.type,s):e.hasOwnProperty("defaultValue")&&cb(o,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(o.defaultChecked=!!e.defaultChecked)}function db(o,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var a=e.type;if(!(a!=="submit"&&a!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+o._wrapperState.initialValue,s||e===o.value||(o.value=e),o.defaultValue=e}s=o.name,s!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,s!==""&&(o.name=s)}function cb(o,e,s){(e!=="number"||Xa(o.ownerDocument)!==o)&&(s==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+s&&(o.defaultValue=""+s))}var eb=Array.isArray;function fb(o,e,s,a){if(o=o.options,e){e={};for(var c=0;c<s.length;c++)e["$"+s[c]]=!0;for(s=0;s<o.length;s++)c=e.hasOwnProperty("$"+o[s].value),o[s].selected!==c&&(o[s].selected=c),c&&a&&(o[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,c=0;c<o.length;c++){if(o[c].value===s){o[c].selected=!0,a&&(o[c].defaultSelected=!0);return}e!==null||o[c].disabled||(e=o[c])}e!==null&&(e.selected=!0)}}function gb(o,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}e=s}e==null&&(e=""),s=e}o._wrapperState={initialValue:Sa(s)}}function ib(o,e){var s=Sa(e.value),a=Sa(e.defaultValue);s!=null&&(s=""+s,s!==o.value&&(o.value=s),e.defaultValue==null&&o.defaultValue!==s&&(o.defaultValue=s)),a!=null&&(o.defaultValue=""+a)}function jb(o){var e=o.textContent;e===o._wrapperState.initialValue&&e!==""&&e!==null&&(o.value=e)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,e){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(e):o==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,a,c){MSApp.execUnsafeLocalFunction(function(){return o(e,s,a,c)})}:o}(function(o,e){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;e.firstChild;)o.appendChild(e.firstChild)}});function ob(o,e){if(e){var s=o.firstChild;if(s&&s===o.lastChild&&s.nodeType===3){s.nodeValue=e;return}}o.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(e){e=e+o.charAt(0).toUpperCase()+o.substring(1),pb[e]=pb[o]})});function rb(o,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(o)&&pb[o]?(""+e).trim():e+"px"}function sb(o,e){o=o.style;for(var s in e)if(e.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=rb(s,e[s],a);s==="float"&&(s="cssFloat"),a?o.setProperty(s,c):o[s]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,e){if(e){if(tb[o]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,o));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(o,e){if(o.indexOf("-")===-1)return typeof e.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p(280));var e=o.stateNode;e&&(e=Db(e),yb(o.stateNode,o.type,e))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,e=Ab;if(Ab=zb=null,Bb(o),e)for(o=0;o<e.length;o++)Bb(e[o])}}function Gb(o,e){return o(e)}function Hb(){}var Ib=!1;function Jb(o,e,s){if(Ib)return o(e,s);Ib=!0;try{return Gb(o,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,e){var s=o.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(o=o.type,a=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!a;break e;default:o=!1}if(o)return null;if(s&&typeof s!="function")throw Error(p(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,e,s,a,c,d,h,_,b){var $=Array.prototype.slice.call(arguments,3);try{e.apply(s,$)}catch(j){this.onError(j)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,e,s,a,c,d,h,_,b){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,e,s,a,c,d,h,_,b){if(Tb.apply(this,arguments),Ob){if(Ob){var $=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=$)}}function Vb(o){var e=o,s=o;if(o.alternate)for(;e.return;)e=e.return;else{o=e;do e=o,e.flags&4098&&(s=e.return),o=e.return;while(o)}return e.tag===3?s:null}function Wb(o){if(o.tag===13){var e=o.memoizedState;if(e===null&&(o=o.alternate,o!==null&&(e=o.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p(188))}function Yb(o){var e=o.alternate;if(!e){if(e=Vb(o),e===null)throw Error(p(188));return e!==o?null:o}for(var s=o,a=e;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return Xb(c),o;if(d===a)return Xb(c),e;d=d.sibling}throw Error(p(188))}if(s.return!==a.return)s=c,a=d;else{for(var h=!1,_=c.child;_;){if(_===s){h=!0,s=c,a=d;break}if(_===a){h=!0,a=c,s=d;break}_=_.sibling}if(!h){for(_=d.child;_;){if(_===s){h=!0,s=d,a=c;break}if(_===a){h=!0,a=d,s=c;break}_=_.sibling}if(!h)throw Error(p(189))}}if(s.alternate!==a)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?o:e}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var e=$b(o);if(e!==null)return e;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,e){var s=o.pendingLanes;if(s===0)return 0;var a=0,c=o.suspendedLanes,d=o.pingedLanes,h=s&268435455;if(h!==0){var _=h&~c;_!==0?a=tc(_):(d&=h,d!==0&&(a=tc(d)))}else h=s&~c,h!==0?a=tc(h):d!==0&&(a=tc(d));if(a===0)return 0;if(e!==0&&e!==a&&!(e&c)&&(c=a&-a,d=e&-e,c>=d||c===16&&(d&4194240)!==0))return e;if(a&4&&(a|=s&16),e=o.entangledLanes,e!==0)for(o=o.entanglements,e&=a;0<e;)s=31-oc(e),c=1<<s,a|=o[s],e&=~c;return a}function vc(o,e){switch(o){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,e){for(var s=o.suspendedLanes,a=o.pingedLanes,c=o.expirationTimes,d=o.pendingLanes;0<d;){var h=31-oc(d),_=1<<h,b=c[h];b===-1?(!(_&s)||_&a)&&(c[h]=vc(_,e)):b<=e&&(o.expiredLanes|=_),d&=~_}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var e=[],s=0;31>s;s++)e.push(o);return e}function Ac(o,e,s){o.pendingLanes|=e,e!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,e=31-oc(e),o[e]=s}function Bc(o,e){var s=o.pendingLanes&~e;o.pendingLanes=e,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=e,o.mutableReadLanes&=e,o.entangledLanes&=e,e=o.entanglements;var a=o.eventTimes;for(o=o.expirationTimes;0<s;){var c=31-oc(s),d=1<<c;e[c]=0,a[c]=-1,o[c]=-1,s&=~d}}function Cc(o,e){var s=o.entangledLanes|=e;for(o=o.entanglements;s;){var a=31-oc(s),c=1<<a;c&e|o[a]&e&&(o[a]|=e),s&=~c}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,e){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(o,e,s,a,c,d){return o===null||o.nativeEvent!==d?(o={blockedOn:e,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),o):(o.eventSystemFlags|=a,e=o.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),o)}function Uc(o,e,s,a,c){switch(e){case"focusin":return Lc=Tc(Lc,o,e,s,a,c),!0;case"dragenter":return Mc=Tc(Mc,o,e,s,a,c),!0;case"mouseover":return Nc=Tc(Nc,o,e,s,a,c),!0;case"pointerover":var d=c.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,o,e,s,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Pc.set(d,Tc(Pc.get(d)||null,o,e,s,a,c)),!0}return!1}function Vc(o){var e=Wc(o.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){o.blockedOn=e,Ic(o.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){o.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var e=o.targetContainers;0<e.length;){var s=Yc(o.domEventName,o.eventSystemFlags,e[0],o.nativeEvent);if(s===null){s=o.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return e=Cb(s),e!==null&&Fc(e),o.blockedOn=s,!1;e.shift()}return!0}function Zc(o,e,s){Xc(o)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,e){o.blockedOn===e&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function e(c){return ad(c,o)}if(0<Kc.length){ad(Kc[0],o);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===o&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===o&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,e,s,a){var c=C,d=cd.transition;cd.transition=null;try{C=1,fd(o,e,s,a)}finally{C=c,cd.transition=d}}function gd(o,e,s,a){var c=C,d=cd.transition;cd.transition=null;try{C=4,fd(o,e,s,a)}finally{C=c,cd.transition=d}}function fd(o,e,s,a){if(dd){var c=Yc(o,e,s,a);if(c===null)hd(o,e,a,id,s),Sc(o,a);else if(Uc(c,o,e,s,a))a.stopPropagation();else if(Sc(o,a),e&4&&-1<Rc.indexOf(o)){for(;c!==null;){var d=Cb(c);if(d!==null&&Ec(d),d=Yc(o,e,s,a),d===null&&hd(o,e,a,id,s),d===c)break;c=d}c!==null&&a.stopPropagation()}else hd(o,e,a,null,s)}}var id=null;function Yc(o,e,s,a){if(id=null,o=xb(a),o=Wc(o),o!==null)if(e=Vb(o),e===null)o=null;else if(s=e.tag,s===13){if(o=Wb(e),o!==null)return o;o=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;o=null}else e!==o&&(o=null);return id=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,e=ld,s=e.length,a,c="value"in kd?kd.value:kd.textContent,d=c.length;for(o=0;o<s&&e[o]===c[o];o++);var h=s-o;for(a=1;a<=h&&e[s-a]===c[d-a];a++);return md=c.slice(o,1<a?1-a:void 0)}function od(o){var e=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&e===13&&(o=13)):o=e,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function e(s,a,c,d,h){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var _ in o)o.hasOwnProperty(_)&&(s=o[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(o):(o=Od[o])?!!e[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var e=Md[o.key]||o.key;if(e!=="Unidentified")return e}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(o,e){switch(o){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,e){switch(o){case"compositionend":return he(e);case"keypress":return e.which!==32?null:(fe=!0,ee);case"textInput":return o=e.data,o===ee&&fe?null:o;default:return null}}function ke(o,e){if(ie)return o==="compositionend"||!ae&&ge(o,e)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e==="input"?!!le[o.type]:e==="textarea"}function ne(o,e,s,a){Eb(a),e=oe(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,a),o.push({event:s,listeners:e}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var e=ue(o);if(Wa(e))return o}function ve(o,e){if(o==="change")return e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var e=[];ne(e,qe,o,xb(o)),Jb(re,e)}}function Ce(o,e,s){o==="focusin"?(Ae(),pe=e,qe=s,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,e){if(o==="click")return te(e)}function Fe(o,e){if(o==="input"||o==="change")return te(e)}function Ge(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,e){if(He(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;var s=Object.keys(o),a=Object.keys(e);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!ja.call(e,c)||!He(o[c],e[c]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,e){var s=Je(o);o=0;for(var a;s;){if(s.nodeType===3){if(a=o+s.textContent.length,o<=e&&a>=e)return{node:s,offset:e-o};o=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(o,e){return o&&e?o===e?!0:o&&o.nodeType===3?!1:e&&e.nodeType===3?Le(o,e.parentNode):"contains"in o?o.contains(e):o.compareDocumentPosition?!!(o.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var o=window,e=Xa();e instanceof o.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)o=e.contentWindow;else break;e=Xa(o.document)}return e}function Ne(o){var e=o&&o.nodeName&&o.nodeName.toLowerCase();return e&&(e==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||e==="textarea"||o.contentEditable==="true")}function Oe(o){var e=Me(),s=o.focusedElem,a=o.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(e=a.start,o=a.end,o===void 0&&(o=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(o,s.value.length);else if(o=(e=s.ownerDocument||document)&&e.defaultView||window,o.getSelection){o=o.getSelection();var c=s.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!o.extend&&d>a&&(c=a,a=d,d=c),c=Ke(s,d);var h=Ke(s,a);c&&h&&(o.rangeCount!==1||o.anchorNode!==c.node||o.anchorOffset!==c.offset||o.focusNode!==h.node||o.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),o.removeAllRanges(),d>a?(o.addRange(e),o.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),o.addRange(e)))}}for(e=[],o=s;o=o.parentNode;)o.nodeType===1&&e.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)o=e[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,e,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(e=new td("onSelect","select",null,e,s),o.push({event:e,listeners:a}),e.target=Qe)))}function Ve(o,e){var s={};return s[o.toLowerCase()]=e.toLowerCase(),s["Webkit"+o]="webkit"+e,s["Moz"+o]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var e=We[o],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[o]=e[s];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,e){df.set(o,e),fa(e,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,e,s){var a=o.type||"unknown-event";o.currentTarget=s,Ub(a,e,void 0,o),o.currentTarget=null}function se(o,e){e=(e&4)!==0;for(var s=0;s<o.length;s++){var a=o[s],c=a.event;a=a.listeners;e:{var d=void 0;if(e)for(var h=a.length-1;0<=h;h--){var _=a[h],b=_.instance,$=_.currentTarget;if(_=_.listener,b!==d&&c.isPropagationStopped())break e;nf(c,_,$),d=b}else for(h=0;h<a.length;h++){if(_=a[h],b=_.instance,$=_.currentTarget,_=_.listener,b!==d&&c.isPropagationStopped())break e;nf(c,_,$),d=b}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var a=o+"__bubble";s.has(a)||(pf(e,o,2,!1),s.add(a))}function qf(o,e,s){var a=0;e&&(a|=4),pf(s,o,a,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,o),qf(s,!0,o))});var e=o.nodeType===9?o:o.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(o,e,s,a){switch(jd(e)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}s=c.bind(null,e,s,o),c=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),a?c!==void 0?o.addEventListener(e,s,{capture:!0,passive:c}):o.addEventListener(e,s,!0):c!==void 0?o.addEventListener(e,s,{passive:c}):o.addEventListener(e,s,!1)}function hd(o,e,s,a,c){var d=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(h===4)for(h=a.return;h!==null;){var b=h.tag;if((b===3||b===4)&&(b=h.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;h=h.return}for(;_!==null;){if(h=Wc(_),h===null)return;if(b=h.tag,b===5||b===6){a=d=h;continue e}_=_.parentNode}}a=a.return}Jb(function(){var $=d,j=xb(s),rt=[];e:{var it=df.get(o);if(it!==void 0){var ot=td,ht=o;switch(o){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":ot=Rd;break;case"focusin":ht="focus",ot=Fd;break;case"focusout":ht="blur",ot=Fd;break;case"beforeblur":case"afterblur":ot=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Vd;break;case $e:case af:case bf:ot=Hd;break;case cf:ot=Xd;break;case"scroll":ot=vd;break;case"wheel":ot=Zd;break;case"copy":case"cut":case"paste":ot=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Td}var bt=(e&4)!==0,pt=!bt&&o==="scroll",dt=bt?it!==null?it+"Capture":null:it;bt=[];for(var lt=$,at;lt!==null;){at=lt;var xt=at.stateNode;if(at.tag===5&&xt!==null&&(at=xt,dt!==null&&(xt=Kb(lt,dt),xt!=null&&bt.push(tf(lt,xt,at)))),pt)break;lt=lt.return}0<bt.length&&(it=new ot(it,ht,null,s,j),rt.push({event:it,listeners:bt}))}}if(!(e&7)){e:{if(it=o==="mouseover"||o==="pointerover",ot=o==="mouseout"||o==="pointerout",it&&s!==wb&&(ht=s.relatedTarget||s.fromElement)&&(Wc(ht)||ht[uf]))break e;if((ot||it)&&(it=j.window===j?j:(it=j.ownerDocument)?it.defaultView||it.parentWindow:window,ot?(ht=s.relatedTarget||s.toElement,ot=$,ht=ht?Wc(ht):null,ht!==null&&(pt=Vb(ht),ht!==pt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ot=null,ht=$),ot!==ht)){if(bt=Bd,xt="onMouseLeave",dt="onMouseEnter",lt="mouse",(o==="pointerout"||o==="pointerover")&&(bt=Td,xt="onPointerLeave",dt="onPointerEnter",lt="pointer"),pt=ot==null?it:ue(ot),at=ht==null?it:ue(ht),it=new bt(xt,lt+"leave",ot,s,j),it.target=pt,it.relatedTarget=at,xt=null,Wc(j)===$&&(bt=new bt(dt,lt+"enter",ht,s,j),bt.target=at,bt.relatedTarget=pt,xt=bt),pt=xt,ot&&ht)t:{for(bt=ot,dt=ht,lt=0,at=bt;at;at=vf(at))lt++;for(at=0,xt=dt;xt;xt=vf(xt))at++;for(;0<lt-at;)bt=vf(bt),lt--;for(;0<at-lt;)dt=vf(dt),at--;for(;lt--;){if(bt===dt||dt!==null&&bt===dt.alternate)break t;bt=vf(bt),dt=vf(dt)}bt=null}else bt=null;ot!==null&&wf(rt,it,ot,bt,!1),ht!==null&&pt!==null&&wf(rt,pt,ht,bt,!0)}}e:{if(it=$?ue($):window,ot=it.nodeName&&it.nodeName.toLowerCase(),ot==="select"||ot==="input"&&it.type==="file")var Rt=ve;else if(me(it))if(we)Rt=Fe;else{Rt=De;var Tt=Ce}else(ot=it.nodeName)&&ot.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(Rt=Ee);if(Rt&&(Rt=Rt(o,$))){ne(rt,Rt,s,j);break e}Tt&&Tt(o,it,$),o==="focusout"&&(Tt=it._wrapperState)&&Tt.controlled&&it.type==="number"&&cb(it,"number",it.value)}switch(Tt=$?ue($):window,o){case"focusin":(me(Tt)||Tt.contentEditable==="true")&&(Qe=Tt,Re=$,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(rt,s,j);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(rt,s,j)}var It;if(ae)e:{switch(o){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ie?ge(o,s)&&(Bt="onCompositionEnd"):o==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(de&&s.locale!=="ko"&&(ie||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ie&&(It=nd()):(kd=j,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Tt=oe($,Bt),0<Tt.length&&(Bt=new Ld(Bt,o,null,s,j),rt.push({event:Bt,listeners:Tt}),It?Bt.data=It:(It=he(s),It!==null&&(Bt.data=It)))),(It=ce?je(o,s):ke(o,s))&&($=oe($,"onBeforeInput"),0<$.length&&(j=new Ld("onBeforeInput","beforeinput",null,s,j),rt.push({event:j,listeners:$}),j.data=It))}se(rt,e)})}function tf(o,e,s){return{instance:o,listener:e,currentTarget:s}}function oe(o,e){for(var s=e+"Capture",a=[];o!==null;){var c=o,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Kb(o,s),d!=null&&a.unshift(tf(o,d,c)),d=Kb(o,e),d!=null&&a.push(tf(o,d,c))),o=o.return}return a}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,e,s,a,c){for(var d=e._reactName,h=[];s!==null&&s!==a;){var _=s,b=_.alternate,$=_.stateNode;if(b!==null&&b===a)break;_.tag===5&&$!==null&&(_=$,c?(b=Kb(s,d),b!=null&&h.unshift(tf(s,b,_))):c||(b=Kb(s,d),b!=null&&h.push(tf(s,b,_)))),s=s.return}h.length!==0&&o.push({event:e,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,e,s){if(e=zf(e),zf(o)!==e&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,e){return o==="textarea"||o==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,e){var s=e,a=0;do{var c=s.nextSibling;if(o.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){o.removeChild(c),bd(e);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);bd(e)}function Lf(o){for(;o!=null;o=o.nextSibling){var e=o.nodeType;if(e===1||e===3)break;if(e===8){if(e=o.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var e=0;o;){if(o.nodeType===8){var s=o.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return o;e--}else s==="/$"&&e++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var e=o[Of];if(e)return e;for(var s=o.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(o=Mf(o);o!==null;){if(s=o[Of])return s;o=Mf(o)}return e}o=s,s=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,e){Tf++,Sf[Tf]=o.current,o.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,e){var s=o.type.contextTypes;if(!s)return Vf;var a=o.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===e)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=e[d];return a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=e,o.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,e,s){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,s)}function bg(o,e,s){var a=o.stateNode;if(e=e.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in e))throw Error(p(108,Ra(o)||"Unknown",c));return A({},s,a)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,e,s){var a=o.stateNode;if(!a)throw Error(p(169));s?(o=bg(o,e,Xf),a.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,e=C;try{var s=eg;for(C=1;o<s.length;o++){var a=s[o];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),c}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,e){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=e}function ug(o,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var a=rg;o=sg;var c=32-oc(a)-1;a&=~(1<<c),s+=1;var d=32-oc(e)+c;if(30<d){var h=c-c%5;d=(a&(1<<h)-1).toString(32),a>>=h,c-=h,rg=1<<32-oc(e)+c|s<<c|a,sg=d+o}else rg=1<<d|s<<c|a,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=o,e=o.deletions,e===null?(o.deletions=[s],o.flags|=16):e.push(s)}function Cg(o,e){switch(o.tag){case 5:var s=o.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(o.stateNode=e,xg=o,yg=Lf(e.firstChild),!0):!1;case 6:return e=o.pendingProps===""||e.nodeType!==3?null:e,e!==null?(o.stateNode=e,xg=o,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=o,o.child=s,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var e=yg;if(e){var s=e;if(!Cg(o,e)){if(Dg(o))throw Error(p(418));e=Lf(s.nextSibling);var a=xg;e&&Cg(o,e)?Ag(a,s):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var e;if((e=o.tag!==3)&&!(e=o.tag!==5)&&(e=o.type,e=e!=="head"&&e!=="body"&&!Ef(o.type,o.memoizedProps)),e&&(e=yg)){if(Dg(o))throw Hg(),Error(p(418));for(;e;)Ag(o,e),e=Lf(e.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p(317));e:{for(o=o.nextSibling,e=0;o;){if(o.nodeType===8){var s=o.data;if(s==="/$"){if(e===0){yg=Lf(o.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,e,s){if(o=s.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var a=s.stateNode}if(!a)throw Error(p(147,o));var c=a,d=""+o;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===d?e.ref:(e=function(h){var _=c.refs;h===null?delete _[d]:_[d]=h},e._stringRef=d,e)}if(typeof o!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,o))}return o}function Mg(o,e){throw o=Object.prototype.toString.call(e),Error(p(31,o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o))}function Ng(o){var e=o._init;return e(o._payload)}function Og(o){function e(dt,lt){if(o){var at=dt.deletions;at===null?(dt.deletions=[lt],dt.flags|=16):at.push(lt)}}function s(dt,lt){if(!o)return null;for(;lt!==null;)e(dt,lt),lt=lt.sibling;return null}function a(dt,lt){for(dt=new Map;lt!==null;)lt.key!==null?dt.set(lt.key,lt):dt.set(lt.index,lt),lt=lt.sibling;return dt}function c(dt,lt){return dt=Pg(dt,lt),dt.index=0,dt.sibling=null,dt}function d(dt,lt,at){return dt.index=at,o?(at=dt.alternate,at!==null?(at=at.index,at<lt?(dt.flags|=2,lt):at):(dt.flags|=2,lt)):(dt.flags|=1048576,lt)}function h(dt){return o&&dt.alternate===null&&(dt.flags|=2),dt}function _(dt,lt,at,xt){return lt===null||lt.tag!==6?(lt=Qg(at,dt.mode,xt),lt.return=dt,lt):(lt=c(lt,at),lt.return=dt,lt)}function b(dt,lt,at,xt){var Rt=at.type;return Rt===ya?j(dt,lt,at.props.children,xt,at.key):lt!==null&&(lt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&Ng(Rt)===lt.type)?(xt=c(lt,at.props),xt.ref=Lg(dt,lt,at),xt.return=dt,xt):(xt=Rg(at.type,at.key,at.props,null,dt.mode,xt),xt.ref=Lg(dt,lt,at),xt.return=dt,xt)}function $(dt,lt,at,xt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==at.containerInfo||lt.stateNode.implementation!==at.implementation?(lt=Sg(at,dt.mode,xt),lt.return=dt,lt):(lt=c(lt,at.children||[]),lt.return=dt,lt)}function j(dt,lt,at,xt,Rt){return lt===null||lt.tag!==7?(lt=Tg(at,dt.mode,xt,Rt),lt.return=dt,lt):(lt=c(lt,at),lt.return=dt,lt)}function rt(dt,lt,at){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return lt=Qg(""+lt,dt.mode,at),lt.return=dt,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return at=Rg(lt.type,lt.key,lt.props,null,dt.mode,at),at.ref=Lg(dt,null,lt),at.return=dt,at;case wa:return lt=Sg(lt,dt.mode,at),lt.return=dt,lt;case Ha:var xt=lt._init;return rt(dt,xt(lt._payload),at)}if(eb(lt)||Ka(lt))return lt=Tg(lt,dt.mode,at,null),lt.return=dt,lt;Mg(dt,lt)}return null}function it(dt,lt,at,xt){var Rt=lt!==null?lt.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return Rt!==null?null:_(dt,lt,""+at,xt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return at.key===Rt?b(dt,lt,at,xt):null;case wa:return at.key===Rt?$(dt,lt,at,xt):null;case Ha:return Rt=at._init,it(dt,lt,Rt(at._payload),xt)}if(eb(at)||Ka(at))return Rt!==null?null:j(dt,lt,at,xt,null);Mg(dt,at)}return null}function ot(dt,lt,at,xt,Rt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return dt=dt.get(at)||null,_(lt,dt,""+xt,Rt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return dt=dt.get(xt.key===null?at:xt.key)||null,b(lt,dt,xt,Rt);case wa:return dt=dt.get(xt.key===null?at:xt.key)||null,$(lt,dt,xt,Rt);case Ha:var Tt=xt._init;return ot(dt,lt,at,Tt(xt._payload),Rt)}if(eb(xt)||Ka(xt))return dt=dt.get(at)||null,j(lt,dt,xt,Rt,null);Mg(lt,xt)}return null}function ht(dt,lt,at,xt){for(var Rt=null,Tt=null,It=lt,Bt=lt=0,Pt=null;It!==null&&Bt<at.length;Bt++){It.index>Bt?(Pt=It,It=null):Pt=It.sibling;var zt=it(dt,It,at[Bt],xt);if(zt===null){It===null&&(It=Pt);break}o&&It&&zt.alternate===null&&e(dt,It),lt=d(zt,lt,Bt),Tt===null?Rt=zt:Tt.sibling=zt,Tt=zt,It=Pt}if(Bt===at.length)return s(dt,It),I&&tg(dt,Bt),Rt;if(It===null){for(;Bt<at.length;Bt++)It=rt(dt,at[Bt],xt),It!==null&&(lt=d(It,lt,Bt),Tt===null?Rt=It:Tt.sibling=It,Tt=It);return I&&tg(dt,Bt),Rt}for(It=a(dt,It);Bt<at.length;Bt++)Pt=ot(It,dt,Bt,at[Bt],xt),Pt!==null&&(o&&Pt.alternate!==null&&It.delete(Pt.key===null?Bt:Pt.key),lt=d(Pt,lt,Bt),Tt===null?Rt=Pt:Tt.sibling=Pt,Tt=Pt);return o&&It.forEach(function(Ht){return e(dt,Ht)}),I&&tg(dt,Bt),Rt}function bt(dt,lt,at,xt){var Rt=Ka(at);if(typeof Rt!="function")throw Error(p(150));if(at=Rt.call(at),at==null)throw Error(p(151));for(var Tt=Rt=null,It=lt,Bt=lt=0,Pt=null,zt=at.next();It!==null&&!zt.done;Bt++,zt=at.next()){It.index>Bt?(Pt=It,It=null):Pt=It.sibling;var Ht=it(dt,It,zt.value,xt);if(Ht===null){It===null&&(It=Pt);break}o&&It&&Ht.alternate===null&&e(dt,It),lt=d(Ht,lt,Bt),Tt===null?Rt=Ht:Tt.sibling=Ht,Tt=Ht,It=Pt}if(zt.done)return s(dt,It),I&&tg(dt,Bt),Rt;if(It===null){for(;!zt.done;Bt++,zt=at.next())zt=rt(dt,zt.value,xt),zt!==null&&(lt=d(zt,lt,Bt),Tt===null?Rt=zt:Tt.sibling=zt,Tt=zt);return I&&tg(dt,Bt),Rt}for(It=a(dt,It);!zt.done;Bt++,zt=at.next())zt=ot(It,dt,Bt,zt.value,xt),zt!==null&&(o&&zt.alternate!==null&&It.delete(zt.key===null?Bt:zt.key),lt=d(zt,lt,Bt),Tt===null?Rt=zt:Tt.sibling=zt,Tt=zt);return o&&It.forEach(function(Ut){return e(dt,Ut)}),I&&tg(dt,Bt),Rt}function pt(dt,lt,at,xt){if(typeof at=="object"&&at!==null&&at.type===ya&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case va:e:{for(var Rt=at.key,Tt=lt;Tt!==null;){if(Tt.key===Rt){if(Rt=at.type,Rt===ya){if(Tt.tag===7){s(dt,Tt.sibling),lt=c(Tt,at.props.children),lt.return=dt,dt=lt;break e}}else if(Tt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&Ng(Rt)===Tt.type){s(dt,Tt.sibling),lt=c(Tt,at.props),lt.ref=Lg(dt,Tt,at),lt.return=dt,dt=lt;break e}s(dt,Tt);break}else e(dt,Tt);Tt=Tt.sibling}at.type===ya?(lt=Tg(at.props.children,dt.mode,xt,at.key),lt.return=dt,dt=lt):(xt=Rg(at.type,at.key,at.props,null,dt.mode,xt),xt.ref=Lg(dt,lt,at),xt.return=dt,dt=xt)}return h(dt);case wa:e:{for(Tt=at.key;lt!==null;){if(lt.key===Tt)if(lt.tag===4&&lt.stateNode.containerInfo===at.containerInfo&&lt.stateNode.implementation===at.implementation){s(dt,lt.sibling),lt=c(lt,at.children||[]),lt.return=dt,dt=lt;break e}else{s(dt,lt);break}else e(dt,lt);lt=lt.sibling}lt=Sg(at,dt.mode,xt),lt.return=dt,dt=lt}return h(dt);case Ha:return Tt=at._init,pt(dt,lt,Tt(at._payload),xt)}if(eb(at))return ht(dt,lt,at,xt);if(Ka(at))return bt(dt,lt,at,xt);Mg(dt,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,lt!==null&&lt.tag===6?(s(dt,lt.sibling),lt=c(lt,at),lt.return=dt,dt=lt):(s(dt,lt),lt=Qg(at,dt.mode,xt),lt.return=dt,dt=lt),h(dt)):s(dt,lt)}return pt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(o){var e=Wg.current;E(Wg),o._currentValue=e}function bh(o,e,s){for(;o!==null;){var a=o.alternate;if((o.childLanes&e)!==e?(o.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),o===s)break;o=o.return}}function ch(o,e){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&e&&(dh=!0),o.firstContext=null)}function eh(o){var e=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return e}var fh=null;function gh(o){fh===null?fh=[o]:fh.push(o)}function hh(o,e,s,a){var c=e.interleaved;return c===null?(s.next=s,gh(e)):(s.next=c.next,c.next=s),e.interleaved=s,ih(o,a)}function ih(o,e){o.lanes|=e;var s=o.alternate;for(s!==null&&(s.lanes|=e),s=o,o=o.return;o!==null;)o.childLanes|=e,s=o.alternate,s!==null&&(s.childLanes|=e),s=o,o=o.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(o,e){o=o.updateQueue,e.updateQueue===o&&(e.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh(o,e){return{eventTime:o,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(o,e,s){var a=o.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),a.pending=e,ih(o,s)}return c=a.interleaved,c===null?(e.next=e,gh(a)):(e.next=c.next,c.next=e),a.interleaved=e,ih(o,s)}function oh(o,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var a=e.lanes;a&=o.pendingLanes,s|=a,e.lanes=s,Cc(o,s)}}function ph(o,e){var s=o.updateQueue,a=o.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?c=d=e:d=d.next=e}else c=d=e;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},o.updateQueue=s;return}o=s.lastBaseUpdate,o===null?s.firstBaseUpdate=e:o.next=e,s.lastBaseUpdate=e}function qh(o,e,s,a){var c=o.updateQueue;jh=!1;var d=c.firstBaseUpdate,h=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,$=b.next;b.next=null,h===null?d=$:h.next=$,h=b;var j=o.alternate;j!==null&&(j=j.updateQueue,_=j.lastBaseUpdate,_!==h&&(_===null?j.firstBaseUpdate=$:_.next=$,j.lastBaseUpdate=b))}if(d!==null){var rt=c.baseState;h=0,j=$=b=null,_=d;do{var it=_.lane,ot=_.eventTime;if((a&it)===it){j!==null&&(j=j.next={eventTime:ot,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var ht=o,bt=_;switch(it=e,ot=s,bt.tag){case 1:if(ht=bt.payload,typeof ht=="function"){rt=ht.call(ot,rt,it);break e}rt=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=bt.payload,it=typeof ht=="function"?ht.call(ot,rt,it):ht,it==null)break e;rt=A({},rt,it);break e;case 2:jh=!0}}_.callback!==null&&_.lane!==0&&(o.flags|=64,it=c.effects,it===null?c.effects=[_]:it.push(_))}else ot={eventTime:ot,lane:it,tag:_.tag,payload:_.payload,callback:_.callback,next:null},j===null?($=j=ot,b=rt):j=j.next=ot,h|=it;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;it=_,_=it.next,it.next=null,c.lastBaseUpdate=it,c.shared.pending=null}}while(!0);if(j===null&&(b=rt),c.baseState=b,c.firstBaseUpdate=$,c.lastBaseUpdate=j,e=c.shared.interleaved,e!==null){c=e;do h|=c.lane,c=c.next;while(c!==e)}else d===null&&(c.shared.lanes=0);rh|=h,o.lanes=h,o.memoizedState=rt}}function sh(o,e,s){if(o=e.effects,e.effects=null,o!==null)for(e=0;e<o.length;e++){var a=o[e],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(p(191,c));c.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(o){if(o===th)throw Error(p(174));return o}function yh(o,e){switch(G(wh,e),G(vh,o),G(uh,th),o=e.nodeType,o){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:o=o===8?e.parentNode:e,e=o.namespaceURI||null,o=o.tagName,e=lb(e,o)}E(uh),G(uh,e)}function zh(){E(uh),E(vh),E(wh)}function Ah(o){xh(wh.current);var e=xh(uh.current),s=lb(e,o.type);e!==s&&(G(vh,o),G(uh,s))}function Bh(o){vh.current===o&&(E(uh),E(vh))}var L=Uf(0);function Ch(o){for(var e=o;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var o=0;o<Dh.length;o++)Dh[o]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(o,e){if(e===null)return!1;for(var s=0;s<e.length&&s<o.length;s++)if(!He(o[s],e[s]))return!1;return!0}function Nh(o,e,s,a,c,d){if(Hh=d,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=o===null||o.memoizedState===null?Oh:Ph,o=s(a,c),Jh){d=0;do{if(Jh=!1,Kh=0,25<=d)throw Error(p(301));d+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,o=s(a,c)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return o}function Sh(){var o=Kh!==0;return Kh=0,o}function Th(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=o:O=O.next=o,O}function Uh(){if(N===null){var o=M.alternate;o=o!==null?o.memoizedState:null}else o=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=o;else{if(o===null)throw Error(p(310));N=o,o={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=o:O=O.next=o}return O}function Vh(o,e){return typeof e=="function"?e(o):e}function Wh(o){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=o;var a=N,c=a.baseQueue,d=s.pending;if(d!==null){if(c!==null){var h=c.next;c.next=d.next,d.next=h}a.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,a=a.baseState;var _=h=null,b=null,$=d;do{var j=$.lane;if((Hh&j)===j)b!==null&&(b=b.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),a=$.hasEagerState?$.eagerState:o(a,$.action);else{var rt={lane:j,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};b===null?(_=b=rt,h=a):b=b.next=rt,M.lanes|=j,rh|=j}$=$.next}while($!==null&&$!==d);b===null?h=a:b.next=_,He(a,e.memoizedState)||(dh=!0),e.memoizedState=a,e.baseState=h,e.baseQueue=b,s.lastRenderedState=a}if(o=s.interleaved,o!==null){c=o;do d=c.lane,M.lanes|=d,rh|=d,c=c.next;while(c!==o)}else c===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Xh(o){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=o;var a=s.dispatch,c=s.pending,d=e.memoizedState;if(c!==null){s.pending=null;var h=c=c.next;do d=o(d,h.action),h=h.next;while(h!==c);He(d,e.memoizedState)||(dh=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),s.lastRenderedState=d}return[d,a]}function Yh(){}function Zh(o,e){var s=M,a=Uh(),c=e(),d=!He(a.memoizedState,c);if(d&&(a.memoizedState=c,dh=!0),a=a.queue,$h(ai.bind(null,s,a,o),[o]),a.getSnapshot!==e||d||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,a,c,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,e,c)}return c}function di(o,e,s){o.flags|=16384,o={getSnapshot:e,value:s},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[o]):(s=e.stores,s===null?e.stores=[o]:s.push(o))}function ci(o,e,s,a){e.value=s,e.getSnapshot=a,ei(e)&&fi(o)}function ai(o,e,s){return s(function(){ei(e)&&fi(o)})}function ei(o){var e=o.getSnapshot;o=o.value;try{var s=e();return!He(o,s)}catch{return!0}}function fi(o){var e=ih(o,1);e!==null&&gi(e,o,1,-1)}function hi(o){var e=Th();return typeof o=="function"&&(o=o()),e.memoizedState=e.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o},e.queue=o,o=o.dispatch=ii.bind(null,M,o),[e.memoizedState,o]}function bi(o,e,s,a){return o={tag:o,create:e,destroy:s,deps:a,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=o.next=o):(s=e.lastEffect,s===null?e.lastEffect=o.next=o:(a=s.next,s.next=o,o.next=a,e.lastEffect=o)),o}function ji(){return Uh().memoizedState}function ki(o,e,s,a){var c=Th();M.flags|=o,c.memoizedState=bi(1|e,s,void 0,a===void 0?null:a)}function li(o,e,s,a){var c=Uh();a=a===void 0?null:a;var d=void 0;if(N!==null){var h=N.memoizedState;if(d=h.destroy,a!==null&&Mh(a,h.deps)){c.memoizedState=bi(e,s,d,a);return}}M.flags|=o,c.memoizedState=bi(1|e,s,d,a)}function mi(o,e){return ki(8390656,8,o,e)}function $h(o,e){return li(2048,8,o,e)}function ni(o,e){return li(4,2,o,e)}function oi(o,e){return li(4,4,o,e)}function pi(o,e){if(typeof e=="function")return o=o(),e(o),function(){e(null)};if(e!=null)return o=o(),e.current=o,function(){e.current=null}}function qi(o,e,s){return s=s!=null?s.concat([o]):null,li(4,4,pi.bind(null,e,o),s)}function ri(){}function si(o,e){var s=Uh();e=e===void 0?null:e;var a=s.memoizedState;return a!==null&&e!==null&&Mh(e,a[1])?a[0]:(s.memoizedState=[o,e],o)}function ti(o,e){var s=Uh();e=e===void 0?null:e;var a=s.memoizedState;return a!==null&&e!==null&&Mh(e,a[1])?a[0]:(o=o(),s.memoizedState=[o,e],o)}function ui(o,e,s){return Hh&21?(He(s,e)||(s=yc(),M.lanes|=s,rh|=s,o.baseState=!0),e):(o.baseState&&(o.baseState=!1,dh=!0),o.memoizedState=s)}function vi(o,e){var s=C;C=s!==0&&4>s?s:4,o(!0);var a=Gh.transition;Gh.transition={};try{o(!1),e()}finally{C=s,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(o,e,s){var a=yi(o);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(o))Ai(e,s);else if(s=hh(o,e,s,a),s!==null){var c=R();gi(s,o,a,c),Bi(s,e,a)}}function ii(o,e,s){var a=yi(o),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(o))Ai(e,c);else{var d=o.alternate;if(o.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var h=e.lastRenderedState,_=d(h,s);if(c.hasEagerState=!0,c.eagerState=_,He(_,h)){var b=e.interleaved;b===null?(c.next=c,gh(e)):(c.next=b.next,b.next=c),e.interleaved=c;return}}catch{}finally{}s=hh(o,e,c,a),s!==null&&(c=R(),gi(s,o,a,c),Bi(s,e,a))}}function zi(o){var e=o.alternate;return o===M||e!==null&&e===M}function Ai(o,e){Jh=Ih=!0;var s=o.pending;s===null?e.next=e:(e.next=s.next,s.next=e),o.pending=e}function Bi(o,e,s){if(s&4194240){var a=e.lanes;a&=o.pendingLanes,s|=a,e.lanes=s,Cc(o,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(o,e){return Th().memoizedState=[o,e===void 0?null:e],o},useContext:eh,useEffect:mi,useImperativeHandle:function(o,e,s){return s=s!=null?s.concat([o]):null,ki(4194308,4,pi.bind(null,e,o),s)},useLayoutEffect:function(o,e){return ki(4194308,4,o,e)},useInsertionEffect:function(o,e){return ki(4,2,o,e)},useMemo:function(o,e){var s=Th();return e=e===void 0?null:e,o=o(),s.memoizedState=[o,e],o},useReducer:function(o,e,s){var a=Th();return e=s!==void 0?s(e):e,a.memoizedState=a.baseState=e,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:e},a.queue=o,o=o.dispatch=xi.bind(null,M,o),[a.memoizedState,o]},useRef:function(o){var e=Th();return o={current:o},e.memoizedState=o},useState:hi,useDebugValue:ri,useDeferredValue:function(o){return Th().memoizedState=o},useTransition:function(){var o=hi(!1),e=o[0];return o=vi.bind(null,o[1]),Th().memoizedState=o,[e,o]},useMutableSource:function(){},useSyncExternalStore:function(o,e,s){var a=M,c=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=e(),Q===null)throw Error(p(349));Hh&30||di(a,e,s)}c.memoizedState=s;var d={value:s,getSnapshot:e};return c.queue=d,mi(ai.bind(null,a,d,o),[o]),a.flags|=2048,bi(9,ci.bind(null,a,d,s,e),void 0,null),s},useId:function(){var o=Th(),e=Q.identifierPrefix;if(I){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,e=":"+e+"R"+s,s=Kh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Lh++,e=":"+e+"r"+s.toString(32)+":";return o.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return ui(e,N.memoizedState,o)},useTransition:function(){var o=Wh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var e=Uh();return N===null?e.memoizedState=o:ui(e,N.memoizedState,o)},useTransition:function(){var o=Xh(Vh)[0],e=Uh().memoizedState;return[o,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o,e){if(o&&o.defaultProps){e=A({},e),o=o.defaultProps;for(var s in o)e[s]===void 0&&(e[s]=o[s]);return e}return e}function Di(o,e,s,a){e=o.memoizedState,s=s(a,e),s=s==null?e:A({},e,s),o.memoizedState=s,o.lanes===0&&(o.updateQueue.baseState=s)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,e,s){o=o._reactInternals;var a=R(),c=yi(o),d=mh(a,c);d.payload=e,s!=null&&(d.callback=s),e=nh(o,d,c),e!==null&&(gi(e,o,c,a),oh(e,o,c))},enqueueReplaceState:function(o,e,s){o=o._reactInternals;var a=R(),c=yi(o),d=mh(a,c);d.tag=1,d.payload=e,s!=null&&(d.callback=s),e=nh(o,d,c),e!==null&&(gi(e,o,c,a),oh(e,o,c))},enqueueForceUpdate:function(o,e){o=o._reactInternals;var s=R(),a=yi(o),c=mh(s,a);c.tag=2,e!=null&&(c.callback=e),e=nh(o,c,a),e!==null&&(gi(e,o,a,s),oh(e,o,a))}};function Fi(o,e,s,a,c,d,h){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(a,d,h):e.prototype&&e.prototype.isPureReactComponent?!Ie(s,a)||!Ie(c,d):!0}function Gi(o,e,s){var a=!1,c=Vf,d=e.contextType;return typeof d=="object"&&d!==null?d=eh(d):(c=Zf(e)?Xf:H.current,a=e.contextTypes,d=(a=a!=null)?Yf(o,c):Vf),e=new e(s,d),o.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,o.stateNode=e,e._reactInternals=o,a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=d),e}function Hi(o,e,s,a){o=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,a),e.state!==o&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(o,e,s,a){var c=o.stateNode;c.props=s,c.state=o.memoizedState,c.refs={},kh(o);var d=e.contextType;typeof d=="object"&&d!==null?c.context=eh(d):(d=Zf(e)?Xf:H.current,c.context=Yf(o,d)),c.state=o.memoizedState,d=e.getDerivedStateFromProps,typeof d=="function"&&(Di(o,e,d,s),c.state=o.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(e=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),e!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(o,s,c,a),c.state=o.memoizedState),typeof c.componentDidMount=="function"&&(o.flags|=4194308)}function Ji(o,e){try{var s="",a=e;do s+=Pa(a),a=a.return;while(a);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:o,source:e,stack:c,digest:null}}function Ki(o,e,s){return{value:o,source:null,stack:s??null,digest:e??null}}function Li(o,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(o,e,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var a=e.value;return s.callback=function(){Oi||(Oi=!0,Pi=a),Li(o,e)},s}function Qi(o,e,s){s=mh(-1,s),s.tag=3;var a=o.type.getDerivedStateFromError;if(typeof a=="function"){var c=e.value;s.payload=function(){return a(c)},s.callback=function(){Li(o,e)}}var d=o.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Li(o,e),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),s}function Si(o,e,s){var a=o.pingCache;if(a===null){a=o.pingCache=new Mi;var c=new Set;a.set(e,c)}else c=a.get(e),c===void 0&&(c=new Set,a.set(e,c));c.has(s)||(c.add(s),o=Ti.bind(null,o,e,s),e.then(o,o))}function Ui(o){do{var e;if((e=o.tag===13)&&(e=o.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return o;o=o.return}while(o!==null);return null}function Vi(o,e,s,a,c){return o.mode&1?(o.flags|=65536,o.lanes=c,o):(o===e?o.flags|=65536:(o.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=mh(-1,1),e.tag=2,nh(s,e,1))),s.lanes|=1),o)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(o,e,s,a){e.child=o===null?Vg(e,null,s,a):Ug(e,o.child,s,a)}function Yi(o,e,s,a,c){s=s.render;var d=e.ref;return ch(e,c),a=Nh(o,e,s,a,d,c),s=Sh(),o!==null&&!dh?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~c,Zi(o,e,c)):(I&&s&&vg(e),e.flags|=1,Xi(o,e,a,c),e.child)}function $i(o,e,s,a,c){if(o===null){var d=s.type;return typeof d=="function"&&!aj(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=d,bj(o,e,d,a,c)):(o=Rg(s.type,null,a,e,e.mode,c),o.ref=e.ref,o.return=e,e.child=o)}if(d=o.child,!(o.lanes&c)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(h,a)&&o.ref===e.ref)return Zi(o,e,c)}return e.flags|=1,o=Pg(d,a),o.ref=e.ref,o.return=e,e.child=o}function bj(o,e,s,a,c){if(o!==null){var d=o.memoizedProps;if(Ie(d,a)&&o.ref===e.ref)if(dh=!1,e.pendingProps=a=d,(o.lanes&c)!==0)o.flags&131072&&(dh=!0);else return e.lanes=o.lanes,Zi(o,e,c)}return cj(o,e,s,a,c)}function dj(o,e,s){var a=e.pendingProps,c=a.children,d=o!==null?o.memoizedState:null;if(a.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return o=d!==null?d.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:o,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=o,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:s,G(ej,fj),fj|=a}else d!==null?(a=d.baseLanes|s,e.memoizedState=null):a=s,G(ej,fj),fj|=a;return Xi(o,e,c,s),e.child}function gj(o,e){var s=e.ref;(o===null&&s!==null||o!==null&&o.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function cj(o,e,s,a,c){var d=Zf(s)?Xf:H.current;return d=Yf(e,d),ch(e,c),s=Nh(o,e,s,a,d,c),a=Sh(),o!==null&&!dh?(e.updateQueue=o.updateQueue,e.flags&=-2053,o.lanes&=~c,Zi(o,e,c)):(I&&a&&vg(e),e.flags|=1,Xi(o,e,s,c),e.child)}function hj(o,e,s,a,c){if(Zf(s)){var d=!0;cg(e)}else d=!1;if(ch(e,c),e.stateNode===null)ij(o,e),Gi(e,s,a),Ii(e,s,a,c),a=!0;else if(o===null){var h=e.stateNode,_=e.memoizedProps;h.props=_;var b=h.context,$=s.contextType;typeof $=="object"&&$!==null?$=eh($):($=Zf(s)?Xf:H.current,$=Yf(e,$));var j=s.getDerivedStateFromProps,rt=typeof j=="function"||typeof h.getSnapshotBeforeUpdate=="function";rt||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==a||b!==$)&&Hi(e,h,a,$),jh=!1;var it=e.memoizedState;h.state=it,qh(e,a,h,c),b=e.memoizedState,_!==a||it!==b||Wf.current||jh?(typeof j=="function"&&(Di(e,s,j,a),b=e.memoizedState),(_=jh||Fi(e,s,_,a,it,b,$))?(rt||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=b),h.props=a,h.state=b,h.context=$,a=_):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{h=e.stateNode,lh(o,e),_=e.memoizedProps,$=e.type===e.elementType?_:Ci(e.type,_),h.props=$,rt=e.pendingProps,it=h.context,b=s.contextType,typeof b=="object"&&b!==null?b=eh(b):(b=Zf(s)?Xf:H.current,b=Yf(e,b));var ot=s.getDerivedStateFromProps;(j=typeof ot=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==rt||it!==b)&&Hi(e,h,a,b),jh=!1,it=e.memoizedState,h.state=it,qh(e,a,h,c);var ht=e.memoizedState;_!==rt||it!==ht||Wf.current||jh?(typeof ot=="function"&&(Di(e,s,ot,a),ht=e.memoizedState),($=jh||Fi(e,s,$,a,it,ht,b)||!1)?(j||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,ht,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,ht,b)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===o.memoizedProps&&it===o.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&it===o.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=ht),h.props=a,h.state=ht,h.context=b,a=$):(typeof h.componentDidUpdate!="function"||_===o.memoizedProps&&it===o.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&it===o.memoizedState||(e.flags|=1024),a=!1)}return jj(o,e,s,a,d,c)}function jj(o,e,s,a,c,d){gj(o,e);var h=(e.flags&128)!==0;if(!a&&!h)return c&&dg(e,s,!1),Zi(o,e,d);a=e.stateNode,Wi.current=e;var _=h&&typeof s.getDerivedStateFromError!="function"?null:a.render();return e.flags|=1,o!==null&&h?(e.child=Ug(e,o.child,null,d),e.child=Ug(e,null,_,d)):Xi(o,e,_,d),e.memoizedState=a.state,c&&dg(e,s,!0),e.child}function kj(o){var e=o.stateNode;e.pendingContext?ag(o,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(o,e.context,!1),yh(o,e.containerInfo)}function lj(o,e,s,a,c){return Ig(),Jg(c),e.flags|=256,Xi(o,e,s,a),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,e,s){var a=e.pendingProps,c=L.current,d=!1,h=(e.flags&128)!==0,_;if((_=h)||(_=o!==null&&o.memoizedState===null?!1:(c&2)!==0),_?(d=!0,e.flags&=-129):(o===null||o.memoizedState!==null)&&(c|=1),G(L,c&1),o===null)return Eg(e),o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(e.mode&1?o.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=a.children,o=a.fallback,d?(a=e.mode,d=e.child,h={mode:"hidden",children:h},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=pj(h,a,0,null),o=Tg(o,a,s,null),d.return=e,o.return=e,d.sibling=o,e.child=d,e.child.memoizedState=nj(s),e.memoizedState=mj,o):qj(e,h));if(c=o.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return rj(o,e,h,a,_,c,s);if(d){d=a.fallback,h=e.mode,c=o.child,_=c.sibling;var b={mode:"hidden",children:a.children};return!(h&1)&&e.child!==c?(a=e.child,a.childLanes=0,a.pendingProps=b,e.deletions=null):(a=Pg(c,b),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?d=Pg(_,d):(d=Tg(d,h,s,null),d.flags|=2),d.return=e,a.return=e,a.sibling=d,e.child=a,a=d,d=e.child,h=o.child.memoizedState,h=h===null?nj(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=o.childLanes&~s,e.memoizedState=mj,a}return d=o.child,o=d.sibling,a=Pg(d,{mode:"visible",children:a.children}),!(e.mode&1)&&(a.lanes=s),a.return=e,a.sibling=null,o!==null&&(s=e.deletions,s===null?(e.deletions=[o],e.flags|=16):s.push(o)),e.child=a,e.memoizedState=null,a}function qj(o,e){return e=pj({mode:"visible",children:e},o.mode,0,null),e.return=o,o.child=e}function sj(o,e,s,a){return a!==null&&Jg(a),Ug(e,o.child,null,s),o=qj(e,e.pendingProps.children),o.flags|=2,e.memoizedState=null,o}function rj(o,e,s,a,c,d,h){if(s)return e.flags&256?(e.flags&=-257,a=Ki(Error(p(422))),sj(o,e,h,a)):e.memoizedState!==null?(e.child=o.child,e.flags|=128,null):(d=a.fallback,c=e.mode,a=pj({mode:"visible",children:a.children},c,0,null),d=Tg(d,c,h,null),d.flags|=2,a.return=e,d.return=e,a.sibling=d,e.child=a,e.mode&1&&Ug(e,o.child,null,h),e.child.memoizedState=nj(h),e.memoizedState=mj,d);if(!(e.mode&1))return sj(o,e,h,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,d=Error(p(419)),a=Ki(d,a,void 0),sj(o,e,h,a)}if(_=(h&o.childLanes)!==0,dh||_){if(a=Q,a!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|h)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,ih(o,c),gi(a,o,c,-1))}return tj(),a=Ki(Error(p(421))),sj(o,e,h,a)}return c.data==="$?"?(e.flags|=128,e.child=o.child,e=uj.bind(null,o),c._reactRetry=e,null):(o=d.treeContext,yg=Lf(c.nextSibling),xg=e,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=e),e=qj(e,a.children),e.flags|=4096,e)}function vj(o,e,s){o.lanes|=e;var a=o.alternate;a!==null&&(a.lanes|=e),bh(o.return,e,s)}function wj(o,e,s,a,c){var d=o.memoizedState;d===null?o.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=c)}function xj(o,e,s){var a=e.pendingProps,c=a.revealOrder,d=a.tail;if(Xi(o,e,a.children,s),a=L.current,a&2)a=a&1|2,e.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=e.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,s,e);else if(o.tag===19)vj(o,s,e);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}a&=1}if(G(L,a),!(e.mode&1))e.memoizedState=null;else switch(c){case"forwards":for(s=e.child,c=null;s!==null;)o=s.alternate,o!==null&&Ch(o)===null&&(c=s),s=s.sibling;s=c,s===null?(c=e.child,e.child=null):(c=s.sibling,s.sibling=null),wj(e,!1,c,s,d);break;case"backwards":for(s=null,c=e.child,e.child=null;c!==null;){if(o=c.alternate,o!==null&&Ch(o)===null){e.child=c;break}o=c.sibling,c.sibling=s,s=c,c=o}wj(e,!0,s,null,d);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(o,e){!(e.mode&1)&&o!==null&&(o.alternate=null,e.alternate=null,e.flags|=2)}function Zi(o,e,s){if(o!==null&&(e.dependencies=o.dependencies),rh|=e.lanes,!(s&e.childLanes))return null;if(o!==null&&e.child!==o.child)throw Error(p(153));if(e.child!==null){for(o=e.child,s=Pg(o,o.pendingProps),e.child=s,s.return=e;o.sibling!==null;)o=o.sibling,s=s.sibling=Pg(o,o.pendingProps),s.return=e;s.sibling=null}return e.child}function yj(o,e,s){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var a=e.type._context,c=e.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=c;break;case 13:if(a=e.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):s&e.child.childLanes?oj(o,e,s):(G(L,L.current&1),o=Zi(o,e,s),o!==null?o.sibling:null);G(L,L.current&1);break;case 19:if(a=(s&e.childLanes)!==0,o.flags&128){if(a)return xj(o,e,s);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return e.lanes=0,dj(o,e,s)}return Zi(o,e,s)}var zj,Aj,Bj,Cj;zj=function(o,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(o,e,s,a){var c=o.memoizedProps;if(c!==a){o=e.stateNode,xh(uh.current);var d=null;switch(s){case"input":c=Ya(o,c),a=Ya(o,a),d=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),d=[];break;case"textarea":c=gb(o,c),a=gb(o,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(o.onclick=Bf)}ub(s,a);var h;s=null;for($ in c)if(!a.hasOwnProperty($)&&c.hasOwnProperty($)&&c[$]!=null)if($==="style"){var _=c[$];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?d||(d=[]):(d=d||[]).push($,null));for($ in a){var b=a[$];if(_=c!=null?c[$]:void 0,a.hasOwnProperty($)&&b!==_&&(b!=null||_!=null))if($==="style")if(_){for(h in _)!_.hasOwnProperty(h)||b&&b.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in b)b.hasOwnProperty(h)&&_[h]!==b[h]&&(s||(s={}),s[h]=b[h])}else s||(d||(d=[]),d.push($,s)),s=b;else $==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,_=_?_.__html:void 0,b!=null&&_!==b&&(d=d||[]).push($,b)):$==="children"?typeof b!="string"&&typeof b!="number"||(d=d||[]).push($,""+b):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(ea.hasOwnProperty($)?(b!=null&&$==="onScroll"&&D("scroll",o),d||_===b||(d=[])):(d=d||[]).push($,b))}s&&(d=d||[]).push("style",s);var $=d;(e.updateQueue=$)&&(e.flags|=4)}};Cj=function(o,e,s,a){s!==a&&(e.flags|=4)};function Dj(o,e){if(!I)switch(o.tailMode){case"hidden":e=o.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?o.tail=null:s.sibling=null;break;case"collapsed":s=o.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e||o.tail===null?o.tail=null:o.tail.sibling=null:a.sibling=null}}function S(o){var e=o.alternate!==null&&o.alternate.child===o.child,s=0,a=0;if(e)for(var c=o.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=o,c=c.sibling;else for(c=o.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=o,c=c.sibling;return o.subtreeFlags|=a,o.childLanes=s,e}function Ej(o,e,s){var a=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return a=e.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(o===null||o.child===null)&&(Gg(e)?e.flags|=4:o===null||o.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,e),S(e),null;case 5:Bh(e);var c=xh(wh.current);if(s=e.type,o!==null&&e.stateNode!=null)Bj(o,e,s,a,c),o.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!a){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(o=xh(uh.current),Gg(e)){a=e.stateNode,s=e.type;var d=e.memoizedProps;switch(a[Of]=e,a[Pf]=d,o=(e.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,d),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},D("invalid",a);break;case"textarea":hb(a,d),D("invalid",a)}ub(s,d),c=null;for(var h in d)if(d.hasOwnProperty(h)){var _=d[h];h==="children"?typeof _=="string"?a.textContent!==_&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,_,o),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,_,o),c=["children",""+_]):ea.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db(a,d,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}a=c,e.updateQueue=a,a!==null&&(e.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(s)),o==="http://www.w3.org/1999/xhtml"?s==="script"?(o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof a.is=="string"?o=h.createElement(s,{is:a.is}):(o=h.createElement(s),s==="select"&&(h=o,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):o=h.createElementNS(o,s),o[Of]=e,o[Pf]=a,zj(o,e,!1,!1),e.stateNode=o;e:{switch(h=vb(s,a),s){case"dialog":D("cancel",o),D("close",o),c=a;break;case"iframe":case"object":case"embed":D("load",o),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],o);c=a;break;case"source":D("error",o),c=a;break;case"img":case"image":case"link":D("error",o),D("load",o),c=a;break;case"details":D("toggle",o),c=a;break;case"input":Za(o,a),c=Ya(o,a),D("invalid",o);break;case"option":c=a;break;case"select":o._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,a),c=gb(o,a),D("invalid",o);break;default:c=a}ub(s,c),_=c;for(d in _)if(_.hasOwnProperty(d)){var b=_[d];d==="style"?sb(o,b):d==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&nb(o,b)):d==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&ob(o,b):typeof b=="number"&&ob(o,""+b):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?b!=null&&d==="onScroll"&&D("scroll",o):b!=null&&ta(o,d,b,h))}switch(s){case"input":Va(o),db(o,a,!1);break;case"textarea":Va(o),jb(o);break;case"option":a.value!=null&&o.setAttribute("value",""+Sa(a.value));break;case"select":o.multiple=!!a.multiple,d=a.value,d!=null?fb(o,!!a.multiple,d,!1):a.defaultValue!=null&&fb(o,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(o&&e.stateNode!=null)Cj(o,e,o.memoizedProps,a);else{if(typeof a!="string"&&e.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(e)){if(a=e.stateNode,s=e.memoizedProps,a[Of]=e,(d=a.nodeValue!==s)&&(o=xg,o!==null))switch(o.tag){case 3:Af(a.nodeValue,s,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(o.mode&1)!==0)}d&&(e.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=e,e.stateNode=a}return S(e),null;case 13:if(E(L),a=e.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,d=!1;else if(d=Gg(e),a!==null&&a.dehydrated!==null){if(o===null){if(!d)throw Error(p(318));if(d=e.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p(317));d[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),d=!1}else zg!==null&&(Fj(zg),zg=null),d=!0;if(!d)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(a=a!==null,a!==(o!==null&&o.memoizedState!==null)&&a&&(e.child.flags|=8192,e.mode&1&&(o===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return zh(),Aj(o,e),o===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return ah(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(L),d=e.memoizedState,d===null)return S(e),null;if(a=(e.flags&128)!==0,h=d.rendering,h===null)if(a)Dj(d,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=e.child;o!==null;){if(h=Ch(o),h!==null){for(e.flags|=128,Dj(d,!1),a=h.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),e.subtreeFlags=0,a=s,s=e.child;s!==null;)d=s,o=a,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=o,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,o=h.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s=s.sibling;return G(L,L.current&1|2),e.child}o=o.sibling}d.tail!==null&&B()>Gj&&(e.flags|=128,a=!0,Dj(d,!1),e.lanes=4194304)}else{if(!a)if(o=Ch(h),o!==null){if(e.flags|=128,a=!0,s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Dj(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!I)return S(e),null}else 2*B()-d.renderingStartTime>Gj&&s!==1073741824&&(e.flags|=128,a=!0,Dj(d,!1),e.lanes=4194304);d.isBackwards?(h.sibling=e.child,e.child=h):(s=d.last,s!==null?s.sibling=h:e.child=h,d.last=h)}return d.tail!==null?(e=d.tail,d.rendering=e,d.tail=e.sibling,d.renderingStartTime=B(),e.sibling=null,s=L.current,G(L,a?s&1|2:s&1),e):(S(e),null);case 22:case 23:return Hj(),a=e.memoizedState!==null,o!==null&&o.memoizedState!==null!==a&&(e.flags|=8192),a&&e.mode&1?fj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(o,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),o=e.flags,o&65536&&!(o&128)?(e.flags=o&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),o=e.memoizedState,o!==null&&o.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return o=e.flags,o&65536?(e.flags=o&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(o,e){var s=o.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W(o,e,a)}else s.current=null}function Mj(o,e,s){try{s()}catch(a){W(o,e,a)}}var Nj=!1;function Oj(o,e){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{s=(s=o.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,_=-1,b=-1,$=0,j=0,rt=o,it=null;t:for(;;){for(var ot;rt!==s||c!==0&&rt.nodeType!==3||(_=h+c),rt!==d||a!==0&&rt.nodeType!==3||(b=h+a),rt.nodeType===3&&(h+=rt.nodeValue.length),(ot=rt.firstChild)!==null;)it=rt,rt=ot;for(;;){if(rt===o)break t;if(it===s&&++$===c&&(_=h),it===d&&++j===a&&(b=h),(ot=rt.nextSibling)!==null)break;rt=it,it=rt.parentNode}rt=ot}s=_===-1||b===-1?null:{start:_,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:o,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,o=e.child,(e.subtreeFlags&1028)!==0&&o!==null)o.return=e,V=o;else for(;V!==null;){e=V;try{var ht=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var bt=ht.memoizedProps,pt=ht.memoizedState,dt=e.stateNode,lt=dt.getSnapshotBeforeUpdate(e.elementType===e.type?bt:Ci(e.type,bt),pt);dt.__reactInternalSnapshotBeforeUpdate=lt}break;case 3:var at=e.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(xt){W(e,e.return,xt)}if(o=e.sibling,o!==null){o.return=e.return,V=o;break}V=e.return}return ht=Nj,Nj=!1,ht}function Pj(o,e,s){var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var d=c.destroy;c.destroy=void 0,d!==void 0&&Mj(e,s,d)}c=c.next}while(c!==a)}}function Qj(o,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&o)===o){var a=s.create;s.destroy=a()}s=s.next}while(s!==e)}}function Rj(o){var e=o.ref;if(e!==null){var s=o.stateNode;switch(o.tag){case 5:o=s;break;default:o=s}typeof e=="function"?e(o):e.current=o}}function Sj(o){var e=o.alternate;e!==null&&(o.alternate=null,Sj(e)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(e=o.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,e,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(o,e):s.insertBefore(o,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(o,s)):(e=s,e.appendChild(o)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(a!==4&&(o=o.child,o!==null))for(Vj(o,e,s),o=o.sibling;o!==null;)Vj(o,e,s),o=o.sibling}function Wj(o,e,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,e?s.insertBefore(o,e):s.appendChild(o);else if(a!==4&&(o=o.child,o!==null))for(Wj(o,e,s),o=o.sibling;o!==null;)Wj(o,e,s),o=o.sibling}var X$1=null,Xj=!1;function Yj(o,e,s){for(s=s.child;s!==null;)Zj(o,e,s),s=s.sibling}function Zj(o,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,e);case 6:var a=X$1,c=Xj;X$1=null,Yj(o,e,s),X$1=a,Xj=c,X$1!==null&&(Xj?(o=X$1,s=s.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(o=X$1,s=s.stateNode,o.nodeType===8?Kf(o.parentNode,s):o.nodeType===1&&Kf(o,s),bd(o)):Kf(X$1,s.stateNode));break;case 4:a=X$1,c=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(o,e,s),X$1=a,Xj=c;break;case 0:case 11:case 14:case 15:if(!U&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&Mj(s,e,h),c=c.next}while(c!==a)}Yj(o,e,s);break;case 1:if(!U&&(Lj(s,e),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){W(s,e,_)}Yj(o,e,s);break;case 21:Yj(o,e,s);break;case 22:s.mode&1?(U=(a=U)||s.memoizedState!==null,Yj(o,e,s),U=a):Yj(o,e,s);break;default:Yj(o,e,s)}}function ak(o){var e=o.updateQueue;if(e!==null){o.updateQueue=null;var s=o.stateNode;s===null&&(s=o.stateNode=new Kj),e.forEach(function(a){var c=bk.bind(null,o,a);s.has(a)||(s.add(a),a.then(c,c))})}}function ck(o,e){var s=e.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var d=o,h=e,_=h;e:for(;_!==null;){switch(_.tag){case 5:X$1=_.stateNode,Xj=!1;break e;case 3:X$1=_.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=_.stateNode.containerInfo,Xj=!0;break e}_=_.return}if(X$1===null)throw Error(p(160));Zj(d,h,c),X$1=null,Xj=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch($){W(c,e,$)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,o),e=e.sibling}function dk(o,e){var s=o.alternate,a=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(e,o),ek(o),a&4){try{Pj(3,o,o.return),Qj(3,o)}catch(bt){W(o,o.return,bt)}try{Pj(5,o,o.return)}catch(bt){W(o,o.return,bt)}}break;case 1:ck(e,o),ek(o),a&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(e,o),ek(o),a&512&&s!==null&&Lj(s,s.return),o.flags&32){var c=o.stateNode;try{ob(c,"")}catch(bt){W(o,o.return,bt)}}if(a&4&&(c=o.stateNode,c!=null)){var d=o.memoizedProps,h=s!==null?s.memoizedProps:d,_=o.type,b=o.updateQueue;if(o.updateQueue=null,b!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&ab(c,d),vb(_,h);var $=vb(_,d);for(h=0;h<b.length;h+=2){var j=b[h],rt=b[h+1];j==="style"?sb(c,rt):j==="dangerouslySetInnerHTML"?nb(c,rt):j==="children"?ob(c,rt):ta(c,j,rt,$)}switch(_){case"input":bb(c,d);break;case"textarea":ib(c,d);break;case"select":var it=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var ot=d.value;ot!=null?fb(c,!!d.multiple,ot,!1):it!==!!d.multiple&&(d.defaultValue!=null?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}c[Pf]=d}catch(bt){W(o,o.return,bt)}}break;case 6:if(ck(e,o),ek(o),a&4){if(o.stateNode===null)throw Error(p(162));c=o.stateNode,d=o.memoizedProps;try{c.nodeValue=d}catch(bt){W(o,o.return,bt)}}break;case 3:if(ck(e,o),ek(o),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(bt){W(o,o.return,bt)}break;case 4:ck(e,o),ek(o);break;case 13:ck(e,o),ek(o),c=o.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),a&4&&ak(o);break;case 22:if(j=s!==null&&s.memoizedState!==null,o.mode&1?(U=($=U)||j,ck(e,o),U=$):ck(e,o),ek(o),a&8192){if($=o.memoizedState!==null,(o.stateNode.isHidden=$)&&!j&&o.mode&1)for(V=o,j=o.child;j!==null;){for(rt=V=j;V!==null;){switch(it=V,ot=it.child,it.tag){case 0:case 11:case 14:case 15:Pj(4,it,it.return);break;case 1:Lj(it,it.return);var ht=it.stateNode;if(typeof ht.componentWillUnmount=="function"){a=it,s=it.return;try{e=a,ht.props=e.memoizedProps,ht.state=e.memoizedState,ht.componentWillUnmount()}catch(bt){W(a,s,bt)}}break;case 5:Lj(it,it.return);break;case 22:if(it.memoizedState!==null){gk(rt);continue}}ot!==null?(ot.return=it,V=ot):gk(rt)}j=j.sibling}e:for(j=null,rt=o;;){if(rt.tag===5){if(j===null){j=rt;try{c=rt.stateNode,$?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=rt.stateNode,b=rt.memoizedProps.style,h=b!=null&&b.hasOwnProperty("display")?b.display:null,_.style.display=rb("display",h))}catch(bt){W(o,o.return,bt)}}}else if(rt.tag===6){if(j===null)try{rt.stateNode.nodeValue=$?"":rt.memoizedProps}catch(bt){W(o,o.return,bt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===o)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===o)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===o)break e;j===rt&&(j=null),rt=rt.return}j===rt&&(j=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:ck(e,o),ek(o),a&4&&ak(o);break;case 21:break;default:ck(e,o),ek(o)}}function ek(o){var e=o.flags;if(e&2){try{e:{for(var s=o.return;s!==null;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var d=Uj(o);Wj(o,d,c);break;case 3:case 4:var h=a.stateNode.containerInfo,_=Uj(o);Vj(o,_,h);break;default:throw Error(p(161))}}catch(b){W(o,o.return,b)}o.flags&=-3}e&4096&&(o.flags&=-4097)}function hk(o,e,s){V=o,ik(o)}function ik(o,e,s){for(var a=(o.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&a){var h=c.memoizedState!==null||Jj;if(!h){var _=c.alternate,b=_!==null&&_.memoizedState!==null||U;_=Jj;var $=U;if(Jj=h,(U=b)&&!$)for(V=c;V!==null;)h=V,b=h.child,h.tag===22&&h.memoizedState!==null?jk(c):b!==null?(b.return=h,V=b):jk(c);for(;d!==null;)V=d,ik(d),d=d.sibling;V=c,Jj=_,U=$}kk(o)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):kk(o)}}function kk(o){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var a=e.stateNode;if(e.flags&4&&!U)if(s===null)a.componentDidMount();else{var c=e.elementType===e.type?s.memoizedProps:Ci(e.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=e.updateQueue;d!==null&&sh(e,d,a);break;case 3:var h=e.updateQueue;if(h!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}sh(e,h,s)}break;case 5:var _=e.stateNode;if(s===null&&e.flags&4){s=_;var b=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var $=e.alternate;if($!==null){var j=$.memoizedState;if(j!==null){var rt=j.dehydrated;rt!==null&&bd(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch(it){W(e,e.return,it)}}if(e===o){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function gk(o){for(;V!==null;){var e=V;if(e===o){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function jk(o){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Qj(4,e)}catch(b){W(e,s,b)}break;case 1:var a=e.stateNode;if(typeof a.componentDidMount=="function"){var c=e.return;try{a.componentDidMount()}catch(b){W(e,c,b)}}var d=e.return;try{Rj(e)}catch(b){W(e,d,b)}break;case 5:var h=e.return;try{Rj(e)}catch(b){W(e,h,b)}}}catch(b){W(e,e.return,b)}if(e===o){V=null;break}var _=e.sibling;if(_!==null){_.return=e.return,V=_;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function gi(o,e,s,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(o,s,a),(!(K&2)||o!==Q)&&(o===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(o,Z)),Dk(o,a),s===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(o,e){var s=o.callbackNode;wc(o,e);var a=uc(o,o===Q?Z:0);if(a===0)s!==null&&bc(s),o.callbackNode=null,o.callbackPriority=0;else if(e=a&-a,o.callbackPriority!==e){if(s!=null&&bc(s),e===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,o))}o.callbackPriority=e,o.callbackNode=s}}function Gk(o,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=o.callbackNode;if(Hk()&&o.callbackNode!==s)return null;var a=uc(o,o===Q?Z:0);if(a===0)return null;if(a&30||a&o.expiredLanes||e)e=Ik(o,a);else{e=a;var c=K;K|=2;var d=Jk();(Q!==o||Z!==e)&&(uk=null,Gj=B()+500,Kk(o,e));do try{Lk();break}catch(_){Mk(o,_)}while(!0);$g(),mk.current=d,K=c,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(c=xc(o),c!==0&&(a=c,e=Nk(o,c))),e===1)throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;if(e===6)Ck(o,a);else{if(c=o.current.alternate,!(a&30)&&!Ok(c)&&(e=Ik(o,a),e===2&&(d=xc(o),d!==0&&(a=d,e=Nk(o,d))),e===1))throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;switch(o.finishedWork=c,o.finishedLanes=a,e){case 0:case 1:throw Error(p(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,a),(a&130023424)===a&&(e=fk+500-B(),10<e)){if(uc(o,0)!==0)break;if(c=o.suspendedLanes,(c&a)!==a){R(),o.pingedLanes|=o.suspendedLanes&c;break}o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),e);break}Pk(o,tk,uk);break;case 4:if(Ck(o,a),(a&4194240)===a)break;for(e=o.eventTimes,c=-1;0<a;){var h=31-oc(a);d=1<<h,h=e[h],h>c&&(c=h),a&=~d}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),a);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p(329))}}}return Dk(o,B()),o.callbackNode===s?Gk.bind(null,o):null}function Nk(o,e){var s=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,e).flags|=256),o=Ik(o,e),o!==2&&(e=tk,tk=s,e!==null&&Fj(e)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var e=o;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],d=c.getSnapshot;c=c.value;try{if(!He(d(),c))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===o)break;for(;e.sibling===null;){if(e.return===null||e.return===o)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(o,e){for(e&=~rk,e&=~qk,o.suspendedLanes|=e,o.pingedLanes&=~e,o=o.expirationTimes;0<e;){var s=31-oc(e),a=1<<s;o[s]=-1,e&=~a}}function Ek(o){if(K&6)throw Error(p(327));Hk();var e=uc(o,0);if(!(e&1))return Dk(o,B()),null;var s=Ik(o,e);if(o.tag!==0&&s===2){var a=xc(o);a!==0&&(e=a,s=Nk(o,a))}if(s===1)throw s=pk,Kk(o,0),Ck(o,e),Dk(o,B()),s;if(s===6)throw Error(p(345));return o.finishedWork=o.current.alternate,o.finishedLanes=e,Pk(o,tk,uk),Dk(o,B()),null}function Qk(o,e){var s=K;K|=1;try{return o(e)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var s=ok.transition,a=C;try{if(ok.transition=null,C=1,o)return o()}finally{C=a,ok.transition=s,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(o,e){o.finishedWork=null,o.finishedLanes=0;var s=o.timeoutHandle;if(s!==-1&&(o.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=o,Y=o=Pg(o.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(s=fh[e],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,d=s.pending;if(d!==null){var h=d.next;d.next=c,a.next=h}s.pending=a}fh=null}return o}function Mk(o,e){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=e,Y=null;break}e:{var d=o,h=s.return,_=s,b=e;if(e=Z,_.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var $=b,j=_,rt=j.tag;if(!(j.mode&1)&&(rt===0||rt===11||rt===15)){var it=j.alternate;it?(j.updateQueue=it.updateQueue,j.memoizedState=it.memoizedState,j.lanes=it.lanes):(j.updateQueue=null,j.memoizedState=null)}var ot=Ui(h);if(ot!==null){ot.flags&=-257,Vi(ot,h,_,d,e),ot.mode&1&&Si(d,$,e),e=ot,b=$;var ht=e.updateQueue;if(ht===null){var bt=new Set;bt.add(b),e.updateQueue=bt}else ht.add(b);break e}else{if(!(e&1)){Si(d,$,e),tj();break e}b=Error(p(426))}}else if(I&&_.mode&1){var pt=Ui(h);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Vi(pt,h,_,d,e),Jg(Ji(b,_));break e}}d=b=Ji(b,_),T!==4&&(T=2),sk===null?sk=[d]:sk.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,e&=-e,d.lanes|=e;var dt=Ni(d,b,e);ph(d,dt);break e;case 1:_=b;var lt=d.type,at=d.stateNode;if(!(d.flags&128)&&(typeof lt.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Ri===null||!Ri.has(at)))){d.flags|=65536,e&=-e,d.lanes|=e;var xt=Qi(d,_,e);ph(d,xt);break e}}d=d.return}while(d!==null)}Sk(s)}catch(Rt){e=Rt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var o=mk.current;return mk.current=Rh,o===null?Rh:o}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(o,e){var s=K;K|=2;var a=Jk();(Q!==o||Z!==e)&&(uk=null,Kk(o,e));do try{Tk();break}catch(c){Mk(o,c)}while(!0);if($g(),K=s,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(o){var e=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,e===null?Sk(o):Y=e,nk.current=null}function Sk(o){var e=o;do{var s=e.alternate;if(o=e.return,e.flags&32768){if(s=Ij(s,e),s!==null){s.flags&=32767,Y=s;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,e,fj),s!==null){Y=s;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=o}while(e!==null);T===0&&(T=5)}function Pk(o,e,s){var a=C,c=ok.transition;try{ok.transition=null,C=1,Wk(o,e,s,a)}finally{ok.transition=c,C=a}return null}function Wk(o,e,s,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=o.finishedWork;var c=o.finishedLanes;if(s===null)return null;if(o.finishedWork=null,o.finishedLanes=0,s===o.current)throw Error(p(177));o.callbackNode=null,o.callbackPriority=0;var d=s.lanes|s.childLanes;if(Bc(o,d),o===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=ok.transition,ok.transition=null;var h=C;C=1;var _=K;K|=4,nk.current=null,Oj(o,s),dk(s,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=s,hk(s),dc(),K=_,C=h,ok.transition=d}else o.current=s;if(vk&&(vk=!1,wk=o,xk=c),d=o.pendingLanes,d===0&&(Ri=null),mc(s.stateNode),Dk(o,B()),e!==null)for(a=o.onRecoverableError,s=0;s<e.length;s++)c=e[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,o=Pi,Pi=null,o;return xk&1&&o.tag!==0&&Hk(),d=o.pendingLanes,d&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc(xk),e=ok.transition,s=C;try{if(ok.transition=null,C=16>o?16:o,wk===null)var a=!1;else{if(o=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=o.current;V!==null;){var d=V,h=d.child;if(V.flags&16){var _=d.deletions;if(_!==null){for(var b=0;b<_.length;b++){var $=_[b];for(V=$;V!==null;){var j=V;switch(j.tag){case 0:case 11:case 15:Pj(8,j,d)}var rt=j.child;if(rt!==null)rt.return=j,V=rt;else for(;V!==null;){j=V;var it=j.sibling,ot=j.return;if(Sj(j),j===$){V=null;break}if(it!==null){it.return=ot,V=it;break}V=ot}}}var ht=d.alternate;if(ht!==null){var bt=ht.child;if(bt!==null){ht.child=null;do{var pt=bt.sibling;bt.sibling=null,bt=pt}while(bt!==null)}}V=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,V=h;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Pj(9,d,d.return)}var dt=d.sibling;if(dt!==null){dt.return=d.return,V=dt;break e}V=d.return}}var lt=o.current;for(V=lt;V!==null;){h=V;var at=h.child;if(h.subtreeFlags&2064&&at!==null)at.return=h,V=at;else e:for(h=lt;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qj(9,_)}}catch(Rt){W(_,_.return,Rt)}if(_===h){V=null;break e}var xt=_.sibling;if(xt!==null){xt.return=_.return,V=xt;break e}V=_.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}a=!0}return a}finally{C=s,ok.transition=e}}return!1}function Xk(o,e,s){e=Ji(s,e),e=Ni(o,e,1),o=nh(o,e,1),e=R(),o!==null&&(Ac(o,1,e),Dk(o,e))}function W(o,e,s){if(o.tag===3)Xk(o,o,s);else for(;e!==null;){if(e.tag===3){Xk(e,o,s);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){o=Ji(s,o),o=Qi(e,o,1),e=nh(e,o,1),o=R(),e!==null&&(Ac(e,1,o),Dk(e,o));break}}e=e.return}}function Ti(o,e,s){var a=o.pingCache;a!==null&&a.delete(e),e=R(),o.pingedLanes|=o.suspendedLanes&s,Q===o&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(o,0):rk|=s),Dk(o,e)}function Yk(o,e){e===0&&(o.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=R();o=ih(o,e),o!==null&&(Ac(o,e,s),Dk(o,s))}function uj(o){var e=o.memoizedState,s=0;e!==null&&(s=e.retryLane),Yk(o,s)}function bk(o,e){var s=0;switch(o.tag){case 13:var a=o.stateNode,c=o.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=o.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(e),Yk(o,s)}var Vk;Vk=function(o,e,s){if(o!==null)if(o.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(o.lanes&s)&&!(e.flags&128))return dh=!1,yj(o,e,s);dh=!!(o.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var a=e.type;ij(o,e),o=e.pendingProps;var c=Yf(e,H.current);ch(e,s),c=Nh(null,e,a,o,c,s);var d=Sh();return e.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(a)?(d=!0,cg(e)):d=!1,e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(e),c.updater=Ei,e.stateNode=c,c._reactInternals=e,Ii(e,a,o,s),e=jj(null,e,a,!0,d,s)):(e.tag=0,I&&d&&vg(e),Xi(null,e,c,s),e=e.child),e;case 16:a=e.elementType;e:{switch(ij(o,e),o=e.pendingProps,c=a._init,a=c(a._payload),e.type=a,c=e.tag=Zk(a),o=Ci(a,o),c){case 0:e=cj(null,e,a,o,s);break e;case 1:e=hj(null,e,a,o,s);break e;case 11:e=Yi(null,e,a,o,s);break e;case 14:e=$i(null,e,a,Ci(a.type,o),s);break e}throw Error(p(306,a,""))}return e;case 0:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),cj(o,e,a,c,s);case 1:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),hj(o,e,a,c,s);case 3:e:{if(kj(e),o===null)throw Error(p(387));a=e.pendingProps,d=e.memoizedState,c=d.element,lh(o,e),qh(e,a,null,s);var h=e.memoizedState;if(a=h.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){c=Ji(Error(p(423)),e),e=lj(o,e,a,s,c);break e}else if(a!==c){c=Ji(Error(p(424)),e),e=lj(o,e,a,s,c);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Vg(e,null,a,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===c){e=Zi(o,e,s);break e}Xi(o,e,a,s)}e=e.child}return e;case 5:return Ah(e),o===null&&Eg(e),a=e.type,c=e.pendingProps,d=o!==null?o.memoizedProps:null,h=c.children,Ef(a,c)?h=null:d!==null&&Ef(a,d)&&(e.flags|=32),gj(o,e),Xi(o,e,h,s),e.child;case 6:return o===null&&Eg(e),null;case 13:return oj(o,e,s);case 4:return yh(e,e.stateNode.containerInfo),a=e.pendingProps,o===null?e.child=Ug(e,null,a,s):Xi(o,e,a,s),e.child;case 11:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),Yi(o,e,a,c,s);case 7:return Xi(o,e,e.pendingProps,s),e.child;case 8:return Xi(o,e,e.pendingProps.children,s),e.child;case 12:return Xi(o,e,e.pendingProps.children,s),e.child;case 10:e:{if(a=e.type._context,c=e.pendingProps,d=e.memoizedProps,h=c.value,G(Wg,a._currentValue),a._currentValue=h,d!==null)if(He(d.value,h)){if(d.children===c.children&&!Wf.current){e=Zi(o,e,s);break e}}else for(d=e.child,d!==null&&(d.return=e);d!==null;){var _=d.dependencies;if(_!==null){h=d.child;for(var b=_.firstContext;b!==null;){if(b.context===a){if(d.tag===1){b=mh(-1,s&-s),b.tag=2;var $=d.updateQueue;if($!==null){$=$.shared;var j=$.pending;j===null?b.next=b:(b.next=j.next,j.next=b),$.pending=b}}d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),bh(d.return,s,e),_.lanes|=s;break}b=b.next}}else if(d.tag===10)h=d.type===e.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(p(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),bh(h,s,e),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===e){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Xi(o,e,c.children,s),e=e.child}return e;case 9:return c=e.type,a=e.pendingProps.children,ch(e,s),c=eh(c),a=a(c),e.flags|=1,Xi(o,e,a,s),e.child;case 14:return a=e.type,c=Ci(a,e.pendingProps),c=Ci(a.type,c),$i(o,e,a,c,s);case 15:return bj(o,e,e.type,e.pendingProps,s);case 17:return a=e.type,c=e.pendingProps,c=e.elementType===a?c:Ci(a,c),ij(o,e),e.tag=1,Zf(a)?(o=!0,cg(e)):o=!1,ch(e,s),Gi(e,a,c),Ii(e,a,c,s),jj(null,e,a,!0,o,s);case 19:return xj(o,e,s);case 22:return dj(o,e,s)}throw Error(p(156,e.tag))};function Fk(o,e){return ac(o,e)}function $k(o,e,s,a){this.tag=o,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,e,s,a){return new $k(o,e,s,a)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function Pg(o,e){var s=o.alternate;return s===null?(s=Bg(o.tag,e,o.key,o.mode),s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.alternate=o,o.alternate=s):(s.pendingProps=e,s.type=o.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=o.flags&14680064,s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s}function Rg(o,e,s,a,c,d){var h=2;if(a=o,typeof o=="function")aj(o)&&(h=1);else if(typeof o=="string")h=5;else e:switch(o){case ya:return Tg(s.children,c,d,e);case za:h=8,c|=8;break;case Aa:return o=Bg(12,s,e,c|2),o.elementType=Aa,o.lanes=d,o;case Ea:return o=Bg(13,s,e,c),o.elementType=Ea,o.lanes=d,o;case Fa:return o=Bg(19,s,e,c),o.elementType=Fa,o.lanes=d,o;case Ia:return pj(s,c,d,e);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,a=null;break e}throw Error(p(130,o==null?o:typeof o,""))}return e=Bg(h,s,e,c),e.elementType=o,e.type=a,e.lanes=d,e}function Tg(o,e,s,a){return o=Bg(7,o,a,e),o.lanes=s,o}function pj(o,e,s,a){return o=Bg(22,o,a,e),o.elementType=Ia,o.lanes=s,o.stateNode={isHidden:!1},o}function Qg(o,e,s){return o=Bg(6,o,null,e),o.lanes=s,o}function Sg(o,e,s){return e=Bg(4,o.children!==null?o.children:[],o.key,e),e.lanes=s,e.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},e}function al(o,e,s,a,c){this.tag=e,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(o,e,s,a,c,d,h,_,b){return o=new al(o,e,s,_,b),e===1?(e=1,d===!0&&(e|=8)):e=0,d=Bg(3,null,null,e),o.current=d,d.stateNode=o,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(d),o}function cl(o,e,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:o,containerInfo:e,implementation:s}}function dl(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p(170));var e=o;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(o.tag===1){var s=o.type;if(Zf(s))return bg(o,s,e)}return e}function el(o,e,s,a,c,d,h,_,b){return o=bl(s,a,!0,o,c,d,h,_,b),o.context=dl(null),s=o.current,a=R(),c=yi(s),d=mh(a,c),d.callback=e??null,nh(s,d,c),o.current.lanes=c,Ac(o,c,a),Dk(o,a),o}function fl(o,e,s,a){var c=e.current,d=R(),h=yi(c);return s=dl(s),e.context===null?e.context=s:e.pendingContext=s,e=mh(d,h),e.payload={element:o},a=a===void 0?null:a,a!==null&&(e.callback=a),o=nh(c,e,h),o!==null&&(gi(o,c,h,d),oh(o,c,h)),h}function gl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl(o,e){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var s=o.retryLane;o.retryLane=s!==0&&s<e?s:e}}function il(o,e){hl(o,e),(o=o.alternate)&&hl(o,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll(o){this._internalRoot=o}ml.prototype.render=ll.prototype.render=function(o){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(o,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var e=o.containerInfo;Rk(function(){fl(null,o,null,null)}),e[uf]=null}};function ml(o){this._internalRoot=o}ml.prototype.unstable_scheduleHydration=function(o){if(o){var e=Hc();o={blockedOn:null,target:o,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,o),s===0&&Vc(o)}};function nl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(o,e,s,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var $=gl(h);d.call($)}}var h=el(e,a,o,0,null,!1,!1,"",pl);return o._reactRootContainer=h,o[uf]=h.current,sf(o.nodeType===8?o.parentNode:o),Rk(),h}for(;c=o.lastChild;)o.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var $=gl(b);_.call($)}}var b=bl(o,0,!1,null,null,!1,!1,"",pl);return o._reactRootContainer=b,o[uf]=b.current,sf(o.nodeType===8?o.parentNode:o),Rk(function(){fl(e,b,s,a)}),b}function rl(o,e,s,a,c){var d=s._reactRootContainer;if(d){var h=d;if(typeof c=="function"){var _=c;c=function(){var b=gl(h);_.call(b)}}fl(e,h,o,c)}else h=ql(s,e,o,c,a);return gl(h)}Ec=function(o){switch(o.tag){case 3:var e=o.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(o,1);if(a!==null){var c=R();gi(a,o,1,c)}}),il(o,1)}};Fc=function(o){if(o.tag===13){var e=ih(o,134217728);if(e!==null){var s=R();gi(e,o,134217728,s)}il(o,134217728)}};Gc=function(o){if(o.tag===13){var e=yi(o),s=ih(o,e);if(s!==null){var a=R();gi(s,o,e,a)}il(o,e)}};Hc=function(){return C};Ic=function(o,e){var s=C;try{return C=o,e()}finally{C=s}};yb=function(o,e,s){switch(e){case"input":if(bb(o,s),e=s.name,s.type==="radio"&&e!=null){for(s=o;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var a=s[e];if(a!==o&&a.form===o.form){var c=Db(a);if(!c)throw Error(p(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(o,s);break;case"select":e=s.value,e!=null&&fb(o,!!s.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(o,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(o,e,null,s)};reactDom_production_min.createRoot=function(o,e){if(!nl(o))throw Error(p(299));var s=!1,a="",c=kl;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(c=e.onRecoverableError)),e=bl(o,1,!1,null,null,s,!1,a,c),o[uf]=e.current,sf(o.nodeType===8?o.parentNode:o),new ll(e)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var e=o._reactInternals;if(e===void 0)throw typeof o.render=="function"?Error(p(188)):(o=Object.keys(o).join(","),Error(p(268,o)));return o=Zb(e),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,e,s){if(!ol(e))throw Error(p(200));return rl(null,o,e,!0,s)};reactDom_production_min.hydrateRoot=function(o,e,s){if(!nl(o))throw Error(p(405));var a=s!=null&&s.hydratedSources||null,c=!1,d="",h=kl;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),e=el(e,null,o,1,s??null,c,!1,d,h),o[uf]=e.current,sf(o),a)for(o=0;o<a.length;o++)s=a[o],c=s._getVersion,c=c(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,c]:e.mutableSourceEagerHydrationData.push(s,c);return new ml(e)};reactDom_production_min.render=function(o,e,s){if(!ol(e))throw Error(p(200));return rl(null,o,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol(o))throw Error(p(40));return o._reactRootContainer?(Rk(function(){rl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,e,s,a){if(!ol(s))throw Error(p(200));if(o==null||o._reactInternals===void 0)throw Error(p(38));return rl(o,e,s,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$2.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});function e(a,c){let{pathname:d,search:h,hash:_}=a.location;return createLocation("",{pathname:d,search:h,hash:_},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(e,s,null,o)}function invariant(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}function warning(o,e){if(!o){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,e){return{usr:o.state,key:o.key,idx:e}}function createLocation(o,e,s,a){return s===void 0&&(s=null),_extends$2({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||a||createKey()})}function createPath(o){let{pathname:e="/",search:s="",hash:a=""}=o;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function parsePath(o){let e={};if(o){let s=o.indexOf("#");s>=0&&(e.hash=o.substr(s),o=o.substr(0,s));let a=o.indexOf("?");a>=0&&(e.search=o.substr(a),o=o.substr(0,a)),o&&(e.pathname=o)}return e}function getUrlBasedHistory(o,e,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,h=c.history,_=Action.Pop,b=null,$=j();$==null&&($=0,h.replaceState(_extends$2({},h.state,{idx:$}),""));function j(){return(h.state||{idx:null}).idx}function rt(){_=Action.Pop;let pt=j(),dt=pt==null?null:pt-$;$=pt,b&&b({action:_,location:bt.location,delta:dt})}function it(pt,dt){_=Action.Push;let lt=createLocation(bt.location,pt,dt);$=j()+1;let at=getHistoryState(lt,$),xt=bt.createHref(lt);try{h.pushState(at,"",xt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;c.location.assign(xt)}d&&b&&b({action:_,location:bt.location,delta:1})}function ot(pt,dt){_=Action.Replace;let lt=createLocation(bt.location,pt,dt);$=j();let at=getHistoryState(lt,$),xt=bt.createHref(lt);h.replaceState(at,"",xt),d&&b&&b({action:_,location:bt.location,delta:0})}function ht(pt){let dt=c.location.origin!=="null"?c.location.origin:c.location.href,lt=typeof pt=="string"?pt:createPath(pt);return lt=lt.replace(/ $/,"%20"),invariant(dt,"No window.location.(origin|href) available to create URL for href: "+lt),new URL(lt,dt)}let bt={get action(){return _},get location(){return o(c,h)},listen(pt){if(b)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,rt),b=pt,()=>{c.removeEventListener(PopStateEventType,rt),b=null}},createHref(pt){return e(c,pt)},createURL:ht,encodeLocation(pt){let dt=ht(pt);return{pathname:dt.pathname,search:dt.search,hash:dt.hash}},push:it,replace:ot,go(pt){return h.go(pt)}};return bt}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function matchRoutes(o,e,s){return s===void 0&&(s="/"),matchRoutesImpl(o,e,s,!1)}function matchRoutesImpl(o,e,s,a){let c=typeof e=="string"?parsePath(e):e,d=stripBasename(c.pathname||"/",s);if(d==null)return null;let h=flattenRoutes(o);rankRouteBranches(h);let _=null;for(let b=0;_==null&&b<h.length;++b){let $=decodePath(d);_=matchRouteBranch(h[b],$,a)}return _}function flattenRoutes(o,e,s,a){e===void 0&&(e=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(d,h,_)=>{let b={relativePath:_===void 0?d.path||"":_,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};b.relativePath.startsWith("/")&&(invariant(b.relativePath.startsWith(a),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(a.length));let $=joinPaths([a,b.relativePath]),j=s.concat(b);d.children&&d.children.length>0&&(invariant(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+$+'".')),flattenRoutes(d.children,e,j,$)),!(d.path==null&&!d.index)&&e.push({path:$,score:computeScore($,d.index),routesMeta:j})};return o.forEach((d,h)=>{var _;if(d.path===""||!((_=d.path)!=null&&_.includes("?")))c(d,h);else for(let b of explodeOptionalSegments(d.path))c(d,h,b)}),e}function explodeOptionalSegments(o){let e=o.split("/");if(e.length===0)return[];let[s,...a]=e,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let h=explodeOptionalSegments(a.join("/")),_=[];return _.push(...h.map(b=>b===""?d:[d,b].join("/"))),c&&_.push(...h),_.map(b=>o.startsWith("/")&&b===""?"/":b)}function rankRouteBranches(o){o.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,e){let s=o.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),e&&(a+=indexRouteValue),s.filter(c=>!isSplat(c)).reduce((c,d)=>c+(paramRe.test(d)?dynamicSegmentValue:d===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(o,e){return o.length===e.length&&o.slice(0,-1).every((a,c)=>a===e[c])?o[o.length-1]-e[e.length-1]:0}function matchRouteBranch(o,e,s){let{routesMeta:a}=o,c={},d="/",h=[];for(let _=0;_<a.length;++_){let b=a[_],$=_===a.length-1,j=d==="/"?e:e.slice(d.length)||"/",rt=matchPath({path:b.relativePath,caseSensitive:b.caseSensitive,end:$},j),it=b.route;if(!rt&&$&&s&&!a[a.length-1].route.index&&(rt=matchPath({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},j)),!rt)return null;Object.assign(c,rt.params),h.push({params:c,pathname:joinPaths([d,rt.pathname]),pathnameBase:normalizePathname(joinPaths([d,rt.pathnameBase])),route:it}),rt.pathnameBase!=="/"&&(d=joinPaths([d,rt.pathnameBase]))}return h}function matchPath(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,a]=compilePath(o.path,o.caseSensitive,o.end),c=e.match(s);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),_=c.slice(1);return{params:a.reduce(($,j,rt)=>{let{paramName:it,isOptional:ot}=j;if(it==="*"){let bt=_[rt]||"";h=d.slice(0,d.length-bt.length).replace(/(.)\/+$/,"$1")}const ht=_[rt];return ot&&!ht?$[it]=void 0:$[it]=(ht||"").replace(/%2F/g,"/"),$},{}),pathname:d,pathnameBase:h,pattern:o}}function compilePath(o,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let a=[],c="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,_,b)=>(a.push({paramName:_,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(a.push({paramName:"*"}),c+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":o!==""&&o!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),a]}function decodePath(o){try{return o.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),o}}function stripBasename(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,a=o.charAt(s);return a&&a!=="/"?null:o.slice(s)||"/"}function resolvePath(o,e){e===void 0&&(e="/");let{pathname:s,search:a="",hash:c=""}=typeof o=="string"?parsePath(o):o;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(a),hash:normalizeHash(c)}}function resolvePathname(o,e){let s=e.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(o,e,s,a){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(o,e){let s=getPathContributingMatches(o);return e?s.map((a,c)=>c===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function resolveTo(o,e,s,a){a===void 0&&(a=!1);let c;typeof o=="string"?c=parsePath(o):(c=_extends$2({},o),invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let d=o===""||c.pathname==="",h=d?"/":c.pathname,_;if(h==null)_=s;else{let rt=e.length-1;if(!a&&h.startsWith("..")){let it=h.split("/");for(;it[0]==="..";)it.shift(),rt-=1;c.pathname=it.join("/")}_=rt>=0?e[rt]:"/"}let b=resolvePath(c,_),$=h&&h!=="/"&&h.endsWith("/"),j=(d||h===".")&&s.endsWith("/");return!b.pathname.endsWith("/")&&($||j)&&(b.pathname+="/"),b}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(o,e){let{relative:s}=e===void 0?{}:e;useInRouterContext()||invariant(!1);let{basename:a,navigator:c}=reactExports.useContext(NavigationContext),{hash:d,pathname:h,search:_}=useResolvedPath(o,{relative:s}),b=h;return a!=="/"&&(b=h==="/"?a:joinPaths([a,h])),c.createHref({pathname:b,search:_,hash:d})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let o=reactExports.useContext(DataRouterContext),{basename:e,future:s,navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(c,s.v7_relativeSplatPath)),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_.current=!0}),reactExports.useCallback(function($,j){if(j===void 0&&(j={}),!_.current)return;if(typeof $=="number"){a.go($);return}let rt=resolveTo($,JSON.parse(h),d,j.relative==="path");o==null&&e!=="/"&&(rt.pathname=rt.pathname==="/"?e:joinPaths([e,rt.pathname])),(j.replace?a.replace:a.push)(rt,j.state,j)},[e,a,h,d,o])}function useResolvedPath(o,e){let{relative:s}=e===void 0?{}:e,{future:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(c,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(o,JSON.parse(h),d,s==="path"),[o,h,d,s])}function useRoutes(o,e){return useRoutesImpl(o,e)}function useRoutesImpl(o,e,s,a){useInRouterContext()||invariant(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),h=d[d.length-1],_=h?h.params:{};h&&h.pathname;let b=h?h.pathnameBase:"/";h&&h.route;let $=useLocation(),j;if(e){var rt;let pt=typeof e=="string"?parsePath(e):e;b==="/"||(rt=pt.pathname)!=null&&rt.startsWith(b)||invariant(!1),j=pt}else j=$;let it=j.pathname||"/",ot=it;if(b!=="/"){let pt=b.replace(/^\//,"").split("/");ot="/"+it.replace(/^\//,"").split("/").slice(pt.length).join("/")}let ht=matchRoutes(o,{pathname:ot}),bt=_renderMatches(ht&&ht.map(pt=>Object.assign({},pt,{params:Object.assign({},_,pt.params),pathname:joinPaths([b,c.encodeLocation?c.encodeLocation(pt.pathname).pathname:pt.pathname]),pathnameBase:pt.pathnameBase==="/"?b:joinPaths([b,c.encodeLocation?c.encodeLocation(pt.pathnameBase).pathname:pt.pathnameBase])})),d,s,a);return e&&bt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Action.Pop}},bt):bt}function DefaultErrorComponent(){let o=useRouteError(),e=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),s?reactExports.createElement("pre",{style:c},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:e,match:s,children:a}=o,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:e},a)}function _renderMatches(o,e,s,a){var c;if(e===void 0&&(e=[]),s===void 0&&(s=null),a===void 0&&(a=null),o==null){var d;if(!s)return null;if(s.errors)o=s.matches;else if((d=a)!=null&&d.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let h=o,_=(c=s)==null?void 0:c.errors;if(_!=null){let j=h.findIndex(rt=>rt.route.id&&(_==null?void 0:_[rt.route.id])!==void 0);j>=0||invariant(!1),h=h.slice(0,Math.min(h.length,j+1))}let b=!1,$=-1;if(s&&a&&a.v7_partialHydration)for(let j=0;j<h.length;j++){let rt=h[j];if((rt.route.HydrateFallback||rt.route.hydrateFallbackElement)&&($=j),rt.route.id){let{loaderData:it,errors:ot}=s,ht=rt.route.loader&&it[rt.route.id]===void 0&&(!ot||ot[rt.route.id]===void 0);if(rt.route.lazy||ht){b=!0,$>=0?h=h.slice(0,$+1):h=[h[0]];break}}}return h.reduceRight((j,rt,it)=>{let ot,ht=!1,bt=null,pt=null;s&&(ot=_&&rt.route.id?_[rt.route.id]:void 0,bt=rt.route.errorElement||defaultErrorElement,b&&($<0&&it===0?(ht=!0,pt=null):$===it&&(ht=!0,pt=rt.route.hydrateFallbackElement||null)));let dt=e.concat(h.slice(0,it+1)),lt=()=>{let at;return ot?at=bt:ht?at=pt:rt.route.Component?at=reactExports.createElement(rt.route.Component,null):rt.route.element?at=rt.route.element:at=j,reactExports.createElement(RenderedRoute,{match:rt,routeContext:{outlet:j,matches:dt,isDataRoute:s!=null},children:at})};return s&&(rt.route.ErrorBoundary||rt.route.errorElement||it===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:bt,error:ot,children:lt(),routeContext:{outlet:null,matches:dt,isDataRoute:!0}}):lt()},null)}var DataRouterHook$1=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook$1||{}),DataRouterStateHook$1=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$1||{});function useDataRouterContext(o){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(o){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(o){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(o){let e=useRouteContext(),s=e.matches[e.matches.length-1];return s.route.id||invariant(!1),s.route.id}function useRouteError(){var o;let e=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(o=s.errors)==null?void 0:o[a]}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(c,d){d===void 0&&(d={}),s.current&&(typeof c=="number"?o.navigate(c):o.navigate(c,_extends$1({fromRouteId:e},d)))},[o,e])}const alreadyWarned={};function warnOnce(o,e){alreadyWarned[e]||(alreadyWarned[e]=!0,console.warn(e))}const logDeprecation=(o,e,s)=>warnOnce(o,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+o+"` future flag to opt-in early. ")+("For more information, see "+s+"."));function logV6DeprecationWarnings(o,e){o!=null&&o.v7_startTransition||logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(o!=null&&o.v7_relativeSplatPath)&&!e&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Route(o){invariant(!1)}function Router(o){let{basename:e="/",children:s=null,location:a,navigationType:c=Action.Pop,navigator:d,static:h=!1,future:_}=o;useInRouterContext()&&invariant(!1);let b=e.replace(/^\/*/,"/"),$=reactExports.useMemo(()=>({basename:b,navigator:d,static:h,future:_extends$1({v7_relativeSplatPath:!1},_)}),[b,_,d,h]);typeof a=="string"&&(a=parsePath(a));let{pathname:j="/",search:rt="",hash:it="",state:ot=null,key:ht="default"}=a,bt=reactExports.useMemo(()=>{let pt=stripBasename(j,b);return pt==null?null:{location:{pathname:pt,search:rt,hash:it,state:ot,key:ht},navigationType:c}},[b,j,rt,it,ot,ht,c]);return bt==null?null:reactExports.createElement(NavigationContext.Provider,{value:$},reactExports.createElement(LocationContext.Provider,{children:s,value:bt}))}function Routes(o){let{children:e,location:s}=o;return useRoutes(createRoutesFromChildren(e),s)}new Promise(()=>{});function createRoutesFromChildren(o,e){e===void 0&&(e=[]);let s=[];return reactExports.Children.forEach(o,(a,c)=>{if(!reactExports.isValidElement(a))return;let d=[...e,c];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,d));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let h={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=createRoutesFromChildren(a.props.children,d)),s.push(h)}),s}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(o,e){if(o==null)return{};var s={},a=Object.keys(o),c,d;for(d=0;d<a.length;d++)c=a[d],!(e.indexOf(c)>=0)&&(s[c]=o[c]);return s}function isModifiedEvent(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function shouldProcessLinkClick(o,e){return o.button===0&&(!e||e==="_self")&&!isModifiedEvent(o)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(o){let{basename:e,children:s,future:a,window:c}=o,d=reactExports.useRef();d.current==null&&(d.current=createBrowserHistory({window:c,v5Compat:!0}));let h=d.current,[_,b]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:$}=a||{},j=reactExports.useCallback(rt=>{$&&startTransitionImpl?startTransitionImpl(()=>b(rt)):b(rt)},[b,$]);return reactExports.useLayoutEffect(()=>h.listen(j),[h,j]),reactExports.useEffect(()=>logV6DeprecationWarnings(a),[a]),reactExports.createElement(Router,{basename:e,children:s,location:_.location,navigationType:_.action,navigator:h,future:a})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,s){let{onClick:a,relative:c,reloadDocument:d,replace:h,state:_,target:b,to:$,preventScrollReset:j,viewTransition:rt}=e,it=_objectWithoutPropertiesLoose(e,_excluded),{basename:ot}=reactExports.useContext(NavigationContext),ht,bt=!1;if(typeof $=="string"&&ABSOLUTE_URL_REGEX.test($)&&(ht=$,isBrowser))try{let at=new URL(window.location.href),xt=$.startsWith("//")?new URL(at.protocol+$):new URL($),Rt=stripBasename(xt.pathname,ot);xt.origin===at.origin&&Rt!=null?$=Rt+xt.search+xt.hash:bt=!0}catch{}let pt=useHref($,{relative:c}),dt=useLinkClickHandler($,{replace:h,state:_,target:b,preventScrollReset:j,relative:c,viewTransition:rt});function lt(at){a&&a(at),at.defaultPrevented||dt(at)}return reactExports.createElement("a",_extends({},it,{href:ht||pt,onClick:bt||d?a:lt,ref:s,target:b}))});var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(o,e){let{target:s,replace:a,state:c,preventScrollReset:d,relative:h,viewTransition:_}=e===void 0?{}:e,b=useNavigate(),$=useLocation(),j=useResolvedPath(o,{relative:h});return reactExports.useCallback(rt=>{if(shouldProcessLinkClick(rt,s)){rt.preventDefault();let it=a!==void 0?a:createPath($)===createPath(j);b(o,{replace:it,state:c,preventScrollReset:d,relative:h,viewTransition:_})}},[$,b,j,a,c,s,o,d,h,_])}const WalletContext=reactExports.createContext({connected:!1,publicKey:null,connect:async()=>{},disconnect:async()=>{}}),useWallet=()=>reactExports.useContext(WalletContext);function WalletProvider({children:o}){const[e,s]=reactExports.useState(!1),[a,c]=reactExports.useState(null);reactExports.useEffect(()=>{const _=()=>{const j=window.solana;j!=null&&j.isConnected&&j.publicKey&&(s(!0),c(j.publicKey))},b=()=>{s(!1),c(null)},$=window.solana;if($!=null&&$.isPhantom)return $.on("connect",_),$.on("disconnect",b),$.isConnected&&$.publicKey&&(s(!0),c($.publicKey)),()=>{$.removeListener("connect",_),$.removeListener("disconnect",b)}},[]);const d=async()=>{try{const _=window.solana;if(!(_!=null&&_.isPhantom)){window.open("https://phantom.app/","_blank");return}const b=await _.connect();c(b.publicKey),s(!0)}catch(_){console.error("Error connecting wallet:",_),s(!1),c(null)}},h=async()=>{try{const _=window.solana;_&&(await _.disconnect(),s(!1),c(null))}catch(_){console.error("Error disconnecting wallet:",_)}};return jsxRuntimeExports.jsx(WalletContext.Provider,{value:{connected:e,publicKey:a,connect:d,disconnect:h},children:o})}/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(o,e)=>{const s=reactExports.forwardRef(({color:a="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:h,className:_="",children:b,...$},j)=>reactExports.createElement("svg",{ref:j,...defaultAttributes,width:c,height:c,stroke:a,strokeWidth:h?Number(d)*24/Number(c):d,className:["lucide",`lucide-${toKebabCase(o)}`,_].join(" "),...$},[...e.map(([rt,it])=>reactExports.createElement(rt,it)),...Array.isArray(b)?b:[b]]));return s.displayName=`${o}`,s};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ScrollingHeader(){const e="BLUE SCREEN OF $DEATH · ".repeat(30);return jsxRuntimeExports.jsx("div",{className:"scrolling-text-container",children:jsxRuntimeExports.jsx("div",{className:"scrolling-text",children:e})})}function DocsPopup({isOpen:o,onClose:e}){return o?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"min-h-screen px-4 py-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto bg-black border-2 border-cyan-400",children:[jsxRuntimeExports.jsxs("div",{className:"border-b-2 border-cyan-400 p-4 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h1",{className:"text-xl text-cyan-400",children:[">","_DEATH Protocol Technical Documentation"]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"text-cyan-400 hover:text-cyan-300",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-8 text-cyan-400",children:[jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Protocol Architecture Overview"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_The DEATH Protocol implements a sophisticated multi-program architecture on the Solana blockchain, utilizing several interconnected programs to manage token economics, staking mechanics, and governance:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:[">","_Core Programs:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"- Token Program (Custom SPL implementation)"}),jsxRuntimeExports.jsx("li",{children:"- Staking Program (PDA-based state management)"}),jsxRuntimeExports.jsx("li",{children:"- Treasury Program (Multi-signature control)"}),jsxRuntimeExports.jsx("li",{children:"- Governance Program (DAO mechanisms)"})]})]}),jsxRuntimeExports.jsxs("li",{children:[">","_Account Structure:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"- Program Derived Addresses (PDAs) for deterministic account generation"}),jsxRuntimeExports.jsx("li",{children:"- Segregated state accounts for atomic operations"}),jsxRuntimeExports.jsx("li",{children:"- Look-up tables for efficient account resolution"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Token Implementation Details"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_Token Contract Specifications:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"- SPL Token Program Base: Extended implementation with custom minting logic"}),jsxRuntimeExports.jsx("li",{children:"- Decimals: 9 (standard SPL configuration)"}),jsxRuntimeExports.jsx("li",{children:"- Authority: Multi-signature governance control"}),jsxRuntimeExports.jsx("li",{children:"- Minting Schedule: Dynamic based on protocol parameters"})]}),jsxRuntimeExports.jsxs("p",{children:[">","_Security Features:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"- Time-locked transfers for protocol-owned accounts"}),jsxRuntimeExports.jsx("li",{children:"- Rate-limited minting with cooldown periods"}),jsxRuntimeExports.jsx("li",{children:"- Overflow protection using checked math operations"}),jsxRuntimeExports.jsx("li",{children:"- Emergency freeze capabilities for governance"})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Staking Mechanism Implementation"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_Core Staking Logic:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:["- State Management:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• User stake tracking via PDA-derived accounts"}),jsxRuntimeExports.jsx("li",{children:"• Global state for protocol parameters"}),jsxRuntimeExports.jsx("li",{children:"• Reward distribution tracking"})]})]}),jsxRuntimeExports.jsxs("li",{children:["- Reward Calculation:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Time-weighted accumulation using slot tracking"}),jsxRuntimeExports.jsx("li",{children:"• Tier-based multipliers with compound effects"}),jsxRuntimeExports.jsx("li",{children:"• Dynamic APY adjustments based on total stake"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Advanced Protocol Features"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_Dynamic APY System:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:["- Implementation:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Chainlink VRF integration for randomization"}),jsxRuntimeExports.jsx("li",{children:"• Market volatility tracking via oracle feeds"}),jsxRuntimeExports.jsx("li",{children:"• Governance-controlled bounds and adjustment periods"})]})]}),jsxRuntimeExports.jsxs("li",{children:["- Emergency Controls:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Circuit breaker implementation"}),jsxRuntimeExports.jsx("li",{children:"• Tiered authorization system"}),jsxRuntimeExports.jsx("li",{children:"• Automated response triggers"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Treasury Management System"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_Architecture:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:["- Multi-signature Implementation:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• M-of-N signature scheme using threshold cryptography"}),jsxRuntimeExports.jsx("li",{children:"• Time-locked execution for major operations"}),jsxRuntimeExports.jsx("li",{children:"• Proposal queuing system"})]})]}),jsxRuntimeExports.jsxs("li",{children:["- Fund Management:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Automated reward distribution"}),jsxRuntimeExports.jsx("li",{children:"• Strategic reserve allocation"}),jsxRuntimeExports.jsx("li",{children:"• Emergency fund segregation"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Integration Guidelines"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_Smart Contract Interaction:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:["- Program Calls:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• CPI safety checks and guards"}),jsxRuntimeExports.jsx("li",{children:"• Account validation procedures"}),jsxRuntimeExports.jsx("li",{children:"• Error handling patterns"})]})]}),jsxRuntimeExports.jsxs("li",{children:["- State Management:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Account data serialization"}),jsxRuntimeExports.jsx("li",{children:"• State transition validations"}),jsxRuntimeExports.jsx("li",{children:"• Atomic operation patterns"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Security Considerations"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_Security Measures:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:["- Access Control:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Role-based permission system"}),jsxRuntimeExports.jsx("li",{children:"• Signature verification procedures"}),jsxRuntimeExports.jsx("li",{children:"• Program authority constraints"})]})]}),jsxRuntimeExports.jsxs("li",{children:["- Attack Prevention:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Reentrancy guards"}),jsxRuntimeExports.jsx("li",{children:"• Integer overflow protection"}),jsxRuntimeExports.jsx("li",{children:"• Flash loan attack mitigation"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl mb-4",children:[">","_Performance Optimization"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[">","_Optimization Strategies:"]}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:["- Compute Unit Management:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Instruction batching patterns"}),jsxRuntimeExports.jsx("li",{children:"• Data packing optimization"}),jsxRuntimeExports.jsx("li",{children:"• Memory allocation strategies"})]})]}),jsxRuntimeExports.jsxs("li",{children:["- Transaction Efficiency:",jsxRuntimeExports.jsxs("ul",{className:"ml-4 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Parallel transaction processing"}),jsxRuntimeExports.jsx("li",{children:"• Account prefetching"}),jsxRuntimeExports.jsx("li",{children:"• State compression techniques"})]})]})]})]})]})]})]})})}):null}function Home(){const o=useNavigate(),{connected:e,connect:s,disconnect:a}=useWallet(),[c,d]=reactExports.useState(!1),h=[{icon:jsxRuntimeExports.jsx(Twitter,{className:"w-6 h-6"}),url:"https://x.com/deathprotocol",label:"Twitter"},{icon:jsxRuntimeExports.jsx(Send,{className:"w-6 h-6"}),url:"https://t.me/deathprotocol",label:"Telegram"},{icon:jsxRuntimeExports.jsx(BarChart3,{className:"w-6 h-6"}),url:"https://dexscreener.com/solana/death",label:"DexScreener"},{icon:jsxRuntimeExports.jsx(Globe,{className:"w-6 h-6"}),url:"https://deathprotocol.xyz",label:"Website"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black text-cyan-400 font-mono relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"grid-overlay"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/50 pointer-events-none z-[2]"}),jsxRuntimeExports.jsx(ScrollingHeader,{}),jsxRuntimeExports.jsxs("div",{className:"content-wrapper flex flex-col items-center justify-center min-h-screen pt-16 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"w-40 h-40 border-4 border-cyan-400 flex items-center justify-center mb-12 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-cyan-400/5"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 animate-pulse bg-cyan-400/10"}),jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/DrippyDrippyDrip/windowsxp/refs/heads/main/blue-mark.png",alt:"Blue Mark",className:"w-full h-full p-2 relative z-10 object-contain",style:{filter:"brightness(1.2) drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"}})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-8 mb-16",children:[jsxRuntimeExports.jsx("button",{onClick:()=>o("/staking"),className:"tron-button",children:"STAKING"}),jsxRuntimeExports.jsx("button",{onClick:e?a:s,className:"tron-button",children:e?"DISCONNECT":"CONNECT"}),jsxRuntimeExports.jsx("button",{onClick:()=>d(!0),className:"tron-button",children:"DOCS"})]}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-8 flex gap-6",children:h.map((_,b)=>jsxRuntimeExports.jsxs("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 border-2 border-cyan-400 flex items-center justify-center hover:bg-cyan-400/10 relative z-10 transition-all duration-300 hover:scale-110 group",style:{animation:`pulse-glow ${2+b*.5}s infinite`,animationDelay:`${b*.2}s`},children:[jsxRuntimeExports.jsx("span",{className:"absolute bottom-full mb-2 text-sm opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:_.label}),_.icon]},b))})]}),jsxRuntimeExports.jsx(DocsPopup,{isOpen:c,onClose:()=>d(!1)})]})}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray$1;base64Js.fromByteArray=fromByteArray$1;var lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len$1=code$1.length;i$2<len$1;++i$2)lookup$1[i$2]=code$1[i$2],revLookup$1[code$1.charCodeAt(i$2)]=i$2;revLookup$1[45]=62;revLookup$1[95]=63;function getLens$1(o){var e=o.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=o.indexOf("=");s===-1&&(s=e);var a=s===e?0:4-s%4;return[s,a]}function byteLength(o){var e=getLens$1(o),s=e[0],a=e[1];return(s+a)*3/4-a}function _byteLength$1(o,e,s){return(e+s)*3/4-s}function toByteArray$1(o){var e,s=getLens$1(o),a=s[0],c=s[1],d=new Arr$1(_byteLength$1(o,a,c)),h=0,_=c>0?a-4:a,b;for(b=0;b<_;b+=4)e=revLookup$1[o.charCodeAt(b)]<<18|revLookup$1[o.charCodeAt(b+1)]<<12|revLookup$1[o.charCodeAt(b+2)]<<6|revLookup$1[o.charCodeAt(b+3)],d[h++]=e>>16&255,d[h++]=e>>8&255,d[h++]=e&255;return c===2&&(e=revLookup$1[o.charCodeAt(b)]<<2|revLookup$1[o.charCodeAt(b+1)]>>4,d[h++]=e&255),c===1&&(e=revLookup$1[o.charCodeAt(b)]<<10|revLookup$1[o.charCodeAt(b+1)]<<4|revLookup$1[o.charCodeAt(b+2)]>>2,d[h++]=e>>8&255,d[h++]=e&255),d}function tripletToBase64$1(o){return lookup$1[o>>18&63]+lookup$1[o>>12&63]+lookup$1[o>>6&63]+lookup$1[o&63]}function encodeChunk$1(o,e,s){for(var a,c=[],d=e;d<s;d+=3)a=(o[d]<<16&16711680)+(o[d+1]<<8&65280)+(o[d+2]&255),c.push(tripletToBase64$1(a));return c.join("")}function fromByteArray$1(o){for(var e,s=o.length,a=s%3,c=[],d=16383,h=0,_=s-a;h<_;h+=d)c.push(encodeChunk$1(o,h,h+d>_?_:h+d));return a===1?(e=o[s-1],c.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):a===2&&(e=(o[s-2]<<8)+o[s-1],c.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),c.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(o,e,s,a,c){var d,h,_=c*8-a-1,b=(1<<_)-1,$=b>>1,j=-7,rt=s?c-1:0,it=s?-1:1,ot=o[e+rt];for(rt+=it,d=ot&(1<<-j)-1,ot>>=-j,j+=_;j>0;d=d*256+o[e+rt],rt+=it,j-=8);for(h=d&(1<<-j)-1,d>>=-j,j+=a;j>0;h=h*256+o[e+rt],rt+=it,j-=8);if(d===0)d=1-$;else{if(d===b)return h?NaN:(ot?-1:1)*(1/0);h=h+Math.pow(2,a),d=d-$}return(ot?-1:1)*h*Math.pow(2,d-a)};ieee754.write=function(o,e,s,a,c,d){var h,_,b,$=d*8-c-1,j=(1<<$)-1,rt=j>>1,it=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,ot=a?0:d-1,ht=a?1:-1,bt=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(_=isNaN(e)?1:0,h=j):(h=Math.floor(Math.log(e)/Math.LN2),e*(b=Math.pow(2,-h))<1&&(h--,b*=2),h+rt>=1?e+=it/b:e+=it*Math.pow(2,1-rt),e*b>=2&&(h++,b/=2),h+rt>=j?(_=0,h=j):h+rt>=1?(_=(e*b-1)*Math.pow(2,c),h=h+rt):(_=e*Math.pow(2,rt-1)*Math.pow(2,c),h=0));c>=8;o[s+ot]=_&255,ot+=ht,_/=256,c-=8);for(h=h<<c|_,$+=c;$>0;o[s+ot]=h&255,ot+=ht,h/=256,$-=8);o[s+ot-ht]|=bt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){const e=base64Js,s=ieee754,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=j,o.SlowBuffer=Rt,o.INSPECT_MAX_BYTES=50;const c=2147483647;o.kMaxLength=c;const{Uint8Array:d,ArrayBuffer:h,SharedArrayBuffer:_}=globalThis;j.TYPED_ARRAY_SUPPORT=b(),!j.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{const wt=new d(1),nt={foo:function(){return 42}};return Object.setPrototypeOf(nt,d.prototype),Object.setPrototypeOf(wt,nt),wt.foo()===42}catch{return!1}}Object.defineProperty(j.prototype,"parent",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.buffer}}),Object.defineProperty(j.prototype,"offset",{enumerable:!0,get:function(){if(j.isBuffer(this))return this.byteOffset}});function $(wt){if(wt>c)throw new RangeError('The value "'+wt+'" is invalid for option "size"');const nt=new d(wt);return Object.setPrototypeOf(nt,j.prototype),nt}function j(wt,nt,st){if(typeof wt=="number"){if(typeof nt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ht(wt)}return rt(wt,nt,st)}j.poolSize=8192;function rt(wt,nt,st){if(typeof wt=="string")return bt(wt,nt);if(h.isView(wt))return dt(wt);if(wt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wt);if(Mt(wt,h)||wt&&Mt(wt.buffer,h)||typeof _<"u"&&(Mt(wt,_)||wt&&Mt(wt.buffer,_)))return lt(wt,nt,st);if(typeof wt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const At=wt.valueOf&&wt.valueOf();if(At!=null&&At!==wt)return j.from(At,nt,st);const Lt=at(wt);if(Lt)return Lt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof wt[Symbol.toPrimitive]=="function")return j.from(wt[Symbol.toPrimitive]("string"),nt,st);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof wt)}j.from=function(wt,nt,st){return rt(wt,nt,st)},Object.setPrototypeOf(j.prototype,d.prototype),Object.setPrototypeOf(j,d);function it(wt){if(typeof wt!="number")throw new TypeError('"size" argument must be of type number');if(wt<0)throw new RangeError('The value "'+wt+'" is invalid for option "size"')}function ot(wt,nt,st){return it(wt),wt<=0?$(wt):nt!==void 0?typeof st=="string"?$(wt).fill(nt,st):$(wt).fill(nt):$(wt)}j.alloc=function(wt,nt,st){return ot(wt,nt,st)};function ht(wt){return it(wt),$(wt<0?0:xt(wt)|0)}j.allocUnsafe=function(wt){return ht(wt)},j.allocUnsafeSlow=function(wt){return ht(wt)};function bt(wt,nt){if((typeof nt!="string"||nt==="")&&(nt="utf8"),!j.isEncoding(nt))throw new TypeError("Unknown encoding: "+nt);const st=Tt(wt,nt)|0;let At=$(st);const Lt=At.write(wt,nt);return Lt!==st&&(At=At.slice(0,Lt)),At}function pt(wt){const nt=wt.length<0?0:xt(wt.length)|0,st=$(nt);for(let At=0;At<nt;At+=1)st[At]=wt[At]&255;return st}function dt(wt){if(Mt(wt,d)){const nt=new d(wt);return lt(nt.buffer,nt.byteOffset,nt.byteLength)}return pt(wt)}function lt(wt,nt,st){if(nt<0||wt.byteLength<nt)throw new RangeError('"offset" is outside of buffer bounds');if(wt.byteLength<nt+(st||0))throw new RangeError('"length" is outside of buffer bounds');let At;return nt===void 0&&st===void 0?At=new d(wt):st===void 0?At=new d(wt,nt):At=new d(wt,nt,st),Object.setPrototypeOf(At,j.prototype),At}function at(wt){if(j.isBuffer(wt)){const nt=xt(wt.length)|0,st=$(nt);return st.length===0||wt.copy(st,0,0,nt),st}if(wt.length!==void 0)return typeof wt.length!="number"||Wt(wt.length)?$(0):pt(wt);if(wt.type==="Buffer"&&Array.isArray(wt.data))return pt(wt.data)}function xt(wt){if(wt>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return wt|0}function Rt(wt){return+wt!=wt&&(wt=0),j.alloc(+wt)}j.isBuffer=function(nt){return nt!=null&&nt._isBuffer===!0&&nt!==j.prototype},j.compare=function(nt,st){if(Mt(nt,d)&&(nt=j.from(nt,nt.offset,nt.byteLength)),Mt(st,d)&&(st=j.from(st,st.offset,st.byteLength)),!j.isBuffer(nt)||!j.isBuffer(st))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(nt===st)return 0;let At=nt.length,Lt=st.length;for(let Ot=0,Ft=Math.min(At,Lt);Ot<Ft;++Ot)if(nt[Ot]!==st[Ot]){At=nt[Ot],Lt=st[Ot];break}return At<Lt?-1:Lt<At?1:0},j.isEncoding=function(nt){switch(String(nt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.concat=function(nt,st){if(!Array.isArray(nt))throw new TypeError('"list" argument must be an Array of Buffers');if(nt.length===0)return j.alloc(0);let At;if(st===void 0)for(st=0,At=0;At<nt.length;++At)st+=nt[At].length;const Lt=j.allocUnsafe(st);let Ot=0;for(At=0;At<nt.length;++At){let Ft=nt[At];if(Mt(Ft,d))Ot+Ft.length>Lt.length?(j.isBuffer(Ft)||(Ft=j.from(Ft)),Ft.copy(Lt,Ot)):d.prototype.set.call(Lt,Ft,Ot);else if(j.isBuffer(Ft))Ft.copy(Lt,Ot);else throw new TypeError('"list" argument must be an Array of Buffers');Ot+=Ft.length}return Lt};function Tt(wt,nt){if(j.isBuffer(wt))return wt.length;if(h.isView(wt)||Mt(wt,h))return wt.byteLength;if(typeof wt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof wt);const st=wt.length,At=arguments.length>2&&arguments[2]===!0;if(!At&&st===0)return 0;let Lt=!1;for(;;)switch(nt){case"ascii":case"latin1":case"binary":return st;case"utf8":case"utf-8":return ln(wt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st*2;case"hex":return st>>>1;case"base64":return cn(wt).length;default:if(Lt)return At?-1:ln(wt).length;nt=(""+nt).toLowerCase(),Lt=!0}}j.byteLength=Tt;function It(wt,nt,st){let At=!1;if((nt===void 0||nt<0)&&(nt=0),nt>this.length||((st===void 0||st>this.length)&&(st=this.length),st<=0)||(st>>>=0,nt>>>=0,st<=nt))return"";for(wt||(wt="utf8");;)switch(wt){case"hex":return et(this,nt,st);case"utf8":case"utf-8":return mt(this,nt,st);case"ascii":return St(this,nt,st);case"latin1":case"binary":return _t(this,nt,st);case"base64":return ct(this,nt,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ft(this,nt,st);default:if(At)throw new TypeError("Unknown encoding: "+wt);wt=(wt+"").toLowerCase(),At=!0}}j.prototype._isBuffer=!0;function Bt(wt,nt,st){const At=wt[nt];wt[nt]=wt[st],wt[st]=At}j.prototype.swap16=function(){const nt=this.length;if(nt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let st=0;st<nt;st+=2)Bt(this,st,st+1);return this},j.prototype.swap32=function(){const nt=this.length;if(nt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let st=0;st<nt;st+=4)Bt(this,st,st+3),Bt(this,st+1,st+2);return this},j.prototype.swap64=function(){const nt=this.length;if(nt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let st=0;st<nt;st+=8)Bt(this,st,st+7),Bt(this,st+1,st+6),Bt(this,st+2,st+5),Bt(this,st+3,st+4);return this},j.prototype.toString=function(){const nt=this.length;return nt===0?"":arguments.length===0?mt(this,0,nt):It.apply(this,arguments)},j.prototype.toLocaleString=j.prototype.toString,j.prototype.equals=function(nt){if(!j.isBuffer(nt))throw new TypeError("Argument must be a Buffer");return this===nt?!0:j.compare(this,nt)===0},j.prototype.inspect=function(){let nt="";const st=o.INSPECT_MAX_BYTES;return nt=this.toString("hex",0,st).replace(/(.{2})/g,"$1 ").trim(),this.length>st&&(nt+=" ... "),"<Buffer "+nt+">"},a&&(j.prototype[a]=j.prototype.inspect),j.prototype.compare=function(nt,st,At,Lt,Ot){if(Mt(nt,d)&&(nt=j.from(nt,nt.offset,nt.byteLength)),!j.isBuffer(nt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof nt);if(st===void 0&&(st=0),At===void 0&&(At=nt?nt.length:0),Lt===void 0&&(Lt=0),Ot===void 0&&(Ot=this.length),st<0||At>nt.length||Lt<0||Ot>this.length)throw new RangeError("out of range index");if(Lt>=Ot&&st>=At)return 0;if(Lt>=Ot)return-1;if(st>=At)return 1;if(st>>>=0,At>>>=0,Lt>>>=0,Ot>>>=0,this===nt)return 0;let Ft=Ot-Lt,rn=At-st;const Jt=Math.min(Ft,rn),Qt=this.slice(Lt,Ot),fn=nt.slice(st,At);for(let nn=0;nn<Jt;++nn)if(Qt[nn]!==fn[nn]){Ft=Qt[nn],rn=fn[nn];break}return Ft<rn?-1:rn<Ft?1:0};function Pt(wt,nt,st,At,Lt){if(wt.length===0)return-1;if(typeof st=="string"?(At=st,st=0):st>2147483647?st=2147483647:st<-2147483648&&(st=-2147483648),st=+st,Wt(st)&&(st=Lt?0:wt.length-1),st<0&&(st=wt.length+st),st>=wt.length){if(Lt)return-1;st=wt.length-1}else if(st<0)if(Lt)st=0;else return-1;if(typeof nt=="string"&&(nt=j.from(nt,At)),j.isBuffer(nt))return nt.length===0?-1:zt(wt,nt,st,At,Lt);if(typeof nt=="number")return nt=nt&255,typeof d.prototype.indexOf=="function"?Lt?d.prototype.indexOf.call(wt,nt,st):d.prototype.lastIndexOf.call(wt,nt,st):zt(wt,[nt],st,At,Lt);throw new TypeError("val must be string, number or Buffer")}function zt(wt,nt,st,At,Lt){let Ot=1,Ft=wt.length,rn=nt.length;if(At!==void 0&&(At=String(At).toLowerCase(),At==="ucs2"||At==="ucs-2"||At==="utf16le"||At==="utf-16le")){if(wt.length<2||nt.length<2)return-1;Ot=2,Ft/=2,rn/=2,st/=2}function Jt(fn,nn){return Ot===1?fn[nn]:fn.readUInt16BE(nn*Ot)}let Qt;if(Lt){let fn=-1;for(Qt=st;Qt<Ft;Qt++)if(Jt(wt,Qt)===Jt(nt,fn===-1?0:Qt-fn)){if(fn===-1&&(fn=Qt),Qt-fn+1===rn)return fn*Ot}else fn!==-1&&(Qt-=Qt-fn),fn=-1}else for(st+rn>Ft&&(st=Ft-rn),Qt=st;Qt>=0;Qt--){let fn=!0;for(let nn=0;nn<rn;nn++)if(Jt(wt,Qt+nn)!==Jt(nt,nn)){fn=!1;break}if(fn)return Qt}return-1}j.prototype.includes=function(nt,st,At){return this.indexOf(nt,st,At)!==-1},j.prototype.indexOf=function(nt,st,At){return Pt(this,nt,st,At,!0)},j.prototype.lastIndexOf=function(nt,st,At){return Pt(this,nt,st,At,!1)};function Ht(wt,nt,st,At){st=Number(st)||0;const Lt=wt.length-st;At?(At=Number(At),At>Lt&&(At=Lt)):At=Lt;const Ot=nt.length;At>Ot/2&&(At=Ot/2);let Ft;for(Ft=0;Ft<At;++Ft){const rn=parseInt(nt.substr(Ft*2,2),16);if(Wt(rn))return Ft;wt[st+Ft]=rn}return Ft}function Ut(wt,nt,st,At){return Ct(ln(nt,wt.length-st),wt,st,At)}function Et(wt,nt,st,At){return Ct(an(nt),wt,st,At)}function _e(wt,nt,st,At){return Ct(cn(nt),wt,st,At)}function tt(wt,nt,st,At){return Ct(Tn(nt,wt.length-st),wt,st,At)}j.prototype.write=function(nt,st,At,Lt){if(st===void 0)Lt="utf8",At=this.length,st=0;else if(At===void 0&&typeof st=="string")Lt=st,At=this.length,st=0;else if(isFinite(st))st=st>>>0,isFinite(At)?(At=At>>>0,Lt===void 0&&(Lt="utf8")):(Lt=At,At=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ot=this.length-st;if((At===void 0||At>Ot)&&(At=Ot),nt.length>0&&(At<0||st<0)||st>this.length)throw new RangeError("Attempt to write outside buffer bounds");Lt||(Lt="utf8");let Ft=!1;for(;;)switch(Lt){case"hex":return Ht(this,nt,st,At);case"utf8":case"utf-8":return Ut(this,nt,st,At);case"ascii":case"latin1":case"binary":return Et(this,nt,st,At);case"base64":return _e(this,nt,st,At);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,nt,st,At);default:if(Ft)throw new TypeError("Unknown encoding: "+Lt);Lt=(""+Lt).toLowerCase(),Ft=!0}},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ct(wt,nt,st){return nt===0&&st===wt.length?e.fromByteArray(wt):e.fromByteArray(wt.slice(nt,st))}function mt(wt,nt,st){st=Math.min(wt.length,st);const At=[];let Lt=nt;for(;Lt<st;){const Ot=wt[Lt];let Ft=null,rn=Ot>239?4:Ot>223?3:Ot>191?2:1;if(Lt+rn<=st){let Jt,Qt,fn,nn;switch(rn){case 1:Ot<128&&(Ft=Ot);break;case 2:Jt=wt[Lt+1],(Jt&192)===128&&(nn=(Ot&31)<<6|Jt&63,nn>127&&(Ft=nn));break;case 3:Jt=wt[Lt+1],Qt=wt[Lt+2],(Jt&192)===128&&(Qt&192)===128&&(nn=(Ot&15)<<12|(Jt&63)<<6|Qt&63,nn>2047&&(nn<55296||nn>57343)&&(Ft=nn));break;case 4:Jt=wt[Lt+1],Qt=wt[Lt+2],fn=wt[Lt+3],(Jt&192)===128&&(Qt&192)===128&&(fn&192)===128&&(nn=(Ot&15)<<18|(Jt&63)<<12|(Qt&63)<<6|fn&63,nn>65535&&nn<1114112&&(Ft=nn))}}Ft===null?(Ft=65533,rn=1):Ft>65535&&(Ft-=65536,At.push(Ft>>>10&1023|55296),Ft=56320|Ft&1023),At.push(Ft),Lt+=rn}return gt(At)}const yt=4096;function gt(wt){const nt=wt.length;if(nt<=yt)return String.fromCharCode.apply(String,wt);let st="",At=0;for(;At<nt;)st+=String.fromCharCode.apply(String,wt.slice(At,At+=yt));return st}function St(wt,nt,st){let At="";st=Math.min(wt.length,st);for(let Lt=nt;Lt<st;++Lt)At+=String.fromCharCode(wt[Lt]&127);return At}function _t(wt,nt,st){let At="";st=Math.min(wt.length,st);for(let Lt=nt;Lt<st;++Lt)At+=String.fromCharCode(wt[Lt]);return At}function et(wt,nt,st){const At=wt.length;(!nt||nt<0)&&(nt=0),(!st||st<0||st>At)&&(st=At);let Lt="";for(let Ot=nt;Ot<st;++Ot)Lt+=Yt[wt[Ot]];return Lt}function ft(wt,nt,st){const At=wt.slice(nt,st);let Lt="";for(let Ot=0;Ot<At.length-1;Ot+=2)Lt+=String.fromCharCode(At[Ot]+At[Ot+1]*256);return Lt}j.prototype.slice=function(nt,st){const At=this.length;nt=~~nt,st=st===void 0?At:~~st,nt<0?(nt+=At,nt<0&&(nt=0)):nt>At&&(nt=At),st<0?(st+=At,st<0&&(st=0)):st>At&&(st=At),st<nt&&(st=nt);const Lt=this.subarray(nt,st);return Object.setPrototypeOf(Lt,j.prototype),Lt};function vt(wt,nt,st){if(wt%1!==0||wt<0)throw new RangeError("offset is not uint");if(wt+nt>st)throw new RangeError("Trying to access beyond buffer length")}j.prototype.readUintLE=j.prototype.readUIntLE=function(nt,st,At){nt=nt>>>0,st=st>>>0,At||vt(nt,st,this.length);let Lt=this[nt],Ot=1,Ft=0;for(;++Ft<st&&(Ot*=256);)Lt+=this[nt+Ft]*Ot;return Lt},j.prototype.readUintBE=j.prototype.readUIntBE=function(nt,st,At){nt=nt>>>0,st=st>>>0,At||vt(nt,st,this.length);let Lt=this[nt+--st],Ot=1;for(;st>0&&(Ot*=256);)Lt+=this[nt+--st]*Ot;return Lt},j.prototype.readUint8=j.prototype.readUInt8=function(nt,st){return nt=nt>>>0,st||vt(nt,1,this.length),this[nt]},j.prototype.readUint16LE=j.prototype.readUInt16LE=function(nt,st){return nt=nt>>>0,st||vt(nt,2,this.length),this[nt]|this[nt+1]<<8},j.prototype.readUint16BE=j.prototype.readUInt16BE=function(nt,st){return nt=nt>>>0,st||vt(nt,2,this.length),this[nt]<<8|this[nt+1]},j.prototype.readUint32LE=j.prototype.readUInt32LE=function(nt,st){return nt=nt>>>0,st||vt(nt,4,this.length),(this[nt]|this[nt+1]<<8|this[nt+2]<<16)+this[nt+3]*16777216},j.prototype.readUint32BE=j.prototype.readUInt32BE=function(nt,st){return nt=nt>>>0,st||vt(nt,4,this.length),this[nt]*16777216+(this[nt+1]<<16|this[nt+2]<<8|this[nt+3])},j.prototype.readBigUInt64LE=Zt(function(nt){nt=nt>>>0,dn(nt,"offset");const st=this[nt],At=this[nt+7];(st===void 0||At===void 0)&&un(nt,this.length-8);const Lt=st+this[++nt]*2**8+this[++nt]*2**16+this[++nt]*2**24,Ot=this[++nt]+this[++nt]*2**8+this[++nt]*2**16+At*2**24;return BigInt(Lt)+(BigInt(Ot)<<BigInt(32))}),j.prototype.readBigUInt64BE=Zt(function(nt){nt=nt>>>0,dn(nt,"offset");const st=this[nt],At=this[nt+7];(st===void 0||At===void 0)&&un(nt,this.length-8);const Lt=st*2**24+this[++nt]*2**16+this[++nt]*2**8+this[++nt],Ot=this[++nt]*2**24+this[++nt]*2**16+this[++nt]*2**8+At;return(BigInt(Lt)<<BigInt(32))+BigInt(Ot)}),j.prototype.readIntLE=function(nt,st,At){nt=nt>>>0,st=st>>>0,At||vt(nt,st,this.length);let Lt=this[nt],Ot=1,Ft=0;for(;++Ft<st&&(Ot*=256);)Lt+=this[nt+Ft]*Ot;return Ot*=128,Lt>=Ot&&(Lt-=Math.pow(2,8*st)),Lt},j.prototype.readIntBE=function(nt,st,At){nt=nt>>>0,st=st>>>0,At||vt(nt,st,this.length);let Lt=st,Ot=1,Ft=this[nt+--Lt];for(;Lt>0&&(Ot*=256);)Ft+=this[nt+--Lt]*Ot;return Ot*=128,Ft>=Ot&&(Ft-=Math.pow(2,8*st)),Ft},j.prototype.readInt8=function(nt,st){return nt=nt>>>0,st||vt(nt,1,this.length),this[nt]&128?(255-this[nt]+1)*-1:this[nt]},j.prototype.readInt16LE=function(nt,st){nt=nt>>>0,st||vt(nt,2,this.length);const At=this[nt]|this[nt+1]<<8;return At&32768?At|4294901760:At},j.prototype.readInt16BE=function(nt,st){nt=nt>>>0,st||vt(nt,2,this.length);const At=this[nt+1]|this[nt]<<8;return At&32768?At|4294901760:At},j.prototype.readInt32LE=function(nt,st){return nt=nt>>>0,st||vt(nt,4,this.length),this[nt]|this[nt+1]<<8|this[nt+2]<<16|this[nt+3]<<24},j.prototype.readInt32BE=function(nt,st){return nt=nt>>>0,st||vt(nt,4,this.length),this[nt]<<24|this[nt+1]<<16|this[nt+2]<<8|this[nt+3]},j.prototype.readBigInt64LE=Zt(function(nt){nt=nt>>>0,dn(nt,"offset");const st=this[nt],At=this[nt+7];(st===void 0||At===void 0)&&un(nt,this.length-8);const Lt=this[nt+4]+this[nt+5]*2**8+this[nt+6]*2**16+(At<<24);return(BigInt(Lt)<<BigInt(32))+BigInt(st+this[++nt]*2**8+this[++nt]*2**16+this[++nt]*2**24)}),j.prototype.readBigInt64BE=Zt(function(nt){nt=nt>>>0,dn(nt,"offset");const st=this[nt],At=this[nt+7];(st===void 0||At===void 0)&&un(nt,this.length-8);const Lt=(st<<24)+this[++nt]*2**16+this[++nt]*2**8+this[++nt];return(BigInt(Lt)<<BigInt(32))+BigInt(this[++nt]*2**24+this[++nt]*2**16+this[++nt]*2**8+At)}),j.prototype.readFloatLE=function(nt,st){return nt=nt>>>0,st||vt(nt,4,this.length),s.read(this,nt,!0,23,4)},j.prototype.readFloatBE=function(nt,st){return nt=nt>>>0,st||vt(nt,4,this.length),s.read(this,nt,!1,23,4)},j.prototype.readDoubleLE=function(nt,st){return nt=nt>>>0,st||vt(nt,8,this.length),s.read(this,nt,!0,52,8)},j.prototype.readDoubleBE=function(nt,st){return nt=nt>>>0,st||vt(nt,8,this.length),s.read(this,nt,!1,52,8)};function $t(wt,nt,st,At,Lt,Ot){if(!j.isBuffer(wt))throw new TypeError('"buffer" argument must be a Buffer instance');if(nt>Lt||nt<Ot)throw new RangeError('"value" argument is out of bounds');if(st+At>wt.length)throw new RangeError("Index out of range")}j.prototype.writeUintLE=j.prototype.writeUIntLE=function(nt,st,At,Lt){if(nt=+nt,st=st>>>0,At=At>>>0,!Lt){const rn=Math.pow(2,8*At)-1;$t(this,nt,st,At,rn,0)}let Ot=1,Ft=0;for(this[st]=nt&255;++Ft<At&&(Ot*=256);)this[st+Ft]=nt/Ot&255;return st+At},j.prototype.writeUintBE=j.prototype.writeUIntBE=function(nt,st,At,Lt){if(nt=+nt,st=st>>>0,At=At>>>0,!Lt){const rn=Math.pow(2,8*At)-1;$t(this,nt,st,At,rn,0)}let Ot=At-1,Ft=1;for(this[st+Ot]=nt&255;--Ot>=0&&(Ft*=256);)this[st+Ot]=nt/Ft&255;return st+At},j.prototype.writeUint8=j.prototype.writeUInt8=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,1,255,0),this[st]=nt&255,st+1},j.prototype.writeUint16LE=j.prototype.writeUInt16LE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,2,65535,0),this[st]=nt&255,this[st+1]=nt>>>8,st+2},j.prototype.writeUint16BE=j.prototype.writeUInt16BE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,2,65535,0),this[st]=nt>>>8,this[st+1]=nt&255,st+2},j.prototype.writeUint32LE=j.prototype.writeUInt32LE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,4,4294967295,0),this[st+3]=nt>>>24,this[st+2]=nt>>>16,this[st+1]=nt>>>8,this[st]=nt&255,st+4},j.prototype.writeUint32BE=j.prototype.writeUInt32BE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,4,4294967295,0),this[st]=nt>>>24,this[st+1]=nt>>>16,this[st+2]=nt>>>8,this[st+3]=nt&255,st+4};function kt(wt,nt,st,At,Lt){on(nt,At,Lt,wt,st,7);let Ot=Number(nt&BigInt(4294967295));wt[st++]=Ot,Ot=Ot>>8,wt[st++]=Ot,Ot=Ot>>8,wt[st++]=Ot,Ot=Ot>>8,wt[st++]=Ot;let Ft=Number(nt>>BigInt(32)&BigInt(4294967295));return wt[st++]=Ft,Ft=Ft>>8,wt[st++]=Ft,Ft=Ft>>8,wt[st++]=Ft,Ft=Ft>>8,wt[st++]=Ft,st}function jt(wt,nt,st,At,Lt){on(nt,At,Lt,wt,st,7);let Ot=Number(nt&BigInt(4294967295));wt[st+7]=Ot,Ot=Ot>>8,wt[st+6]=Ot,Ot=Ot>>8,wt[st+5]=Ot,Ot=Ot>>8,wt[st+4]=Ot;let Ft=Number(nt>>BigInt(32)&BigInt(4294967295));return wt[st+3]=Ft,Ft=Ft>>8,wt[st+2]=Ft,Ft=Ft>>8,wt[st+1]=Ft,Ft=Ft>>8,wt[st]=Ft,st+8}j.prototype.writeBigUInt64LE=Zt(function(nt,st=0){return kt(this,nt,st,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeBigUInt64BE=Zt(function(nt,st=0){return jt(this,nt,st,BigInt(0),BigInt("0xffffffffffffffff"))}),j.prototype.writeIntLE=function(nt,st,At,Lt){if(nt=+nt,st=st>>>0,!Lt){const Jt=Math.pow(2,8*At-1);$t(this,nt,st,At,Jt-1,-Jt)}let Ot=0,Ft=1,rn=0;for(this[st]=nt&255;++Ot<At&&(Ft*=256);)nt<0&&rn===0&&this[st+Ot-1]!==0&&(rn=1),this[st+Ot]=(nt/Ft>>0)-rn&255;return st+At},j.prototype.writeIntBE=function(nt,st,At,Lt){if(nt=+nt,st=st>>>0,!Lt){const Jt=Math.pow(2,8*At-1);$t(this,nt,st,At,Jt-1,-Jt)}let Ot=At-1,Ft=1,rn=0;for(this[st+Ot]=nt&255;--Ot>=0&&(Ft*=256);)nt<0&&rn===0&&this[st+Ot+1]!==0&&(rn=1),this[st+Ot]=(nt/Ft>>0)-rn&255;return st+At},j.prototype.writeInt8=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,1,127,-128),nt<0&&(nt=255+nt+1),this[st]=nt&255,st+1},j.prototype.writeInt16LE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,2,32767,-32768),this[st]=nt&255,this[st+1]=nt>>>8,st+2},j.prototype.writeInt16BE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,2,32767,-32768),this[st]=nt>>>8,this[st+1]=nt&255,st+2},j.prototype.writeInt32LE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,4,2147483647,-2147483648),this[st]=nt&255,this[st+1]=nt>>>8,this[st+2]=nt>>>16,this[st+3]=nt>>>24,st+4},j.prototype.writeInt32BE=function(nt,st,At){return nt=+nt,st=st>>>0,At||$t(this,nt,st,4,2147483647,-2147483648),nt<0&&(nt=4294967295+nt+1),this[st]=nt>>>24,this[st+1]=nt>>>16,this[st+2]=nt>>>8,this[st+3]=nt&255,st+4},j.prototype.writeBigInt64LE=Zt(function(nt,st=0){return kt(this,nt,st,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),j.prototype.writeBigInt64BE=Zt(function(nt,st=0){return jt(this,nt,st,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Nt(wt,nt,st,At,Lt,Ot){if(st+At>wt.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("Index out of range")}function Dt(wt,nt,st,At,Lt){return nt=+nt,st=st>>>0,Lt||Nt(wt,nt,st,4),s.write(wt,nt,st,At,23,4),st+4}j.prototype.writeFloatLE=function(nt,st,At){return Dt(this,nt,st,!0,At)},j.prototype.writeFloatBE=function(nt,st,At){return Dt(this,nt,st,!1,At)};function Vt(wt,nt,st,At,Lt){return nt=+nt,st=st>>>0,Lt||Nt(wt,nt,st,8),s.write(wt,nt,st,At,52,8),st+8}j.prototype.writeDoubleLE=function(nt,st,At){return Vt(this,nt,st,!0,At)},j.prototype.writeDoubleBE=function(nt,st,At){return Vt(this,nt,st,!1,At)},j.prototype.copy=function(nt,st,At,Lt){if(!j.isBuffer(nt))throw new TypeError("argument should be a Buffer");if(At||(At=0),!Lt&&Lt!==0&&(Lt=this.length),st>=nt.length&&(st=nt.length),st||(st=0),Lt>0&&Lt<At&&(Lt=At),Lt===At||nt.length===0||this.length===0)return 0;if(st<0)throw new RangeError("targetStart out of bounds");if(At<0||At>=this.length)throw new RangeError("Index out of range");if(Lt<0)throw new RangeError("sourceEnd out of bounds");Lt>this.length&&(Lt=this.length),nt.length-st<Lt-At&&(Lt=nt.length-st+At);const Ot=Lt-At;return this===nt&&typeof d.prototype.copyWithin=="function"?this.copyWithin(st,At,Lt):d.prototype.set.call(nt,this.subarray(At,Lt),st),Ot},j.prototype.fill=function(nt,st,At,Lt){if(typeof nt=="string"){if(typeof st=="string"?(Lt=st,st=0,At=this.length):typeof At=="string"&&(Lt=At,At=this.length),Lt!==void 0&&typeof Lt!="string")throw new TypeError("encoding must be a string");if(typeof Lt=="string"&&!j.isEncoding(Lt))throw new TypeError("Unknown encoding: "+Lt);if(nt.length===1){const Ft=nt.charCodeAt(0);(Lt==="utf8"&&Ft<128||Lt==="latin1")&&(nt=Ft)}}else typeof nt=="number"?nt=nt&255:typeof nt=="boolean"&&(nt=Number(nt));if(st<0||this.length<st||this.length<At)throw new RangeError("Out of range index");if(At<=st)return this;st=st>>>0,At=At===void 0?this.length:At>>>0,nt||(nt=0);let Ot;if(typeof nt=="number")for(Ot=st;Ot<At;++Ot)this[Ot]=nt;else{const Ft=j.isBuffer(nt)?nt:j.from(nt,Lt),rn=Ft.length;if(rn===0)throw new TypeError('The value "'+nt+'" is invalid for argument "value"');for(Ot=0;Ot<At-st;++Ot)this[Ot+st]=Ft[Ot%rn]}return this};const qt={};function Gt(wt,nt,st){qt[wt]=class extends st{constructor(){super(),Object.defineProperty(this,"message",{value:nt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${wt}]`,this.stack,delete this.name}get code(){return wt}set code(Lt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Lt,writable:!0})}toString(){return`${this.name} [${wt}]: ${this.message}`}}}Gt("ERR_BUFFER_OUT_OF_BOUNDS",function(wt){return wt?`${wt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Gt("ERR_INVALID_ARG_TYPE",function(wt,nt){return`The "${wt}" argument must be of type number. Received type ${typeof nt}`},TypeError),Gt("ERR_OUT_OF_RANGE",function(wt,nt,st){let At=`The value of "${wt}" is out of range.`,Lt=st;return Number.isInteger(st)&&Math.abs(st)>2**32?Lt=en(String(st)):typeof st=="bigint"&&(Lt=String(st),(st>BigInt(2)**BigInt(32)||st<-(BigInt(2)**BigInt(32)))&&(Lt=en(Lt)),Lt+="n"),At+=` It must be ${nt}. Received ${Lt}`,At},RangeError);function en(wt){let nt="",st=wt.length;const At=wt[0]==="-"?1:0;for(;st>=At+4;st-=3)nt=`_${wt.slice(st-3,st)}${nt}`;return`${wt.slice(0,st)}${nt}`}function tn(wt,nt,st){dn(nt,"offset"),(wt[nt]===void 0||wt[nt+st]===void 0)&&un(nt,wt.length-(st+1))}function on(wt,nt,st,At,Lt,Ot){if(wt>st||wt<nt){const Ft=typeof nt=="bigint"?"n":"";let rn;throw nt===0||nt===BigInt(0)?rn=`>= 0${Ft} and < 2${Ft} ** ${(Ot+1)*8}${Ft}`:rn=`>= -(2${Ft} ** ${(Ot+1)*8-1}${Ft}) and < 2 ** ${(Ot+1)*8-1}${Ft}`,new qt.ERR_OUT_OF_RANGE("value",rn,wt)}tn(At,Lt,Ot)}function dn(wt,nt){if(typeof wt!="number")throw new qt.ERR_INVALID_ARG_TYPE(nt,"number",wt)}function un(wt,nt,st){throw Math.floor(wt)!==wt?(dn(wt,st),new qt.ERR_OUT_OF_RANGE("offset","an integer",wt)):nt<0?new qt.ERR_BUFFER_OUT_OF_BOUNDS:new qt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${nt}`,wt)}const sn=/[^+/0-9A-Za-z-_]/g;function Kt(wt){if(wt=wt.split("=")[0],wt=wt.trim().replace(sn,""),wt.length<2)return"";for(;wt.length%4!==0;)wt=wt+"=";return wt}function ln(wt,nt){nt=nt||1/0;let st;const At=wt.length;let Lt=null;const Ot=[];for(let Ft=0;Ft<At;++Ft){if(st=wt.charCodeAt(Ft),st>55295&&st<57344){if(!Lt){if(st>56319){(nt-=3)>-1&&Ot.push(239,191,189);continue}else if(Ft+1===At){(nt-=3)>-1&&Ot.push(239,191,189);continue}Lt=st;continue}if(st<56320){(nt-=3)>-1&&Ot.push(239,191,189),Lt=st;continue}st=(Lt-55296<<10|st-56320)+65536}else Lt&&(nt-=3)>-1&&Ot.push(239,191,189);if(Lt=null,st<128){if((nt-=1)<0)break;Ot.push(st)}else if(st<2048){if((nt-=2)<0)break;Ot.push(st>>6|192,st&63|128)}else if(st<65536){if((nt-=3)<0)break;Ot.push(st>>12|224,st>>6&63|128,st&63|128)}else if(st<1114112){if((nt-=4)<0)break;Ot.push(st>>18|240,st>>12&63|128,st>>6&63|128,st&63|128)}else throw new Error("Invalid code point")}return Ot}function an(wt){const nt=[];for(let st=0;st<wt.length;++st)nt.push(wt.charCodeAt(st)&255);return nt}function Tn(wt,nt){let st,At,Lt;const Ot=[];for(let Ft=0;Ft<wt.length&&!((nt-=2)<0);++Ft)st=wt.charCodeAt(Ft),At=st>>8,Lt=st%256,Ot.push(Lt),Ot.push(At);return Ot}function cn(wt){return e.toByteArray(Kt(wt))}function Ct(wt,nt,st,At){let Lt;for(Lt=0;Lt<At&&!(Lt+st>=nt.length||Lt>=wt.length);++Lt)nt[Lt+st]=wt[Lt];return Lt}function Mt(wt,nt){return wt instanceof nt||wt!=null&&wt.constructor!=null&&wt.constructor.name!=null&&wt.constructor.name===nt.name}function Wt(wt){return wt!==wt}const Yt=function(){const wt="0123456789abcdef",nt=new Array(256);for(let st=0;st<16;++st){const At=st*16;for(let Lt=0;Lt<16;++Lt)nt[At+Lt]=wt[st]+wt[Lt]}return nt}();function Zt(wt){return typeof BigInt>"u"?Xt:wt}function Xt(){throw new Error("BigInt not supported")}})(buffer);const Buffer=buffer.Buffer,Blob$4=buffer.Blob,BlobOptions=buffer.BlobOptions,Buffer$1=buffer.Buffer,File=buffer.File,FileOptions=buffer.FileOptions,INSPECT_MAX_BYTES=buffer.INSPECT_MAX_BYTES,SlowBuffer=buffer.SlowBuffer,TranscodeEncoding=buffer.TranscodeEncoding,atob=buffer.atob,btoa=buffer.btoa,constants$1=buffer.constants,isAscii=buffer.isAscii,isUtf8=buffer.isUtf8,kMaxLength=buffer.kMaxLength,kStringMaxLength=buffer.kStringMaxLength,resolveObjectURL=buffer.resolveObjectURL,transcode=buffer.transcode,dist$1=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$4,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob,btoa,constants:constants$1,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));function number$2(o){if(!Number.isSafeInteger(o)||o<0)throw new Error(`positive integer expected, not ${o}`)}function isBytes$1(o){return o instanceof Uint8Array||o!=null&&typeof o=="object"&&o.constructor.name==="Uint8Array"}function bytes(o,...e){if(!isBytes$1(o))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(o.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${o.length}`)}function hash(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$2(o.outputLen),number$2(o.blockLen)}function exists(o,e=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(e&&o.finished)throw new Error("Hash#digest() has already been called")}function output(o,e){bytes(o);const s=e.outputLen;if(o.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32$2=o=>new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)),createView=o=>new DataView(o.buffer,o.byteOffset,o.byteLength),rotr=(o,e)=>o<<32-e|o>>>e,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,byteSwap=o=>o<<24&4278190080|o<<8&16711680|o>>>8&65280|o>>>24&255;function byteSwap32(o){for(let e=0;e<o.length;e++)o[e]=byteSwap(o[e])}function utf8ToBytes$1(o){if(typeof o!="string")throw new Error(`utf8ToBytes expected string, got ${typeof o}`);return new Uint8Array(new TextEncoder().encode(o))}function toBytes(o){return typeof o=="string"&&(o=utf8ToBytes$1(o)),bytes(o),o}function concatBytes$1(...o){let e=0;for(let a=0;a<o.length;a++){const c=o[a];bytes(c),e+=c.length}const s=new Uint8Array(e);for(let a=0,c=0;a<o.length;a++){const d=o[a];s.set(d,c),c+=d.length}return s}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(o){const e=a=>o().update(toBytes(a)).digest(),s=o();return e.outputLen=s.outputLen,e.blockLen=s.blockLen,e.create=()=>o(),e}function randomBytes(o=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(o));if(crypto$1&&typeof crypto$1.randomBytes=="function")return crypto$1.randomBytes(o);throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(o,e,s,a){if(typeof o.setBigUint64=="function")return o.setBigUint64(e,s,a);const c=BigInt(32),d=BigInt(4294967295),h=Number(s>>c&d),_=Number(s&d),b=a?4:0,$=a?0:4;o.setUint32(e+b,h,a),o.setUint32(e+$,_,a)}const Chi=(o,e,s)=>o&e^~o&s,Maj=(o,e,s)=>o&e^o&s^e&s;class HashMD extends Hash{constructor(e,s,a,c){super(),this.blockLen=e,this.outputLen=s,this.padOffset=a,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:s,buffer:a,blockLen:c}=this;e=toBytes(e);const d=e.length;for(let h=0;h<d;){const _=Math.min(c-this.pos,d-h);if(_===c){const b=createView(e);for(;c<=d-h;h+=c)this.process(b,h);continue}a.set(e.subarray(h,h+_),this.pos),this.pos+=_,h+=_,this.pos===c&&(this.process(s,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:s,view:a,blockLen:c,isLE:d}=this;let{pos:h}=this;s[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>c-h&&(this.process(a,0),h=0);for(let rt=h;rt<c;rt++)s[rt]=0;setBigUint64(a,c-8,BigInt(this.length*8),d),this.process(a,0);const _=createView(e),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $=b/4,j=this.get();if($>j.length)throw new Error("_sha2: outputLen bigger than state");for(let rt=0;rt<$;rt++)_.setUint32(4*rt,j[rt],d)}digest(){const{buffer:e,outputLen:s}=this;this.digestInto(e);const a=e.slice(0,s);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:s,buffer:a,length:c,finished:d,destroyed:h,pos:_}=this;return e.length=c,e.pos=_,e.finished=d,e.destroyed=h,c%s&&e.buffer.set(a),e}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(o,e=!1){return e?{h:Number(o&U32_MASK64),l:Number(o>>_32n&U32_MASK64)}:{h:Number(o>>_32n&U32_MASK64)|0,l:Number(o&U32_MASK64)|0}}function split(o,e=!1){let s=new Uint32Array(o.length),a=new Uint32Array(o.length);for(let c=0;c<o.length;c++){const{h:d,l:h}=fromBig(o[c],e);[s[c],a[c]]=[d,h]}return[s,a]}const toBig=(o,e)=>BigInt(o>>>0)<<_32n|BigInt(e>>>0),shrSH=(o,e,s)=>o>>>s,shrSL=(o,e,s)=>o<<32-s|e>>>s,rotrSH=(o,e,s)=>o>>>s|e<<32-s,rotrSL=(o,e,s)=>o<<32-s|e>>>s,rotrBH=(o,e,s)=>o<<64-s|e>>>s-32,rotrBL=(o,e,s)=>o>>>s-32|e<<64-s,rotr32H=(o,e)=>e,rotr32L=(o,e)=>o,rotlSH=(o,e,s)=>o<<s|e>>>32-s,rotlSL=(o,e,s)=>e<<s|o>>>32-s,rotlBH=(o,e,s)=>e<<s-32|o>>>64-s,rotlBL=(o,e,s)=>o<<s-32|e>>>64-s;function add(o,e,s,a){const c=(e>>>0)+(a>>>0);return{h:o+s+(c/2**32|0)|0,l:c|0}}const add3L=(o,e,s)=>(o>>>0)+(e>>>0)+(s>>>0),add3H=(o,e,s,a)=>e+s+a+(o/2**32|0)|0,add4L=(o,e,s,a)=>(o>>>0)+(e>>>0)+(s>>>0)+(a>>>0),add4H=(o,e,s,a,c)=>e+s+a+c+(o/2**32|0)|0,add5L=(o,e,s,a,c)=>(o>>>0)+(e>>>0)+(s>>>0)+(a>>>0)+(c>>>0),add5H=(o,e,s,a,c,d)=>e+s+a+c+d+(o/2**32|0)|0,u64$3={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$3.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(o=>BigInt(o))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:s,Bh:a,Bl:c,Ch:d,Cl:h,Dh:_,Dl:b,Eh:$,El:j,Fh:rt,Fl:it,Gh:ot,Gl:ht,Hh:bt,Hl:pt}=this;return[e,s,a,c,d,h,_,b,$,j,rt,it,ot,ht,bt,pt]}set(e,s,a,c,d,h,_,b,$,j,rt,it,ot,ht,bt,pt){this.Ah=e|0,this.Al=s|0,this.Bh=a|0,this.Bl=c|0,this.Ch=d|0,this.Cl=h|0,this.Dh=_|0,this.Dl=b|0,this.Eh=$|0,this.El=j|0,this.Fh=rt|0,this.Fl=it|0,this.Gh=ot|0,this.Gl=ht|0,this.Hh=bt|0,this.Hl=pt|0}process(e,s){for(let at=0;at<16;at++,s+=4)SHA512_W_H[at]=e.getUint32(s),SHA512_W_L[at]=e.getUint32(s+=4);for(let at=16;at<80;at++){const xt=SHA512_W_H[at-15]|0,Rt=SHA512_W_L[at-15]|0,Tt=u64$3.rotrSH(xt,Rt,1)^u64$3.rotrSH(xt,Rt,8)^u64$3.shrSH(xt,Rt,7),It=u64$3.rotrSL(xt,Rt,1)^u64$3.rotrSL(xt,Rt,8)^u64$3.shrSL(xt,Rt,7),Bt=SHA512_W_H[at-2]|0,Pt=SHA512_W_L[at-2]|0,zt=u64$3.rotrSH(Bt,Pt,19)^u64$3.rotrBH(Bt,Pt,61)^u64$3.shrSH(Bt,Pt,6),Ht=u64$3.rotrSL(Bt,Pt,19)^u64$3.rotrBL(Bt,Pt,61)^u64$3.shrSL(Bt,Pt,6),Ut=u64$3.add4L(It,Ht,SHA512_W_L[at-7],SHA512_W_L[at-16]),Et=u64$3.add4H(Ut,Tt,zt,SHA512_W_H[at-7],SHA512_W_H[at-16]);SHA512_W_H[at]=Et|0,SHA512_W_L[at]=Ut|0}let{Ah:a,Al:c,Bh:d,Bl:h,Ch:_,Cl:b,Dh:$,Dl:j,Eh:rt,El:it,Fh:ot,Fl:ht,Gh:bt,Gl:pt,Hh:dt,Hl:lt}=this;for(let at=0;at<80;at++){const xt=u64$3.rotrSH(rt,it,14)^u64$3.rotrSH(rt,it,18)^u64$3.rotrBH(rt,it,41),Rt=u64$3.rotrSL(rt,it,14)^u64$3.rotrSL(rt,it,18)^u64$3.rotrBL(rt,it,41),Tt=rt&ot^~rt&bt,It=it&ht^~it&pt,Bt=u64$3.add5L(lt,Rt,It,SHA512_Kl[at],SHA512_W_L[at]),Pt=u64$3.add5H(Bt,dt,xt,Tt,SHA512_Kh[at],SHA512_W_H[at]),zt=Bt|0,Ht=u64$3.rotrSH(a,c,28)^u64$3.rotrBH(a,c,34)^u64$3.rotrBH(a,c,39),Ut=u64$3.rotrSL(a,c,28)^u64$3.rotrBL(a,c,34)^u64$3.rotrBL(a,c,39),Et=a&d^a&_^d&_,_e=c&h^c&b^h&b;dt=bt|0,lt=pt|0,bt=ot|0,pt=ht|0,ot=rt|0,ht=it|0,{h:rt,l:it}=u64$3.add($|0,j|0,Pt|0,zt|0),$=_|0,j=b|0,_=d|0,b=h|0,d=a|0,h=c|0;const tt=u64$3.add3L(zt,Ut,_e);a=u64$3.add3H(tt,Pt,Ht,Et),c=tt|0}({h:a,l:c}=u64$3.add(this.Ah|0,this.Al|0,a|0,c|0)),{h:d,l:h}=u64$3.add(this.Bh|0,this.Bl|0,d|0,h|0),{h:_,l:b}=u64$3.add(this.Ch|0,this.Cl|0,_|0,b|0),{h:$,l:j}=u64$3.add(this.Dh|0,this.Dl|0,$|0,j|0),{h:rt,l:it}=u64$3.add(this.Eh|0,this.El|0,rt|0,it|0),{h:ot,l:ht}=u64$3.add(this.Fh|0,this.Fl|0,ot|0,ht|0),{h:bt,l:pt}=u64$3.add(this.Gh|0,this.Gl|0,bt|0,pt|0),{h:dt,l:lt}=u64$3.add(this.Hh|0,this.Hl|0,dt|0,lt|0),this.set(a,c,d,h,_,b,$,j,rt,it,ot,ht,bt,pt,dt,lt)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$5=BigInt(0),_1n$7=BigInt(1),_2n$5=BigInt(2);function isBytes(o){return o instanceof Uint8Array||o!=null&&typeof o=="object"&&o.constructor.name==="Uint8Array"}function abytes(o){if(!isBytes(o))throw new Error("Uint8Array expected")}function abool(o,e){if(typeof e!="boolean")throw new Error(`${o} must be valid boolean, got "${e}".`)}const hexes=Array.from({length:256},(o,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(o){abytes(o);let e="";for(let s=0;s<o.length;s++)e+=hexes[o[s]];return e}function numberToHexUnpadded(o){const e=o.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);return BigInt(o===""?"0":`0x${o}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(o){if(o>=asciis._0&&o<=asciis._9)return o-asciis._0;if(o>=asciis._A&&o<=asciis._F)return o-(asciis._A-10);if(o>=asciis._a&&o<=asciis._f)return o-(asciis._a-10)}function hexToBytes(o){if(typeof o!="string")throw new Error("hex string expected, got "+typeof o);const e=o.length,s=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const a=new Uint8Array(s);for(let c=0,d=0;c<s;c++,d+=2){const h=asciiToBase16(o.charCodeAt(d)),_=asciiToBase16(o.charCodeAt(d+1));if(h===void 0||_===void 0){const b=o[d]+o[d+1];throw new Error('hex string expected, got non-hex character "'+b+'" at index '+d)}a[c]=h*16+_}return a}function bytesToNumberBE(o){return hexToNumber(bytesToHex(o))}function bytesToNumberLE(o){return abytes(o),hexToNumber(bytesToHex(Uint8Array.from(o).reverse()))}function numberToBytesBE(o,e){return hexToBytes(o.toString(16).padStart(e*2,"0"))}function numberToBytesLE(o,e){return numberToBytesBE(o,e).reverse()}function numberToVarBytesBE(o){return hexToBytes(numberToHexUnpadded(o))}function ensureBytes(o,e,s){let a;if(typeof e=="string")try{a=hexToBytes(e)}catch(d){throw new Error(`${o} must be valid hex string, got "${e}". Cause: ${d}`)}else if(isBytes(e))a=Uint8Array.from(e);else throw new Error(`${o} must be hex string or Uint8Array`);const c=a.length;if(typeof s=="number"&&c!==s)throw new Error(`${o} expected ${s} bytes, got ${c}`);return a}function concatBytes(...o){let e=0;for(let a=0;a<o.length;a++){const c=o[a];abytes(c),e+=c.length}const s=new Uint8Array(e);for(let a=0,c=0;a<o.length;a++){const d=o[a];s.set(d,c),c+=d.length}return s}function equalBytes(o,e){if(o.length!==e.length)return!1;let s=0;for(let a=0;a<o.length;a++)s|=o[a]^e[a];return s===0}function utf8ToBytes(o){if(typeof o!="string")throw new Error(`utf8ToBytes expected string, got ${typeof o}`);return new Uint8Array(new TextEncoder().encode(o))}const isPosBig=o=>typeof o=="bigint"&&_0n$5<=o;function inRange$1(o,e,s){return isPosBig(o)&&isPosBig(e)&&isPosBig(s)&&e<=o&&o<s}function aInRange(o,e,s,a){if(!inRange$1(e,s,a))throw new Error(`expected valid ${o}: ${s} <= n < ${a}, got ${typeof e} ${e}`)}function bitLen(o){let e;for(e=0;o>_0n$5;o>>=_1n$7,e+=1);return e}function bitGet(o,e){return o>>BigInt(e)&_1n$7}function bitSet(o,e,s){return o|(s?_1n$7:_0n$5)<<BigInt(e)}const bitMask=o=>(_2n$5<<BigInt(o-1))-_1n$7,u8n=o=>new Uint8Array(o),u8fr=o=>Uint8Array.from(o);function createHmacDrbg(o,e,s){if(typeof o!="number"||o<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof s!="function")throw new Error("hmacFn must be a function");let a=u8n(o),c=u8n(o),d=0;const h=()=>{a.fill(1),c.fill(0),d=0},_=(...rt)=>s(c,a,...rt),b=(rt=u8n())=>{c=_(u8fr([0]),rt),a=_(),rt.length!==0&&(c=_(u8fr([1]),rt),a=_())},$=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let rt=0;const it=[];for(;rt<e;){a=_();const ot=a.slice();it.push(ot),rt+=a.length}return concatBytes(...it)};return(rt,it)=>{h(),b(rt);let ot;for(;!(ot=it($()));)b();return h(),ot}}const validatorFns={bigint:o=>typeof o=="bigint",function:o=>typeof o=="function",boolean:o=>typeof o=="boolean",string:o=>typeof o=="string",stringOrUint8Array:o=>typeof o=="string"||isBytes(o),isSafeInteger:o=>Number.isSafeInteger(o),array:o=>Array.isArray(o),field:(o,e)=>e.Fp.isValid(o),hash:o=>typeof o=="function"&&Number.isSafeInteger(o.outputLen)};function validateObject(o,e,s={}){const a=(c,d,h)=>{const _=validatorFns[d];if(typeof _!="function")throw new Error(`Invalid validator "${d}", expected function`);const b=o[c];if(!(h&&b===void 0)&&!_(b,o))throw new Error(`Invalid param ${String(c)}=${b} (${typeof b}), expected ${d}`)};for(const[c,d]of Object.entries(e))a(c,d,!1);for(const[c,d]of Object.entries(s))a(c,d,!0);return o}const notImplemented=()=>{throw new Error("not implemented")};function memoized(o){const e=new WeakMap;return(s,...a)=>{const c=e.get(s);if(c!==void 0)return c;const d=o(s,...a);return e.set(s,d),d}}const ut=Object.freeze(Object.defineProperty({__proto__:null,aInRange,abool,abytes,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,inRange:inRange$1,isBytes,memoized,notImplemented,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);BigInt(9);BigInt(16);function mod(o,e){const s=o%e;return s>=_0n$4?s:e+s}function pow(o,e,s){if(s<=_0n$4||e<_0n$4)throw new Error("Expected power/modulo > 0");if(s===_1n$6)return _0n$4;let a=_1n$6;for(;e>_0n$4;)e&_1n$6&&(a=a*o%s),o=o*o%s,e>>=_1n$6;return a}function pow2(o,e,s){let a=o;for(;e-- >_0n$4;)a*=a,a%=s;return a}function invert(o,e){if(o===_0n$4||e<=_0n$4)throw new Error(`invert: expected positive integers, got n=${o} mod=${e}`);let s=mod(o,e),a=e,c=_0n$4,d=_1n$6;for(;s!==_0n$4;){const _=a/s,b=a%s,$=c-d*_;a=s,s=b,c=d,d=$}if(a!==_1n$6)throw new Error("invert: does not exist");return mod(c,e)}function tonelliShanks(o){const e=(o-_1n$6)/_2n$4;let s,a,c;for(s=o-_1n$6,a=0;s%_2n$4===_0n$4;s/=_2n$4,a++);for(c=_2n$4;c<o&&pow(c,e,o)!==o-_1n$6;c++);if(a===1){const h=(o+_1n$6)/_4n;return function(b,$){const j=b.pow($,h);if(!b.eql(b.sqr(j),$))throw new Error("Cannot find square root");return j}}const d=(s+_1n$6)/_2n$4;return function(_,b){if(_.pow(b,e)===_.neg(_.ONE))throw new Error("Cannot find square root");let $=a,j=_.pow(_.mul(_.ONE,c),s),rt=_.pow(b,d),it=_.pow(b,s);for(;!_.eql(it,_.ONE);){if(_.eql(it,_.ZERO))return _.ZERO;let ot=1;for(let bt=_.sqr(it);ot<$&&!_.eql(bt,_.ONE);ot++)bt=_.sqr(bt);const ht=_.pow(j,_1n$6<<BigInt($-ot-1));j=_.sqr(ht),rt=_.mul(rt,ht),it=_.mul(it,j),$=ot}return rt}}function FpSqrt(o){if(o%_4n===_3n$1){const e=(o+_1n$6)/_4n;return function(a,c){const d=a.pow(c,e);if(!a.eql(a.sqr(d),c))throw new Error("Cannot find square root");return d}}if(o%_8n$2===_5n$1){const e=(o-_5n$1)/_8n$2;return function(a,c){const d=a.mul(c,_2n$4),h=a.pow(d,e),_=a.mul(c,h),b=a.mul(a.mul(_,_2n$4),h),$=a.mul(_,a.sub(b,a.ONE));if(!a.eql(a.sqr($),c))throw new Error("Cannot find square root");return $}}return tonelliShanks(o)}const isNegativeLE=(o,e)=>(mod(o,e)&_1n$6)===_1n$6,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(o){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},s=FIELD_FIELDS.reduce((a,c)=>(a[c]="function",a),e);return validateObject(o,s)}function FpPow(o,e,s){if(s<_0n$4)throw new Error("Expected power > 0");if(s===_0n$4)return o.ONE;if(s===_1n$6)return e;let a=o.ONE,c=e;for(;s>_0n$4;)s&_1n$6&&(a=o.mul(a,c)),c=o.sqr(c),s>>=_1n$6;return a}function FpInvertBatch(o,e){const s=new Array(e.length),a=e.reduce((d,h,_)=>o.is0(h)?d:(s[_]=d,o.mul(d,h)),o.ONE),c=o.inv(a);return e.reduceRight((d,h,_)=>o.is0(h)?d:(s[_]=o.mul(d,s[_]),o.mul(d,h)),c),s}function nLength(o,e){const s=e!==void 0?e:o.toString(2).length,a=Math.ceil(s/8);return{nBitLength:s,nByteLength:a}}function Field(o,e,s=!1,a={}){if(o<=_0n$4)throw new Error(`Expected Field ORDER > 0, got ${o}`);const{nBitLength:c,nByteLength:d}=nLength(o,e);if(d>2048)throw new Error("Field lengths over 2048 bytes are not supported");const h=FpSqrt(o),_=Object.freeze({ORDER:o,BITS:c,BYTES:d,MASK:bitMask(c),ZERO:_0n$4,ONE:_1n$6,create:b=>mod(b,o),isValid:b=>{if(typeof b!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof b}`);return _0n$4<=b&&b<o},is0:b=>b===_0n$4,isOdd:b=>(b&_1n$6)===_1n$6,neg:b=>mod(-b,o),eql:(b,$)=>b===$,sqr:b=>mod(b*b,o),add:(b,$)=>mod(b+$,o),sub:(b,$)=>mod(b-$,o),mul:(b,$)=>mod(b*$,o),pow:(b,$)=>FpPow(_,b,$),div:(b,$)=>mod(b*invert($,o),o),sqrN:b=>b*b,addN:(b,$)=>b+$,subN:(b,$)=>b-$,mulN:(b,$)=>b*$,inv:b=>invert(b,o),sqrt:a.sqrt||(b=>h(_,b)),invertBatch:b=>FpInvertBatch(_,b),cmov:(b,$,j)=>j?$:b,toBytes:b=>s?numberToBytesLE(b,d):numberToBytesBE(b,d),fromBytes:b=>{if(b.length!==d)throw new Error(`Fp.fromBytes: expected ${d}, got ${b.length}`);return s?bytesToNumberLE(b):bytesToNumberBE(b)}});return Object.freeze(_)}function getFieldBytesLength(o){if(typeof o!="bigint")throw new Error("field order must be bigint");const e=o.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(o){const e=getFieldBytesLength(o);return e+Math.ceil(e/2)}function mapHashToField(o,e,s=!1){const a=o.length,c=getFieldBytesLength(e),d=getMinHashLength(e);if(a<16||a<d||a>1024)throw new Error(`expected ${d}-1024 bytes of input, got ${a}`);const h=s?bytesToNumberBE(o):bytesToNumberLE(o),_=mod(h,e-_1n$6)+_1n$6;return s?numberToBytesLE(_,c):numberToBytesBE(_,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$5=BigInt(1),pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function wNAF(o,e){const s=(d,h)=>{const _=h.negate();return d?_:h},a=d=>{if(!Number.isSafeInteger(d)||d<=0||d>e)throw new Error(`Wrong window size=${d}, should be [1..${e}]`)},c=d=>{a(d);const h=Math.ceil(e/d)+1,_=2**(d-1);return{windows:h,windowSize:_}};return{constTimeNegate:s,unsafeLadder(d,h){let _=o.ZERO,b=d;for(;h>_0n$3;)h&_1n$5&&(_=_.add(b)),b=b.double(),h>>=_1n$5;return _},precomputeWindow(d,h){const{windows:_,windowSize:b}=c(h),$=[];let j=d,rt=j;for(let it=0;it<_;it++){rt=j,$.push(rt);for(let ot=1;ot<b;ot++)rt=rt.add(j),$.push(rt);j=rt.double()}return $},wNAF(d,h,_){const{windows:b,windowSize:$}=c(d);let j=o.ZERO,rt=o.BASE;const it=BigInt(2**d-1),ot=2**d,ht=BigInt(d);for(let bt=0;bt<b;bt++){const pt=bt*$;let dt=Number(_&it);_>>=ht,dt>$&&(dt-=ot,_+=_1n$5);const lt=pt,at=pt+Math.abs(dt)-1,xt=bt%2!==0,Rt=dt<0;dt===0?rt=rt.add(s(xt,h[lt])):j=j.add(s(Rt,h[at]))}return{p:j,f:rt}},wNAFCached(d,h,_){const b=pointWindowSizes.get(d)||1;let $=pointPrecomputes.get(d);return $||($=this.precomputeWindow(d,b),b!==1&&pointPrecomputes.set(d,_($))),this.wNAF(b,$,h)},setWindowSize(d,h){a(h),pointWindowSizes.set(d,h),pointPrecomputes.delete(d)}}}function pippenger(o,e,s,a){if(!Array.isArray(s)||!Array.isArray(a)||a.length!==s.length)throw new Error("arrays of points and scalars must have equal length");a.forEach((j,rt)=>{if(!e.isValid(j))throw new Error(`wrong scalar at index ${rt}`)}),s.forEach((j,rt)=>{if(!(j instanceof o))throw new Error(`wrong point at index ${rt}`)});const c=bitLen(BigInt(s.length)),d=c>12?c-3:c>4?c-2:c?2:1,h=(1<<d)-1,_=new Array(h+1).fill(o.ZERO),b=Math.floor((e.BITS-1)/d)*d;let $=o.ZERO;for(let j=b;j>=0;j-=d){_.fill(o.ZERO);for(let it=0;it<a.length;it++){const ot=a[it],ht=Number(ot>>BigInt(j)&BigInt(h));_[ht]=_[ht].add(s[it])}let rt=o.ZERO;for(let it=_.length-1,ot=o.ZERO;it>0;it--)ot=ot.add(_[it]),rt=rt.add(ot);if($=$.add(rt),j!==0)for(let it=0;it<d;it++)$=$.double()}return $}function validateBasic(o){return validateField(o.Fp),validateObject(o,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(o.n,o.nBitLength),...o,p:o.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(o){const e=validateBasic(o);return validateObject(o,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards(o){const e=validateOpts$1(o),{Fp:s,n:a,prehash:c,hash:d,randomBytes:h,nByteLength:_,h:b}=e,$=_2n$3<<BigInt(_*8)-_1n$4,j=s.create,rt=Field(e.n,e.nBitLength),it=e.uvRatio||((ct,mt)=>{try{return{isValid:!0,value:s.sqrt(ct*s.inv(mt))}}catch{return{isValid:!1,value:_0n$2}}}),ot=e.adjustScalarBytes||(ct=>ct),ht=e.domain||((ct,mt,yt)=>{if(abool("phflag",yt),mt.length||yt)throw new Error("Contexts/pre-hash are not supported");return ct});function bt(ct,mt){aInRange("coordinate "+ct,mt,_0n$2,$)}function pt(ct){if(!(ct instanceof at))throw new Error("ExtendedPoint expected")}const dt=memoized((ct,mt)=>{const{ex:yt,ey:gt,ez:St}=ct,_t=ct.is0();mt==null&&(mt=_t?_8n$1:s.inv(St));const et=j(yt*mt),ft=j(gt*mt),vt=j(St*mt);if(_t)return{x:_0n$2,y:_1n$4};if(vt!==_1n$4)throw new Error("invZ was invalid");return{x:et,y:ft}}),lt=memoized(ct=>{const{a:mt,d:yt}=e;if(ct.is0())throw new Error("bad point: ZERO");const{ex:gt,ey:St,ez:_t,et}=ct,ft=j(gt*gt),vt=j(St*St),$t=j(_t*_t),kt=j($t*$t),jt=j(ft*mt),Nt=j($t*j(jt+vt)),Dt=j(kt+j(yt*j(ft*vt)));if(Nt!==Dt)throw new Error("bad point: equation left != right (1)");const Vt=j(gt*St),qt=j(_t*et);if(Vt!==qt)throw new Error("bad point: equation left != right (2)");return!0});class at{constructor(mt,yt,gt,St){this.ex=mt,this.ey=yt,this.ez=gt,this.et=St,bt("x",mt),bt("y",yt),bt("z",gt),bt("t",St),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(mt){if(mt instanceof at)throw new Error("extended point not allowed");const{x:yt,y:gt}=mt||{};return bt("x",yt),bt("y",gt),new at(yt,gt,_1n$4,j(yt*gt))}static normalizeZ(mt){const yt=s.invertBatch(mt.map(gt=>gt.ez));return mt.map((gt,St)=>gt.toAffine(yt[St])).map(at.fromAffine)}static msm(mt,yt){return pippenger(at,rt,mt,yt)}_setWindowSize(mt){Tt.setWindowSize(this,mt)}assertValidity(){lt(this)}equals(mt){pt(mt);const{ex:yt,ey:gt,ez:St}=this,{ex:_t,ey:et,ez:ft}=mt,vt=j(yt*ft),$t=j(_t*St),kt=j(gt*ft),jt=j(et*St);return vt===$t&&kt===jt}is0(){return this.equals(at.ZERO)}negate(){return new at(j(-this.ex),this.ey,this.ez,j(-this.et))}double(){const{a:mt}=e,{ex:yt,ey:gt,ez:St}=this,_t=j(yt*yt),et=j(gt*gt),ft=j(_2n$3*j(St*St)),vt=j(mt*_t),$t=yt+gt,kt=j(j($t*$t)-_t-et),jt=vt+et,Nt=jt-ft,Dt=vt-et,Vt=j(kt*Nt),qt=j(jt*Dt),Gt=j(kt*Dt),en=j(Nt*jt);return new at(Vt,qt,en,Gt)}add(mt){pt(mt);const{a:yt,d:gt}=e,{ex:St,ey:_t,ez:et,et:ft}=this,{ex:vt,ey:$t,ez:kt,et:jt}=mt;if(yt===BigInt(-1)){const ln=j((_t-St)*($t+vt)),an=j((_t+St)*($t-vt)),Tn=j(an-ln);if(Tn===_0n$2)return this.double();const cn=j(et*_2n$3*jt),Ct=j(ft*_2n$3*kt),Mt=Ct+cn,Wt=an+ln,Yt=Ct-cn,Zt=j(Mt*Tn),Xt=j(Wt*Yt),wt=j(Mt*Yt),nt=j(Tn*Wt);return new at(Zt,Xt,nt,wt)}const Nt=j(St*vt),Dt=j(_t*$t),Vt=j(ft*gt*jt),qt=j(et*kt),Gt=j((St+_t)*(vt+$t)-Nt-Dt),en=qt-Vt,tn=qt+Vt,on=j(Dt-yt*Nt),dn=j(Gt*en),un=j(tn*on),sn=j(Gt*on),Kt=j(en*tn);return new at(dn,un,Kt,sn)}subtract(mt){return this.add(mt.negate())}wNAF(mt){return Tt.wNAFCached(this,mt,at.normalizeZ)}multiply(mt){const yt=mt;aInRange("scalar",yt,_1n$4,a);const{p:gt,f:St}=this.wNAF(yt);return at.normalizeZ([gt,St])[0]}multiplyUnsafe(mt){const yt=mt;return aInRange("scalar",yt,_0n$2,a),yt===_0n$2?Rt:this.equals(Rt)||yt===_1n$4?this:this.equals(xt)?this.wNAF(yt).p:Tt.unsafeLadder(this,yt)}isSmallOrder(){return this.multiplyUnsafe(b).is0()}isTorsionFree(){return Tt.unsafeLadder(this,a).is0()}toAffine(mt){return dt(this,mt)}clearCofactor(){const{h:mt}=e;return mt===_1n$4?this:this.multiplyUnsafe(mt)}static fromHex(mt,yt=!1){const{d:gt,a:St}=e,_t=s.BYTES;mt=ensureBytes("pointHex",mt,_t),abool("zip215",yt);const et=mt.slice(),ft=mt[_t-1];et[_t-1]=ft&-129;const vt=bytesToNumberLE(et),$t=yt?$:s.ORDER;aInRange("pointHex.y",vt,_0n$2,$t);const kt=j(vt*vt),jt=j(kt-_1n$4),Nt=j(gt*kt-St);let{isValid:Dt,value:Vt}=it(jt,Nt);if(!Dt)throw new Error("Point.fromHex: invalid y coordinate");const qt=(Vt&_1n$4)===_1n$4,Gt=(ft&128)!==0;if(!yt&&Vt===_0n$2&&Gt)throw new Error("Point.fromHex: x=0 and x_0=1");return Gt!==qt&&(Vt=j(-Vt)),at.fromAffine({x:Vt,y:vt})}static fromPrivateKey(mt){return Pt(mt).point}toRawBytes(){const{x:mt,y:yt}=this.toAffine(),gt=numberToBytesLE(yt,s.BYTES);return gt[gt.length-1]|=mt&_1n$4?128:0,gt}toHex(){return bytesToHex(this.toRawBytes())}}at.BASE=new at(e.Gx,e.Gy,_1n$4,j(e.Gx*e.Gy)),at.ZERO=new at(_0n$2,_1n$4,_1n$4,_0n$2);const{BASE:xt,ZERO:Rt}=at,Tt=wNAF(at,_*8);function It(ct){return mod(ct,a)}function Bt(ct){return It(bytesToNumberLE(ct))}function Pt(ct){const mt=_;ct=ensureBytes("private key",ct,mt);const yt=ensureBytes("hashed private key",d(ct),2*mt),gt=ot(yt.slice(0,mt)),St=yt.slice(mt,2*mt),_t=Bt(gt),et=xt.multiply(_t),ft=et.toRawBytes();return{head:gt,prefix:St,scalar:_t,point:et,pointBytes:ft}}function zt(ct){return Pt(ct).pointBytes}function Ht(ct=new Uint8Array,...mt){const yt=concatBytes(...mt);return Bt(d(ht(yt,ensureBytes("context",ct),!!c)))}function Ut(ct,mt,yt={}){ct=ensureBytes("message",ct),c&&(ct=c(ct));const{prefix:gt,scalar:St,pointBytes:_t}=Pt(mt),et=Ht(yt.context,gt,ct),ft=xt.multiply(et).toRawBytes(),vt=Ht(yt.context,ft,_t,ct),$t=It(et+vt*St);aInRange("signature.s",$t,_0n$2,a);const kt=concatBytes(ft,numberToBytesLE($t,s.BYTES));return ensureBytes("result",kt,_*2)}const Et=VERIFY_DEFAULT;function _e(ct,mt,yt,gt=Et){const{context:St,zip215:_t}=gt,et=s.BYTES;ct=ensureBytes("signature",ct,2*et),mt=ensureBytes("message",mt),_t!==void 0&&abool("zip215",_t),c&&(mt=c(mt));const ft=bytesToNumberLE(ct.slice(et,2*et));let vt,$t,kt;try{vt=at.fromHex(yt,_t),$t=at.fromHex(ct.slice(0,et),_t),kt=xt.multiplyUnsafe(ft)}catch{return!1}if(!_t&&vt.isSmallOrder())return!1;const jt=Ht(St,$t.toRawBytes(),vt.toRawBytes(),mt);return $t.add(vt.multiplyUnsafe(jt)).subtract(kt).clearCofactor().equals(at.ZERO)}return xt._setWindowSize(8),{CURVE:e,getPublicKey:zt,sign:Ut,verify:_e,ExtendedPoint:at,utils:{getExtendedPublicKey:Pt,randomPrivateKey:()=>h(s.BYTES),precompute(ct=8,mt=at.BASE){return mt._setWindowSize(ct),mt.multiply(BigInt(3)),mt}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$3=BigInt(1),_2n$2=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(o){const e=BigInt(10),s=BigInt(20),a=BigInt(40),c=BigInt(80),d=ED25519_P,_=o*o%d*o%d,b=pow2(_,_2n$2,d)*_%d,$=pow2(b,_1n$3,d)*o%d,j=pow2($,_5n,d)*$%d,rt=pow2(j,e,d)*j%d,it=pow2(rt,s,d)*rt%d,ot=pow2(it,a,d)*it%d,ht=pow2(ot,c,d)*ot%d,bt=pow2(ht,c,d)*ot%d,pt=pow2(bt,e,d)*j%d;return{pow_p_5_8:pow2(pt,_2n$2,d)*o%d,b2:_}}function adjustScalarBytes(o){return o[0]&=248,o[31]&=127,o[31]|=64,o}function uvRatio(o,e){const s=ED25519_P,a=mod(e*e*e,s),c=mod(a*a*e,s),d=ed25519_pow_2_252_3(o*c).pow_p_5_8;let h=mod(o*a*d,s);const _=mod(e*h*h,s),b=h,$=mod(h*ED25519_SQRT_M1,s),j=_===o,rt=_===mod(-o,s),it=_===mod(-o*ED25519_SQRT_M1,s);return j&&(h=b),(rt||it)&&(h=$),isNegativeLE(h,s)&&(h=mod(-h,s)),{isValid:j||rt,value:h}}const Fp$1=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$1,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults);var bn={exports:{}};const require$$0$1=getAugmentedNamespace(dist$1);bn.exports;(function(o){(function(e,s){function a(Et,_e){if(!Et)throw new Error(_e||"Assertion failed")}function c(Et,_e){Et.super_=_e;var tt=function(){};tt.prototype=_e.prototype,Et.prototype=new tt,Et.prototype.constructor=Et}function d(Et,_e,tt){if(d.isBN(Et))return Et;this.negative=0,this.words=null,this.length=0,this.red=null,Et!==null&&((_e==="le"||_e==="be")&&(tt=_e,_e=10),this._init(Et||0,_e||10,tt||"be"))}typeof e=="object"?e.exports=d:s.BN=d,d.BN=d,d.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=require$$0$1.Buffer}catch{}d.isBN=function(_e){return _e instanceof d?!0:_e!==null&&typeof _e=="object"&&_e.constructor.wordSize===d.wordSize&&Array.isArray(_e.words)},d.max=function(_e,tt){return _e.cmp(tt)>0?_e:tt},d.min=function(_e,tt){return _e.cmp(tt)<0?_e:tt},d.prototype._init=function(_e,tt,ct){if(typeof _e=="number")return this._initNumber(_e,tt,ct);if(typeof _e=="object")return this._initArray(_e,tt,ct);tt==="hex"&&(tt=16),a(tt===(tt|0)&&tt>=2&&tt<=36),_e=_e.toString().replace(/\s+/g,"");var mt=0;_e[0]==="-"&&(mt++,this.negative=1),mt<_e.length&&(tt===16?this._parseHex(_e,mt,ct):(this._parseBase(_e,tt,mt),ct==="le"&&this._initArray(this.toArray(),tt,ct)))},d.prototype._initNumber=function(_e,tt,ct){_e<0&&(this.negative=1,_e=-_e),_e<67108864?(this.words=[_e&67108863],this.length=1):_e<4503599627370496?(this.words=[_e&67108863,_e/67108864&67108863],this.length=2):(a(_e<9007199254740992),this.words=[_e&67108863,_e/67108864&67108863,1],this.length=3),ct==="le"&&this._initArray(this.toArray(),tt,ct)},d.prototype._initArray=function(_e,tt,ct){if(a(typeof _e.length=="number"),_e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_e.length/3),this.words=new Array(this.length);for(var mt=0;mt<this.length;mt++)this.words[mt]=0;var yt,gt,St=0;if(ct==="be")for(mt=_e.length-1,yt=0;mt>=0;mt-=3)gt=_e[mt]|_e[mt-1]<<8|_e[mt-2]<<16,this.words[yt]|=gt<<St&67108863,this.words[yt+1]=gt>>>26-St&67108863,St+=24,St>=26&&(St-=26,yt++);else if(ct==="le")for(mt=0,yt=0;mt<_e.length;mt+=3)gt=_e[mt]|_e[mt+1]<<8|_e[mt+2]<<16,this.words[yt]|=gt<<St&67108863,this.words[yt+1]=gt>>>26-St&67108863,St+=24,St>=26&&(St-=26,yt++);return this._strip()};function _(Et,_e){var tt=Et.charCodeAt(_e);if(tt>=48&&tt<=57)return tt-48;if(tt>=65&&tt<=70)return tt-55;if(tt>=97&&tt<=102)return tt-87;a(!1,"Invalid character in "+Et)}function b(Et,_e,tt){var ct=_(Et,tt);return tt-1>=_e&&(ct|=_(Et,tt-1)<<4),ct}d.prototype._parseHex=function(_e,tt,ct){this.length=Math.ceil((_e.length-tt)/6),this.words=new Array(this.length);for(var mt=0;mt<this.length;mt++)this.words[mt]=0;var yt=0,gt=0,St;if(ct==="be")for(mt=_e.length-1;mt>=tt;mt-=2)St=b(_e,tt,mt)<<yt,this.words[gt]|=St&67108863,yt>=18?(yt-=18,gt+=1,this.words[gt]|=St>>>26):yt+=8;else{var _t=_e.length-tt;for(mt=_t%2===0?tt+1:tt;mt<_e.length;mt+=2)St=b(_e,tt,mt)<<yt,this.words[gt]|=St&67108863,yt>=18?(yt-=18,gt+=1,this.words[gt]|=St>>>26):yt+=8}this._strip()};function $(Et,_e,tt,ct){for(var mt=0,yt=0,gt=Math.min(Et.length,tt),St=_e;St<gt;St++){var _t=Et.charCodeAt(St)-48;mt*=ct,_t>=49?yt=_t-49+10:_t>=17?yt=_t-17+10:yt=_t,a(_t>=0&&yt<ct,"Invalid character"),mt+=yt}return mt}d.prototype._parseBase=function(_e,tt,ct){this.words=[0],this.length=1;for(var mt=0,yt=1;yt<=67108863;yt*=tt)mt++;mt--,yt=yt/tt|0;for(var gt=_e.length-ct,St=gt%mt,_t=Math.min(gt,gt-St)+ct,et=0,ft=ct;ft<_t;ft+=mt)et=$(_e,ft,ft+mt,tt),this.imuln(yt),this.words[0]+et<67108864?this.words[0]+=et:this._iaddn(et);if(St!==0){var vt=1;for(et=$(_e,ft,_e.length,tt),ft=0;ft<St;ft++)vt*=tt;this.imuln(vt),this.words[0]+et<67108864?this.words[0]+=et:this._iaddn(et)}this._strip()},d.prototype.copy=function(_e){_e.words=new Array(this.length);for(var tt=0;tt<this.length;tt++)_e.words[tt]=this.words[tt];_e.length=this.length,_e.negative=this.negative,_e.red=this.red};function j(Et,_e){Et.words=_e.words,Et.length=_e.length,Et.negative=_e.negative,Et.red=_e.red}if(d.prototype._move=function(_e){j(_e,this)},d.prototype.clone=function(){var _e=new d(null);return this.copy(_e),_e},d.prototype._expand=function(_e){for(;this.length<_e;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=rt}catch{d.prototype.inspect=rt}else d.prototype.inspect=rt;function rt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var it=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ot=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ht=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(_e,tt){_e=_e||10,tt=tt|0||1;var ct;if(_e===16||_e==="hex"){ct="";for(var mt=0,yt=0,gt=0;gt<this.length;gt++){var St=this.words[gt],_t=((St<<mt|yt)&16777215).toString(16);yt=St>>>24-mt&16777215,mt+=2,mt>=26&&(mt-=26,gt--),yt!==0||gt!==this.length-1?ct=it[6-_t.length]+_t+ct:ct=_t+ct}for(yt!==0&&(ct=yt.toString(16)+ct);ct.length%tt!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}if(_e===(_e|0)&&_e>=2&&_e<=36){var et=ot[_e],ft=ht[_e];ct="";var vt=this.clone();for(vt.negative=0;!vt.isZero();){var $t=vt.modrn(ft).toString(_e);vt=vt.idivn(ft),vt.isZero()?ct=$t+ct:ct=it[et-$t.length]+$t+ct}for(this.isZero()&&(ct="0"+ct);ct.length%tt!==0;)ct="0"+ct;return this.negative!==0&&(ct="-"+ct),ct}a(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var _e=this.words[0];return this.length===2?_e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_e+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_e:_e},d.prototype.toJSON=function(){return this.toString(16,2)},h&&(d.prototype.toBuffer=function(_e,tt){return this.toArrayLike(h,_e,tt)}),d.prototype.toArray=function(_e,tt){return this.toArrayLike(Array,_e,tt)};var bt=function(_e,tt){return _e.allocUnsafe?_e.allocUnsafe(tt):new _e(tt)};d.prototype.toArrayLike=function(_e,tt,ct){this._strip();var mt=this.byteLength(),yt=ct||Math.max(1,mt);a(mt<=yt,"byte array longer than desired length"),a(yt>0,"Requested array length <= 0");var gt=bt(_e,yt),St=tt==="le"?"LE":"BE";return this["_toArrayLike"+St](gt,mt),gt},d.prototype._toArrayLikeLE=function(_e,tt){for(var ct=0,mt=0,yt=0,gt=0;yt<this.length;yt++){var St=this.words[yt]<<gt|mt;_e[ct++]=St&255,ct<_e.length&&(_e[ct++]=St>>8&255),ct<_e.length&&(_e[ct++]=St>>16&255),gt===6?(ct<_e.length&&(_e[ct++]=St>>24&255),mt=0,gt=0):(mt=St>>>24,gt+=2)}if(ct<_e.length)for(_e[ct++]=mt;ct<_e.length;)_e[ct++]=0},d.prototype._toArrayLikeBE=function(_e,tt){for(var ct=_e.length-1,mt=0,yt=0,gt=0;yt<this.length;yt++){var St=this.words[yt]<<gt|mt;_e[ct--]=St&255,ct>=0&&(_e[ct--]=St>>8&255),ct>=0&&(_e[ct--]=St>>16&255),gt===6?(ct>=0&&(_e[ct--]=St>>24&255),mt=0,gt=0):(mt=St>>>24,gt+=2)}if(ct>=0)for(_e[ct--]=mt;ct>=0;)_e[ct--]=0},Math.clz32?d.prototype._countBits=function(_e){return 32-Math.clz32(_e)}:d.prototype._countBits=function(_e){var tt=_e,ct=0;return tt>=4096&&(ct+=13,tt>>>=13),tt>=64&&(ct+=7,tt>>>=7),tt>=8&&(ct+=4,tt>>>=4),tt>=2&&(ct+=2,tt>>>=2),ct+tt},d.prototype._zeroBits=function(_e){if(_e===0)return 26;var tt=_e,ct=0;return tt&8191||(ct+=13,tt>>>=13),tt&127||(ct+=7,tt>>>=7),tt&15||(ct+=4,tt>>>=4),tt&3||(ct+=2,tt>>>=2),tt&1||ct++,ct},d.prototype.bitLength=function(){var _e=this.words[this.length-1],tt=this._countBits(_e);return(this.length-1)*26+tt};function pt(Et){for(var _e=new Array(Et.bitLength()),tt=0;tt<_e.length;tt++){var ct=tt/26|0,mt=tt%26;_e[tt]=Et.words[ct]>>>mt&1}return _e}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _e=0,tt=0;tt<this.length;tt++){var ct=this._zeroBits(this.words[tt]);if(_e+=ct,ct!==26)break}return _e},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(_e){return this.negative!==0?this.abs().inotn(_e).iaddn(1):this.clone()},d.prototype.fromTwos=function(_e){return this.testn(_e-1)?this.notn(_e).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(_e){for(;this.length<_e.length;)this.words[this.length++]=0;for(var tt=0;tt<_e.length;tt++)this.words[tt]=this.words[tt]|_e.words[tt];return this._strip()},d.prototype.ior=function(_e){return a((this.negative|_e.negative)===0),this.iuor(_e)},d.prototype.or=function(_e){return this.length>_e.length?this.clone().ior(_e):_e.clone().ior(this)},d.prototype.uor=function(_e){return this.length>_e.length?this.clone().iuor(_e):_e.clone().iuor(this)},d.prototype.iuand=function(_e){var tt;this.length>_e.length?tt=_e:tt=this;for(var ct=0;ct<tt.length;ct++)this.words[ct]=this.words[ct]&_e.words[ct];return this.length=tt.length,this._strip()},d.prototype.iand=function(_e){return a((this.negative|_e.negative)===0),this.iuand(_e)},d.prototype.and=function(_e){return this.length>_e.length?this.clone().iand(_e):_e.clone().iand(this)},d.prototype.uand=function(_e){return this.length>_e.length?this.clone().iuand(_e):_e.clone().iuand(this)},d.prototype.iuxor=function(_e){var tt,ct;this.length>_e.length?(tt=this,ct=_e):(tt=_e,ct=this);for(var mt=0;mt<ct.length;mt++)this.words[mt]=tt.words[mt]^ct.words[mt];if(this!==tt)for(;mt<tt.length;mt++)this.words[mt]=tt.words[mt];return this.length=tt.length,this._strip()},d.prototype.ixor=function(_e){return a((this.negative|_e.negative)===0),this.iuxor(_e)},d.prototype.xor=function(_e){return this.length>_e.length?this.clone().ixor(_e):_e.clone().ixor(this)},d.prototype.uxor=function(_e){return this.length>_e.length?this.clone().iuxor(_e):_e.clone().iuxor(this)},d.prototype.inotn=function(_e){a(typeof _e=="number"&&_e>=0);var tt=Math.ceil(_e/26)|0,ct=_e%26;this._expand(tt),ct>0&&tt--;for(var mt=0;mt<tt;mt++)this.words[mt]=~this.words[mt]&67108863;return ct>0&&(this.words[mt]=~this.words[mt]&67108863>>26-ct),this._strip()},d.prototype.notn=function(_e){return this.clone().inotn(_e)},d.prototype.setn=function(_e,tt){a(typeof _e=="number"&&_e>=0);var ct=_e/26|0,mt=_e%26;return this._expand(ct+1),tt?this.words[ct]=this.words[ct]|1<<mt:this.words[ct]=this.words[ct]&~(1<<mt),this._strip()},d.prototype.iadd=function(_e){var tt;if(this.negative!==0&&_e.negative===0)return this.negative=0,tt=this.isub(_e),this.negative^=1,this._normSign();if(this.negative===0&&_e.negative!==0)return _e.negative=0,tt=this.isub(_e),_e.negative=1,tt._normSign();var ct,mt;this.length>_e.length?(ct=this,mt=_e):(ct=_e,mt=this);for(var yt=0,gt=0;gt<mt.length;gt++)tt=(ct.words[gt]|0)+(mt.words[gt]|0)+yt,this.words[gt]=tt&67108863,yt=tt>>>26;for(;yt!==0&&gt<ct.length;gt++)tt=(ct.words[gt]|0)+yt,this.words[gt]=tt&67108863,yt=tt>>>26;if(this.length=ct.length,yt!==0)this.words[this.length]=yt,this.length++;else if(ct!==this)for(;gt<ct.length;gt++)this.words[gt]=ct.words[gt];return this},d.prototype.add=function(_e){var tt;return _e.negative!==0&&this.negative===0?(_e.negative=0,tt=this.sub(_e),_e.negative^=1,tt):_e.negative===0&&this.negative!==0?(this.negative=0,tt=_e.sub(this),this.negative=1,tt):this.length>_e.length?this.clone().iadd(_e):_e.clone().iadd(this)},d.prototype.isub=function(_e){if(_e.negative!==0){_e.negative=0;var tt=this.iadd(_e);return _e.negative=1,tt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_e),this.negative=1,this._normSign();var ct=this.cmp(_e);if(ct===0)return this.negative=0,this.length=1,this.words[0]=0,this;var mt,yt;ct>0?(mt=this,yt=_e):(mt=_e,yt=this);for(var gt=0,St=0;St<yt.length;St++)tt=(mt.words[St]|0)-(yt.words[St]|0)+gt,gt=tt>>26,this.words[St]=tt&67108863;for(;gt!==0&&St<mt.length;St++)tt=(mt.words[St]|0)+gt,gt=tt>>26,this.words[St]=tt&67108863;if(gt===0&&St<mt.length&&mt!==this)for(;St<mt.length;St++)this.words[St]=mt.words[St];return this.length=Math.max(this.length,St),mt!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(_e){return this.clone().isub(_e)};function dt(Et,_e,tt){tt.negative=_e.negative^Et.negative;var ct=Et.length+_e.length|0;tt.length=ct,ct=ct-1|0;var mt=Et.words[0]|0,yt=_e.words[0]|0,gt=mt*yt,St=gt&67108863,_t=gt/67108864|0;tt.words[0]=St;for(var et=1;et<ct;et++){for(var ft=_t>>>26,vt=_t&67108863,$t=Math.min(et,_e.length-1),kt=Math.max(0,et-Et.length+1);kt<=$t;kt++){var jt=et-kt|0;mt=Et.words[jt]|0,yt=_e.words[kt]|0,gt=mt*yt+vt,ft+=gt/67108864|0,vt=gt&67108863}tt.words[et]=vt|0,_t=ft|0}return _t!==0?tt.words[et]=_t|0:tt.length--,tt._strip()}var lt=function(_e,tt,ct){var mt=_e.words,yt=tt.words,gt=ct.words,St=0,_t,et,ft,vt=mt[0]|0,$t=vt&8191,kt=vt>>>13,jt=mt[1]|0,Nt=jt&8191,Dt=jt>>>13,Vt=mt[2]|0,qt=Vt&8191,Gt=Vt>>>13,en=mt[3]|0,tn=en&8191,on=en>>>13,dn=mt[4]|0,un=dn&8191,sn=dn>>>13,Kt=mt[5]|0,ln=Kt&8191,an=Kt>>>13,Tn=mt[6]|0,cn=Tn&8191,Ct=Tn>>>13,Mt=mt[7]|0,Wt=Mt&8191,Yt=Mt>>>13,Zt=mt[8]|0,Xt=Zt&8191,wt=Zt>>>13,nt=mt[9]|0,st=nt&8191,At=nt>>>13,Lt=yt[0]|0,Ot=Lt&8191,Ft=Lt>>>13,rn=yt[1]|0,Jt=rn&8191,Qt=rn>>>13,fn=yt[2]|0,nn=fn&8191,hn=fn>>>13,Zn=yt[3]|0,pn=Zn&8191,yn=Zn>>>13,Xn=yt[4]|0,gn=Xn&8191,mn=Xn>>>13,Jn=yt[5]|0,wn=Jn&8191,_n=Jn>>>13,Qn=yt[6]|0,vn=Qn&8191,En=Qn>>>13,er=yt[7]|0,Sn=er&8191,xn=er>>>13,tr=yt[8]|0,$n=tr&8191,An=tr>>>13,nr=yt[9]|0,kn=nr&8191,Rn=nr>>>13;ct.negative=_e.negative^tt.negative,ct.length=19,_t=Math.imul($t,Ot),et=Math.imul($t,Ft),et=et+Math.imul(kt,Ot)|0,ft=Math.imul(kt,Ft);var Ln=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,_t=Math.imul(Nt,Ot),et=Math.imul(Nt,Ft),et=et+Math.imul(Dt,Ot)|0,ft=Math.imul(Dt,Ft),_t=_t+Math.imul($t,Jt)|0,et=et+Math.imul($t,Qt)|0,et=et+Math.imul(kt,Jt)|0,ft=ft+Math.imul(kt,Qt)|0;var Bn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,_t=Math.imul(qt,Ot),et=Math.imul(qt,Ft),et=et+Math.imul(Gt,Ot)|0,ft=Math.imul(Gt,Ft),_t=_t+Math.imul(Nt,Jt)|0,et=et+Math.imul(Nt,Qt)|0,et=et+Math.imul(Dt,Jt)|0,ft=ft+Math.imul(Dt,Qt)|0,_t=_t+Math.imul($t,nn)|0,et=et+Math.imul($t,hn)|0,et=et+Math.imul(kt,nn)|0,ft=ft+Math.imul(kt,hn)|0;var Cn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,_t=Math.imul(tn,Ot),et=Math.imul(tn,Ft),et=et+Math.imul(on,Ot)|0,ft=Math.imul(on,Ft),_t=_t+Math.imul(qt,Jt)|0,et=et+Math.imul(qt,Qt)|0,et=et+Math.imul(Gt,Jt)|0,ft=ft+Math.imul(Gt,Qt)|0,_t=_t+Math.imul(Nt,nn)|0,et=et+Math.imul(Nt,hn)|0,et=et+Math.imul(Dt,nn)|0,ft=ft+Math.imul(Dt,hn)|0,_t=_t+Math.imul($t,pn)|0,et=et+Math.imul($t,yn)|0,et=et+Math.imul(kt,pn)|0,ft=ft+Math.imul(kt,yn)|0;var Pn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,_t=Math.imul(un,Ot),et=Math.imul(un,Ft),et=et+Math.imul(sn,Ot)|0,ft=Math.imul(sn,Ft),_t=_t+Math.imul(tn,Jt)|0,et=et+Math.imul(tn,Qt)|0,et=et+Math.imul(on,Jt)|0,ft=ft+Math.imul(on,Qt)|0,_t=_t+Math.imul(qt,nn)|0,et=et+Math.imul(qt,hn)|0,et=et+Math.imul(Gt,nn)|0,ft=ft+Math.imul(Gt,hn)|0,_t=_t+Math.imul(Nt,pn)|0,et=et+Math.imul(Nt,yn)|0,et=et+Math.imul(Dt,pn)|0,ft=ft+Math.imul(Dt,yn)|0,_t=_t+Math.imul($t,gn)|0,et=et+Math.imul($t,mn)|0,et=et+Math.imul(kt,gn)|0,ft=ft+Math.imul(kt,mn)|0;var On=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(On>>>26)|0,On&=67108863,_t=Math.imul(ln,Ot),et=Math.imul(ln,Ft),et=et+Math.imul(an,Ot)|0,ft=Math.imul(an,Ft),_t=_t+Math.imul(un,Jt)|0,et=et+Math.imul(un,Qt)|0,et=et+Math.imul(sn,Jt)|0,ft=ft+Math.imul(sn,Qt)|0,_t=_t+Math.imul(tn,nn)|0,et=et+Math.imul(tn,hn)|0,et=et+Math.imul(on,nn)|0,ft=ft+Math.imul(on,hn)|0,_t=_t+Math.imul(qt,pn)|0,et=et+Math.imul(qt,yn)|0,et=et+Math.imul(Gt,pn)|0,ft=ft+Math.imul(Gt,yn)|0,_t=_t+Math.imul(Nt,gn)|0,et=et+Math.imul(Nt,mn)|0,et=et+Math.imul(Dt,gn)|0,ft=ft+Math.imul(Dt,mn)|0,_t=_t+Math.imul($t,wn)|0,et=et+Math.imul($t,_n)|0,et=et+Math.imul(kt,wn)|0,ft=ft+Math.imul(kt,_n)|0;var Nn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,_t=Math.imul(cn,Ot),et=Math.imul(cn,Ft),et=et+Math.imul(Ct,Ot)|0,ft=Math.imul(Ct,Ft),_t=_t+Math.imul(ln,Jt)|0,et=et+Math.imul(ln,Qt)|0,et=et+Math.imul(an,Jt)|0,ft=ft+Math.imul(an,Qt)|0,_t=_t+Math.imul(un,nn)|0,et=et+Math.imul(un,hn)|0,et=et+Math.imul(sn,nn)|0,ft=ft+Math.imul(sn,hn)|0,_t=_t+Math.imul(tn,pn)|0,et=et+Math.imul(tn,yn)|0,et=et+Math.imul(on,pn)|0,ft=ft+Math.imul(on,yn)|0,_t=_t+Math.imul(qt,gn)|0,et=et+Math.imul(qt,mn)|0,et=et+Math.imul(Gt,gn)|0,ft=ft+Math.imul(Gt,mn)|0,_t=_t+Math.imul(Nt,wn)|0,et=et+Math.imul(Nt,_n)|0,et=et+Math.imul(Dt,wn)|0,ft=ft+Math.imul(Dt,_n)|0,_t=_t+Math.imul($t,vn)|0,et=et+Math.imul($t,En)|0,et=et+Math.imul(kt,vn)|0,ft=ft+Math.imul(kt,En)|0;var Mn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,_t=Math.imul(Wt,Ot),et=Math.imul(Wt,Ft),et=et+Math.imul(Yt,Ot)|0,ft=Math.imul(Yt,Ft),_t=_t+Math.imul(cn,Jt)|0,et=et+Math.imul(cn,Qt)|0,et=et+Math.imul(Ct,Jt)|0,ft=ft+Math.imul(Ct,Qt)|0,_t=_t+Math.imul(ln,nn)|0,et=et+Math.imul(ln,hn)|0,et=et+Math.imul(an,nn)|0,ft=ft+Math.imul(an,hn)|0,_t=_t+Math.imul(un,pn)|0,et=et+Math.imul(un,yn)|0,et=et+Math.imul(sn,pn)|0,ft=ft+Math.imul(sn,yn)|0,_t=_t+Math.imul(tn,gn)|0,et=et+Math.imul(tn,mn)|0,et=et+Math.imul(on,gn)|0,ft=ft+Math.imul(on,mn)|0,_t=_t+Math.imul(qt,wn)|0,et=et+Math.imul(qt,_n)|0,et=et+Math.imul(Gt,wn)|0,ft=ft+Math.imul(Gt,_n)|0,_t=_t+Math.imul(Nt,vn)|0,et=et+Math.imul(Nt,En)|0,et=et+Math.imul(Dt,vn)|0,ft=ft+Math.imul(Dt,En)|0,_t=_t+Math.imul($t,Sn)|0,et=et+Math.imul($t,xn)|0,et=et+Math.imul(kt,Sn)|0,ft=ft+Math.imul(kt,xn)|0;var Un=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Un>>>26)|0,Un&=67108863,_t=Math.imul(Xt,Ot),et=Math.imul(Xt,Ft),et=et+Math.imul(wt,Ot)|0,ft=Math.imul(wt,Ft),_t=_t+Math.imul(Wt,Jt)|0,et=et+Math.imul(Wt,Qt)|0,et=et+Math.imul(Yt,Jt)|0,ft=ft+Math.imul(Yt,Qt)|0,_t=_t+Math.imul(cn,nn)|0,et=et+Math.imul(cn,hn)|0,et=et+Math.imul(Ct,nn)|0,ft=ft+Math.imul(Ct,hn)|0,_t=_t+Math.imul(ln,pn)|0,et=et+Math.imul(ln,yn)|0,et=et+Math.imul(an,pn)|0,ft=ft+Math.imul(an,yn)|0,_t=_t+Math.imul(un,gn)|0,et=et+Math.imul(un,mn)|0,et=et+Math.imul(sn,gn)|0,ft=ft+Math.imul(sn,mn)|0,_t=_t+Math.imul(tn,wn)|0,et=et+Math.imul(tn,_n)|0,et=et+Math.imul(on,wn)|0,ft=ft+Math.imul(on,_n)|0,_t=_t+Math.imul(qt,vn)|0,et=et+Math.imul(qt,En)|0,et=et+Math.imul(Gt,vn)|0,ft=ft+Math.imul(Gt,En)|0,_t=_t+Math.imul(Nt,Sn)|0,et=et+Math.imul(Nt,xn)|0,et=et+Math.imul(Dt,Sn)|0,ft=ft+Math.imul(Dt,xn)|0,_t=_t+Math.imul($t,$n)|0,et=et+Math.imul($t,An)|0,et=et+Math.imul(kt,$n)|0,ft=ft+Math.imul(kt,An)|0;var Dn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,_t=Math.imul(st,Ot),et=Math.imul(st,Ft),et=et+Math.imul(At,Ot)|0,ft=Math.imul(At,Ft),_t=_t+Math.imul(Xt,Jt)|0,et=et+Math.imul(Xt,Qt)|0,et=et+Math.imul(wt,Jt)|0,ft=ft+Math.imul(wt,Qt)|0,_t=_t+Math.imul(Wt,nn)|0,et=et+Math.imul(Wt,hn)|0,et=et+Math.imul(Yt,nn)|0,ft=ft+Math.imul(Yt,hn)|0,_t=_t+Math.imul(cn,pn)|0,et=et+Math.imul(cn,yn)|0,et=et+Math.imul(Ct,pn)|0,ft=ft+Math.imul(Ct,yn)|0,_t=_t+Math.imul(ln,gn)|0,et=et+Math.imul(ln,mn)|0,et=et+Math.imul(an,gn)|0,ft=ft+Math.imul(an,mn)|0,_t=_t+Math.imul(un,wn)|0,et=et+Math.imul(un,_n)|0,et=et+Math.imul(sn,wn)|0,ft=ft+Math.imul(sn,_n)|0,_t=_t+Math.imul(tn,vn)|0,et=et+Math.imul(tn,En)|0,et=et+Math.imul(on,vn)|0,ft=ft+Math.imul(on,En)|0,_t=_t+Math.imul(qt,Sn)|0,et=et+Math.imul(qt,xn)|0,et=et+Math.imul(Gt,Sn)|0,ft=ft+Math.imul(Gt,xn)|0,_t=_t+Math.imul(Nt,$n)|0,et=et+Math.imul(Nt,An)|0,et=et+Math.imul(Dt,$n)|0,ft=ft+Math.imul(Dt,An)|0,_t=_t+Math.imul($t,kn)|0,et=et+Math.imul($t,Rn)|0,et=et+Math.imul(kt,kn)|0,ft=ft+Math.imul(kt,Rn)|0;var jn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(jn>>>26)|0,jn&=67108863,_t=Math.imul(st,Jt),et=Math.imul(st,Qt),et=et+Math.imul(At,Jt)|0,ft=Math.imul(At,Qt),_t=_t+Math.imul(Xt,nn)|0,et=et+Math.imul(Xt,hn)|0,et=et+Math.imul(wt,nn)|0,ft=ft+Math.imul(wt,hn)|0,_t=_t+Math.imul(Wt,pn)|0,et=et+Math.imul(Wt,yn)|0,et=et+Math.imul(Yt,pn)|0,ft=ft+Math.imul(Yt,yn)|0,_t=_t+Math.imul(cn,gn)|0,et=et+Math.imul(cn,mn)|0,et=et+Math.imul(Ct,gn)|0,ft=ft+Math.imul(Ct,mn)|0,_t=_t+Math.imul(ln,wn)|0,et=et+Math.imul(ln,_n)|0,et=et+Math.imul(an,wn)|0,ft=ft+Math.imul(an,_n)|0,_t=_t+Math.imul(un,vn)|0,et=et+Math.imul(un,En)|0,et=et+Math.imul(sn,vn)|0,ft=ft+Math.imul(sn,En)|0,_t=_t+Math.imul(tn,Sn)|0,et=et+Math.imul(tn,xn)|0,et=et+Math.imul(on,Sn)|0,ft=ft+Math.imul(on,xn)|0,_t=_t+Math.imul(qt,$n)|0,et=et+Math.imul(qt,An)|0,et=et+Math.imul(Gt,$n)|0,ft=ft+Math.imul(Gt,An)|0,_t=_t+Math.imul(Nt,kn)|0,et=et+Math.imul(Nt,Rn)|0,et=et+Math.imul(Dt,kn)|0,ft=ft+Math.imul(Dt,Rn)|0;var Fn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,_t=Math.imul(st,nn),et=Math.imul(st,hn),et=et+Math.imul(At,nn)|0,ft=Math.imul(At,hn),_t=_t+Math.imul(Xt,pn)|0,et=et+Math.imul(Xt,yn)|0,et=et+Math.imul(wt,pn)|0,ft=ft+Math.imul(wt,yn)|0,_t=_t+Math.imul(Wt,gn)|0,et=et+Math.imul(Wt,mn)|0,et=et+Math.imul(Yt,gn)|0,ft=ft+Math.imul(Yt,mn)|0,_t=_t+Math.imul(cn,wn)|0,et=et+Math.imul(cn,_n)|0,et=et+Math.imul(Ct,wn)|0,ft=ft+Math.imul(Ct,_n)|0,_t=_t+Math.imul(ln,vn)|0,et=et+Math.imul(ln,En)|0,et=et+Math.imul(an,vn)|0,ft=ft+Math.imul(an,En)|0,_t=_t+Math.imul(un,Sn)|0,et=et+Math.imul(un,xn)|0,et=et+Math.imul(sn,Sn)|0,ft=ft+Math.imul(sn,xn)|0,_t=_t+Math.imul(tn,$n)|0,et=et+Math.imul(tn,An)|0,et=et+Math.imul(on,$n)|0,ft=ft+Math.imul(on,An)|0,_t=_t+Math.imul(qt,kn)|0,et=et+Math.imul(qt,Rn)|0,et=et+Math.imul(Gt,kn)|0,ft=ft+Math.imul(Gt,Rn)|0;var zn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(zn>>>26)|0,zn&=67108863,_t=Math.imul(st,pn),et=Math.imul(st,yn),et=et+Math.imul(At,pn)|0,ft=Math.imul(At,yn),_t=_t+Math.imul(Xt,gn)|0,et=et+Math.imul(Xt,mn)|0,et=et+Math.imul(wt,gn)|0,ft=ft+Math.imul(wt,mn)|0,_t=_t+Math.imul(Wt,wn)|0,et=et+Math.imul(Wt,_n)|0,et=et+Math.imul(Yt,wn)|0,ft=ft+Math.imul(Yt,_n)|0,_t=_t+Math.imul(cn,vn)|0,et=et+Math.imul(cn,En)|0,et=et+Math.imul(Ct,vn)|0,ft=ft+Math.imul(Ct,En)|0,_t=_t+Math.imul(ln,Sn)|0,et=et+Math.imul(ln,xn)|0,et=et+Math.imul(an,Sn)|0,ft=ft+Math.imul(an,xn)|0,_t=_t+Math.imul(un,$n)|0,et=et+Math.imul(un,An)|0,et=et+Math.imul(sn,$n)|0,ft=ft+Math.imul(sn,An)|0,_t=_t+Math.imul(tn,kn)|0,et=et+Math.imul(tn,Rn)|0,et=et+Math.imul(on,kn)|0,ft=ft+Math.imul(on,Rn)|0;var Hn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,_t=Math.imul(st,gn),et=Math.imul(st,mn),et=et+Math.imul(At,gn)|0,ft=Math.imul(At,mn),_t=_t+Math.imul(Xt,wn)|0,et=et+Math.imul(Xt,_n)|0,et=et+Math.imul(wt,wn)|0,ft=ft+Math.imul(wt,_n)|0,_t=_t+Math.imul(Wt,vn)|0,et=et+Math.imul(Wt,En)|0,et=et+Math.imul(Yt,vn)|0,ft=ft+Math.imul(Yt,En)|0,_t=_t+Math.imul(cn,Sn)|0,et=et+Math.imul(cn,xn)|0,et=et+Math.imul(Ct,Sn)|0,ft=ft+Math.imul(Ct,xn)|0,_t=_t+Math.imul(ln,$n)|0,et=et+Math.imul(ln,An)|0,et=et+Math.imul(an,$n)|0,ft=ft+Math.imul(an,An)|0,_t=_t+Math.imul(un,kn)|0,et=et+Math.imul(un,Rn)|0,et=et+Math.imul(sn,kn)|0,ft=ft+Math.imul(sn,Rn)|0;var Kn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,_t=Math.imul(st,wn),et=Math.imul(st,_n),et=et+Math.imul(At,wn)|0,ft=Math.imul(At,_n),_t=_t+Math.imul(Xt,vn)|0,et=et+Math.imul(Xt,En)|0,et=et+Math.imul(wt,vn)|0,ft=ft+Math.imul(wt,En)|0,_t=_t+Math.imul(Wt,Sn)|0,et=et+Math.imul(Wt,xn)|0,et=et+Math.imul(Yt,Sn)|0,ft=ft+Math.imul(Yt,xn)|0,_t=_t+Math.imul(cn,$n)|0,et=et+Math.imul(cn,An)|0,et=et+Math.imul(Ct,$n)|0,ft=ft+Math.imul(Ct,An)|0,_t=_t+Math.imul(ln,kn)|0,et=et+Math.imul(ln,Rn)|0,et=et+Math.imul(an,kn)|0,ft=ft+Math.imul(an,Rn)|0;var Vn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,_t=Math.imul(st,vn),et=Math.imul(st,En),et=et+Math.imul(At,vn)|0,ft=Math.imul(At,En),_t=_t+Math.imul(Xt,Sn)|0,et=et+Math.imul(Xt,xn)|0,et=et+Math.imul(wt,Sn)|0,ft=ft+Math.imul(wt,xn)|0,_t=_t+Math.imul(Wt,$n)|0,et=et+Math.imul(Wt,An)|0,et=et+Math.imul(Yt,$n)|0,ft=ft+Math.imul(Yt,An)|0,_t=_t+Math.imul(cn,kn)|0,et=et+Math.imul(cn,Rn)|0,et=et+Math.imul(Ct,kn)|0,ft=ft+Math.imul(Ct,Rn)|0;var Wn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,_t=Math.imul(st,Sn),et=Math.imul(st,xn),et=et+Math.imul(At,Sn)|0,ft=Math.imul(At,xn),_t=_t+Math.imul(Xt,$n)|0,et=et+Math.imul(Xt,An)|0,et=et+Math.imul(wt,$n)|0,ft=ft+Math.imul(wt,An)|0,_t=_t+Math.imul(Wt,kn)|0,et=et+Math.imul(Wt,Rn)|0,et=et+Math.imul(Yt,kn)|0,ft=ft+Math.imul(Yt,Rn)|0;var qn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(qn>>>26)|0,qn&=67108863,_t=Math.imul(st,$n),et=Math.imul(st,An),et=et+Math.imul(At,$n)|0,ft=Math.imul(At,An),_t=_t+Math.imul(Xt,kn)|0,et=et+Math.imul(Xt,Rn)|0,et=et+Math.imul(wt,kn)|0,ft=ft+Math.imul(wt,Rn)|0;var Gn=(St+_t|0)+((et&8191)<<13)|0;St=(ft+(et>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,_t=Math.imul(st,kn),et=Math.imul(st,Rn),et=et+Math.imul(At,kn)|0,ft=Math.imul(At,Rn);var Yn=(St+_t|0)+((et&8191)<<13)|0;return St=(ft+(et>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,gt[0]=Ln,gt[1]=Bn,gt[2]=Cn,gt[3]=Pn,gt[4]=On,gt[5]=Nn,gt[6]=Mn,gt[7]=Un,gt[8]=Dn,gt[9]=jn,gt[10]=Fn,gt[11]=zn,gt[12]=Hn,gt[13]=Kn,gt[14]=Vn,gt[15]=Wn,gt[16]=qn,gt[17]=Gn,gt[18]=Yn,St!==0&&(gt[19]=St,ct.length++),ct};Math.imul||(lt=dt);function at(Et,_e,tt){tt.negative=_e.negative^Et.negative,tt.length=Et.length+_e.length;for(var ct=0,mt=0,yt=0;yt<tt.length-1;yt++){var gt=mt;mt=0;for(var St=ct&67108863,_t=Math.min(yt,_e.length-1),et=Math.max(0,yt-Et.length+1);et<=_t;et++){var ft=yt-et,vt=Et.words[ft]|0,$t=_e.words[et]|0,kt=vt*$t,jt=kt&67108863;gt=gt+(kt/67108864|0)|0,jt=jt+St|0,St=jt&67108863,gt=gt+(jt>>>26)|0,mt+=gt>>>26,gt&=67108863}tt.words[yt]=St,ct=gt,gt=mt}return ct!==0?tt.words[yt]=ct:tt.length--,tt._strip()}function xt(Et,_e,tt){return at(Et,_e,tt)}d.prototype.mulTo=function(_e,tt){var ct,mt=this.length+_e.length;return this.length===10&&_e.length===10?ct=lt(this,_e,tt):mt<63?ct=dt(this,_e,tt):mt<1024?ct=at(this,_e,tt):ct=xt(this,_e,tt),ct},d.prototype.mul=function(_e){var tt=new d(null);return tt.words=new Array(this.length+_e.length),this.mulTo(_e,tt)},d.prototype.mulf=function(_e){var tt=new d(null);return tt.words=new Array(this.length+_e.length),xt(this,_e,tt)},d.prototype.imul=function(_e){return this.clone().mulTo(_e,this)},d.prototype.imuln=function(_e){var tt=_e<0;tt&&(_e=-_e),a(typeof _e=="number"),a(_e<67108864);for(var ct=0,mt=0;mt<this.length;mt++){var yt=(this.words[mt]|0)*_e,gt=(yt&67108863)+(ct&67108863);ct>>=26,ct+=yt/67108864|0,ct+=gt>>>26,this.words[mt]=gt&67108863}return ct!==0&&(this.words[mt]=ct,this.length++),tt?this.ineg():this},d.prototype.muln=function(_e){return this.clone().imuln(_e)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(_e){var tt=pt(_e);if(tt.length===0)return new d(1);for(var ct=this,mt=0;mt<tt.length&&tt[mt]===0;mt++,ct=ct.sqr());if(++mt<tt.length)for(var yt=ct.sqr();mt<tt.length;mt++,yt=yt.sqr())tt[mt]!==0&&(ct=ct.mul(yt));return ct},d.prototype.iushln=function(_e){a(typeof _e=="number"&&_e>=0);var tt=_e%26,ct=(_e-tt)/26,mt=67108863>>>26-tt<<26-tt,yt;if(tt!==0){var gt=0;for(yt=0;yt<this.length;yt++){var St=this.words[yt]&mt,_t=(this.words[yt]|0)-St<<tt;this.words[yt]=_t|gt,gt=St>>>26-tt}gt&&(this.words[yt]=gt,this.length++)}if(ct!==0){for(yt=this.length-1;yt>=0;yt--)this.words[yt+ct]=this.words[yt];for(yt=0;yt<ct;yt++)this.words[yt]=0;this.length+=ct}return this._strip()},d.prototype.ishln=function(_e){return a(this.negative===0),this.iushln(_e)},d.prototype.iushrn=function(_e,tt,ct){a(typeof _e=="number"&&_e>=0);var mt;tt?mt=(tt-tt%26)/26:mt=0;var yt=_e%26,gt=Math.min((_e-yt)/26,this.length),St=67108863^67108863>>>yt<<yt,_t=ct;if(mt-=gt,mt=Math.max(0,mt),_t){for(var et=0;et<gt;et++)_t.words[et]=this.words[et];_t.length=gt}if(gt!==0)if(this.length>gt)for(this.length-=gt,et=0;et<this.length;et++)this.words[et]=this.words[et+gt];else this.words[0]=0,this.length=1;var ft=0;for(et=this.length-1;et>=0&&(ft!==0||et>=mt);et--){var vt=this.words[et]|0;this.words[et]=ft<<26-yt|vt>>>yt,ft=vt&St}return _t&&ft!==0&&(_t.words[_t.length++]=ft),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(_e,tt,ct){return a(this.negative===0),this.iushrn(_e,tt,ct)},d.prototype.shln=function(_e){return this.clone().ishln(_e)},d.prototype.ushln=function(_e){return this.clone().iushln(_e)},d.prototype.shrn=function(_e){return this.clone().ishrn(_e)},d.prototype.ushrn=function(_e){return this.clone().iushrn(_e)},d.prototype.testn=function(_e){a(typeof _e=="number"&&_e>=0);var tt=_e%26,ct=(_e-tt)/26,mt=1<<tt;if(this.length<=ct)return!1;var yt=this.words[ct];return!!(yt&mt)},d.prototype.imaskn=function(_e){a(typeof _e=="number"&&_e>=0);var tt=_e%26,ct=(_e-tt)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=ct)return this;if(tt!==0&&ct++,this.length=Math.min(ct,this.length),tt!==0){var mt=67108863^67108863>>>tt<<tt;this.words[this.length-1]&=mt}return this._strip()},d.prototype.maskn=function(_e){return this.clone().imaskn(_e)},d.prototype.iaddn=function(_e){return a(typeof _e=="number"),a(_e<67108864),_e<0?this.isubn(-_e):this.negative!==0?this.length===1&&(this.words[0]|0)<=_e?(this.words[0]=_e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_e),this.negative=1,this):this._iaddn(_e)},d.prototype._iaddn=function(_e){this.words[0]+=_e;for(var tt=0;tt<this.length&&this.words[tt]>=67108864;tt++)this.words[tt]-=67108864,tt===this.length-1?this.words[tt+1]=1:this.words[tt+1]++;return this.length=Math.max(this.length,tt+1),this},d.prototype.isubn=function(_e){if(a(typeof _e=="number"),a(_e<67108864),_e<0)return this.iaddn(-_e);if(this.negative!==0)return this.negative=0,this.iaddn(_e),this.negative=1,this;if(this.words[0]-=_e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tt=0;tt<this.length&&this.words[tt]<0;tt++)this.words[tt]+=67108864,this.words[tt+1]-=1;return this._strip()},d.prototype.addn=function(_e){return this.clone().iaddn(_e)},d.prototype.subn=function(_e){return this.clone().isubn(_e)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(_e,tt,ct){var mt=_e.length+ct,yt;this._expand(mt);var gt,St=0;for(yt=0;yt<_e.length;yt++){gt=(this.words[yt+ct]|0)+St;var _t=(_e.words[yt]|0)*tt;gt-=_t&67108863,St=(gt>>26)-(_t/67108864|0),this.words[yt+ct]=gt&67108863}for(;yt<this.length-ct;yt++)gt=(this.words[yt+ct]|0)+St,St=gt>>26,this.words[yt+ct]=gt&67108863;if(St===0)return this._strip();for(a(St===-1),St=0,yt=0;yt<this.length;yt++)gt=-(this.words[yt]|0)+St,St=gt>>26,this.words[yt]=gt&67108863;return this.negative=1,this._strip()},d.prototype._wordDiv=function(_e,tt){var ct=this.length-_e.length,mt=this.clone(),yt=_e,gt=yt.words[yt.length-1]|0,St=this._countBits(gt);ct=26-St,ct!==0&&(yt=yt.ushln(ct),mt.iushln(ct),gt=yt.words[yt.length-1]|0);var _t=mt.length-yt.length,et;if(tt!=="mod"){et=new d(null),et.length=_t+1,et.words=new Array(et.length);for(var ft=0;ft<et.length;ft++)et.words[ft]=0}var vt=mt.clone()._ishlnsubmul(yt,1,_t);vt.negative===0&&(mt=vt,et&&(et.words[_t]=1));for(var $t=_t-1;$t>=0;$t--){var kt=(mt.words[yt.length+$t]|0)*67108864+(mt.words[yt.length+$t-1]|0);for(kt=Math.min(kt/gt|0,67108863),mt._ishlnsubmul(yt,kt,$t);mt.negative!==0;)kt--,mt.negative=0,mt._ishlnsubmul(yt,1,$t),mt.isZero()||(mt.negative^=1);et&&(et.words[$t]=kt)}return et&&et._strip(),mt._strip(),tt!=="div"&&ct!==0&&mt.iushrn(ct),{div:et||null,mod:mt}},d.prototype.divmod=function(_e,tt,ct){if(a(!_e.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var mt,yt,gt;return this.negative!==0&&_e.negative===0?(gt=this.neg().divmod(_e,tt),tt!=="mod"&&(mt=gt.div.neg()),tt!=="div"&&(yt=gt.mod.neg(),ct&&yt.negative!==0&&yt.iadd(_e)),{div:mt,mod:yt}):this.negative===0&&_e.negative!==0?(gt=this.divmod(_e.neg(),tt),tt!=="mod"&&(mt=gt.div.neg()),{div:mt,mod:gt.mod}):this.negative&_e.negative?(gt=this.neg().divmod(_e.neg(),tt),tt!=="div"&&(yt=gt.mod.neg(),ct&&yt.negative!==0&&yt.isub(_e)),{div:gt.div,mod:yt}):_e.length>this.length||this.cmp(_e)<0?{div:new d(0),mod:this}:_e.length===1?tt==="div"?{div:this.divn(_e.words[0]),mod:null}:tt==="mod"?{div:null,mod:new d(this.modrn(_e.words[0]))}:{div:this.divn(_e.words[0]),mod:new d(this.modrn(_e.words[0]))}:this._wordDiv(_e,tt)},d.prototype.div=function(_e){return this.divmod(_e,"div",!1).div},d.prototype.mod=function(_e){return this.divmod(_e,"mod",!1).mod},d.prototype.umod=function(_e){return this.divmod(_e,"mod",!0).mod},d.prototype.divRound=function(_e){var tt=this.divmod(_e);if(tt.mod.isZero())return tt.div;var ct=tt.div.negative!==0?tt.mod.isub(_e):tt.mod,mt=_e.ushrn(1),yt=_e.andln(1),gt=ct.cmp(mt);return gt<0||yt===1&&gt===0?tt.div:tt.div.negative!==0?tt.div.isubn(1):tt.div.iaddn(1)},d.prototype.modrn=function(_e){var tt=_e<0;tt&&(_e=-_e),a(_e<=67108863);for(var ct=(1<<26)%_e,mt=0,yt=this.length-1;yt>=0;yt--)mt=(ct*mt+(this.words[yt]|0))%_e;return tt?-mt:mt},d.prototype.modn=function(_e){return this.modrn(_e)},d.prototype.idivn=function(_e){var tt=_e<0;tt&&(_e=-_e),a(_e<=67108863);for(var ct=0,mt=this.length-1;mt>=0;mt--){var yt=(this.words[mt]|0)+ct*67108864;this.words[mt]=yt/_e|0,ct=yt%_e}return this._strip(),tt?this.ineg():this},d.prototype.divn=function(_e){return this.clone().idivn(_e)},d.prototype.egcd=function(_e){a(_e.negative===0),a(!_e.isZero());var tt=this,ct=_e.clone();tt.negative!==0?tt=tt.umod(_e):tt=tt.clone();for(var mt=new d(1),yt=new d(0),gt=new d(0),St=new d(1),_t=0;tt.isEven()&&ct.isEven();)tt.iushrn(1),ct.iushrn(1),++_t;for(var et=ct.clone(),ft=tt.clone();!tt.isZero();){for(var vt=0,$t=1;!(tt.words[0]&$t)&&vt<26;++vt,$t<<=1);if(vt>0)for(tt.iushrn(vt);vt-- >0;)(mt.isOdd()||yt.isOdd())&&(mt.iadd(et),yt.isub(ft)),mt.iushrn(1),yt.iushrn(1);for(var kt=0,jt=1;!(ct.words[0]&jt)&&kt<26;++kt,jt<<=1);if(kt>0)for(ct.iushrn(kt);kt-- >0;)(gt.isOdd()||St.isOdd())&&(gt.iadd(et),St.isub(ft)),gt.iushrn(1),St.iushrn(1);tt.cmp(ct)>=0?(tt.isub(ct),mt.isub(gt),yt.isub(St)):(ct.isub(tt),gt.isub(mt),St.isub(yt))}return{a:gt,b:St,gcd:ct.iushln(_t)}},d.prototype._invmp=function(_e){a(_e.negative===0),a(!_e.isZero());var tt=this,ct=_e.clone();tt.negative!==0?tt=tt.umod(_e):tt=tt.clone();for(var mt=new d(1),yt=new d(0),gt=ct.clone();tt.cmpn(1)>0&&ct.cmpn(1)>0;){for(var St=0,_t=1;!(tt.words[0]&_t)&&St<26;++St,_t<<=1);if(St>0)for(tt.iushrn(St);St-- >0;)mt.isOdd()&&mt.iadd(gt),mt.iushrn(1);for(var et=0,ft=1;!(ct.words[0]&ft)&&et<26;++et,ft<<=1);if(et>0)for(ct.iushrn(et);et-- >0;)yt.isOdd()&&yt.iadd(gt),yt.iushrn(1);tt.cmp(ct)>=0?(tt.isub(ct),mt.isub(yt)):(ct.isub(tt),yt.isub(mt))}var vt;return tt.cmpn(1)===0?vt=mt:vt=yt,vt.cmpn(0)<0&&vt.iadd(_e),vt},d.prototype.gcd=function(_e){if(this.isZero())return _e.abs();if(_e.isZero())return this.abs();var tt=this.clone(),ct=_e.clone();tt.negative=0,ct.negative=0;for(var mt=0;tt.isEven()&&ct.isEven();mt++)tt.iushrn(1),ct.iushrn(1);do{for(;tt.isEven();)tt.iushrn(1);for(;ct.isEven();)ct.iushrn(1);var yt=tt.cmp(ct);if(yt<0){var gt=tt;tt=ct,ct=gt}else if(yt===0||ct.cmpn(1)===0)break;tt.isub(ct)}while(!0);return ct.iushln(mt)},d.prototype.invm=function(_e){return this.egcd(_e).a.umod(_e)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(_e){return this.words[0]&_e},d.prototype.bincn=function(_e){a(typeof _e=="number");var tt=_e%26,ct=(_e-tt)/26,mt=1<<tt;if(this.length<=ct)return this._expand(ct+1),this.words[ct]|=mt,this;for(var yt=mt,gt=ct;yt!==0&&gt<this.length;gt++){var St=this.words[gt]|0;St+=yt,yt=St>>>26,St&=67108863,this.words[gt]=St}return yt!==0&&(this.words[gt]=yt,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(_e){var tt=_e<0;if(this.negative!==0&&!tt)return-1;if(this.negative===0&&tt)return 1;this._strip();var ct;if(this.length>1)ct=1;else{tt&&(_e=-_e),a(_e<=67108863,"Number is too big");var mt=this.words[0]|0;ct=mt===_e?0:mt<_e?-1:1}return this.negative!==0?-ct|0:ct},d.prototype.cmp=function(_e){if(this.negative!==0&&_e.negative===0)return-1;if(this.negative===0&&_e.negative!==0)return 1;var tt=this.ucmp(_e);return this.negative!==0?-tt|0:tt},d.prototype.ucmp=function(_e){if(this.length>_e.length)return 1;if(this.length<_e.length)return-1;for(var tt=0,ct=this.length-1;ct>=0;ct--){var mt=this.words[ct]|0,yt=_e.words[ct]|0;if(mt!==yt){mt<yt?tt=-1:mt>yt&&(tt=1);break}}return tt},d.prototype.gtn=function(_e){return this.cmpn(_e)===1},d.prototype.gt=function(_e){return this.cmp(_e)===1},d.prototype.gten=function(_e){return this.cmpn(_e)>=0},d.prototype.gte=function(_e){return this.cmp(_e)>=0},d.prototype.ltn=function(_e){return this.cmpn(_e)===-1},d.prototype.lt=function(_e){return this.cmp(_e)===-1},d.prototype.lten=function(_e){return this.cmpn(_e)<=0},d.prototype.lte=function(_e){return this.cmp(_e)<=0},d.prototype.eqn=function(_e){return this.cmpn(_e)===0},d.prototype.eq=function(_e){return this.cmp(_e)===0},d.red=function(_e){return new Ht(_e)},d.prototype.toRed=function(_e){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),_e.convertTo(this)._forceRed(_e)},d.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(_e){return this.red=_e,this},d.prototype.forceRed=function(_e){return a(!this.red,"Already a number in reduction context"),this._forceRed(_e)},d.prototype.redAdd=function(_e){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,_e)},d.prototype.redIAdd=function(_e){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_e)},d.prototype.redSub=function(_e){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,_e)},d.prototype.redISub=function(_e){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,_e)},d.prototype.redShl=function(_e){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,_e)},d.prototype.redMul=function(_e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,_e),this.red.mul(this,_e)},d.prototype.redIMul=function(_e){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,_e),this.red.imul(this,_e)},d.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(_e){return a(this.red&&!_e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_e)};var Rt={k256:null,p224:null,p192:null,p25519:null};function Tt(Et,_e){this.name=Et,this.p=new d(_e,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Tt.prototype._tmp=function(){var _e=new d(null);return _e.words=new Array(Math.ceil(this.n/13)),_e},Tt.prototype.ireduce=function(_e){var tt=_e,ct;do this.split(tt,this.tmp),tt=this.imulK(tt),tt=tt.iadd(this.tmp),ct=tt.bitLength();while(ct>this.n);var mt=ct<this.n?-1:tt.ucmp(this.p);return mt===0?(tt.words[0]=0,tt.length=1):mt>0?tt.isub(this.p):tt.strip!==void 0?tt.strip():tt._strip(),tt},Tt.prototype.split=function(_e,tt){_e.iushrn(this.n,0,tt)},Tt.prototype.imulK=function(_e){return _e.imul(this.k)};function It(){Tt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(It,Tt),It.prototype.split=function(_e,tt){for(var ct=4194303,mt=Math.min(_e.length,9),yt=0;yt<mt;yt++)tt.words[yt]=_e.words[yt];if(tt.length=mt,_e.length<=9){_e.words[0]=0,_e.length=1;return}var gt=_e.words[9];for(tt.words[tt.length++]=gt&ct,yt=10;yt<_e.length;yt++){var St=_e.words[yt]|0;_e.words[yt-10]=(St&ct)<<4|gt>>>22,gt=St}gt>>>=22,_e.words[yt-10]=gt,gt===0&&_e.length>10?_e.length-=10:_e.length-=9},It.prototype.imulK=function(_e){_e.words[_e.length]=0,_e.words[_e.length+1]=0,_e.length+=2;for(var tt=0,ct=0;ct<_e.length;ct++){var mt=_e.words[ct]|0;tt+=mt*977,_e.words[ct]=tt&67108863,tt=mt*64+(tt/67108864|0)}return _e.words[_e.length-1]===0&&(_e.length--,_e.words[_e.length-1]===0&&_e.length--),_e};function Bt(){Tt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(Bt,Tt);function Pt(){Tt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(Pt,Tt);function zt(){Tt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(zt,Tt),zt.prototype.imulK=function(_e){for(var tt=0,ct=0;ct<_e.length;ct++){var mt=(_e.words[ct]|0)*19+tt,yt=mt&67108863;mt>>>=26,_e.words[ct]=yt,tt=mt}return tt!==0&&(_e.words[_e.length++]=tt),_e},d._prime=function(_e){if(Rt[_e])return Rt[_e];var tt;if(_e==="k256")tt=new It;else if(_e==="p224")tt=new Bt;else if(_e==="p192")tt=new Pt;else if(_e==="p25519")tt=new zt;else throw new Error("Unknown prime "+_e);return Rt[_e]=tt,tt};function Ht(Et){if(typeof Et=="string"){var _e=d._prime(Et);this.m=_e.p,this.prime=_e}else a(Et.gtn(1),"modulus must be greater than 1"),this.m=Et,this.prime=null}Ht.prototype._verify1=function(_e){a(_e.negative===0,"red works only with positives"),a(_e.red,"red works only with red numbers")},Ht.prototype._verify2=function(_e,tt){a((_e.negative|tt.negative)===0,"red works only with positives"),a(_e.red&&_e.red===tt.red,"red works only with red numbers")},Ht.prototype.imod=function(_e){return this.prime?this.prime.ireduce(_e)._forceRed(this):(j(_e,_e.umod(this.m)._forceRed(this)),_e)},Ht.prototype.neg=function(_e){return _e.isZero()?_e.clone():this.m.sub(_e)._forceRed(this)},Ht.prototype.add=function(_e,tt){this._verify2(_e,tt);var ct=_e.add(tt);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct._forceRed(this)},Ht.prototype.iadd=function(_e,tt){this._verify2(_e,tt);var ct=_e.iadd(tt);return ct.cmp(this.m)>=0&&ct.isub(this.m),ct},Ht.prototype.sub=function(_e,tt){this._verify2(_e,tt);var ct=_e.sub(tt);return ct.cmpn(0)<0&&ct.iadd(this.m),ct._forceRed(this)},Ht.prototype.isub=function(_e,tt){this._verify2(_e,tt);var ct=_e.isub(tt);return ct.cmpn(0)<0&&ct.iadd(this.m),ct},Ht.prototype.shl=function(_e,tt){return this._verify1(_e),this.imod(_e.ushln(tt))},Ht.prototype.imul=function(_e,tt){return this._verify2(_e,tt),this.imod(_e.imul(tt))},Ht.prototype.mul=function(_e,tt){return this._verify2(_e,tt),this.imod(_e.mul(tt))},Ht.prototype.isqr=function(_e){return this.imul(_e,_e.clone())},Ht.prototype.sqr=function(_e){return this.mul(_e,_e)},Ht.prototype.sqrt=function(_e){if(_e.isZero())return _e.clone();var tt=this.m.andln(3);if(a(tt%2===1),tt===3){var ct=this.m.add(new d(1)).iushrn(2);return this.pow(_e,ct)}for(var mt=this.m.subn(1),yt=0;!mt.isZero()&&mt.andln(1)===0;)yt++,mt.iushrn(1);a(!mt.isZero());var gt=new d(1).toRed(this),St=gt.redNeg(),_t=this.m.subn(1).iushrn(1),et=this.m.bitLength();for(et=new d(2*et*et).toRed(this);this.pow(et,_t).cmp(St)!==0;)et.redIAdd(St);for(var ft=this.pow(et,mt),vt=this.pow(_e,mt.addn(1).iushrn(1)),$t=this.pow(_e,mt),kt=yt;$t.cmp(gt)!==0;){for(var jt=$t,Nt=0;jt.cmp(gt)!==0;Nt++)jt=jt.redSqr();a(Nt<kt);var Dt=this.pow(ft,new d(1).iushln(kt-Nt-1));vt=vt.redMul(Dt),ft=Dt.redSqr(),$t=$t.redMul(ft),kt=Nt}return vt},Ht.prototype.invm=function(_e){var tt=_e._invmp(this.m);return tt.negative!==0?(tt.negative=0,this.imod(tt).redNeg()):this.imod(tt)},Ht.prototype.pow=function(_e,tt){if(tt.isZero())return new d(1).toRed(this);if(tt.cmpn(1)===0)return _e.clone();var ct=4,mt=new Array(1<<ct);mt[0]=new d(1).toRed(this),mt[1]=_e;for(var yt=2;yt<mt.length;yt++)mt[yt]=this.mul(mt[yt-1],_e);var gt=mt[0],St=0,_t=0,et=tt.bitLength()%26;for(et===0&&(et=26),yt=tt.length-1;yt>=0;yt--){for(var ft=tt.words[yt],vt=et-1;vt>=0;vt--){var $t=ft>>vt&1;if(gt!==mt[0]&&(gt=this.sqr(gt)),$t===0&&St===0){_t=0;continue}St<<=1,St|=$t,_t++,!(_t!==ct&&(yt!==0||vt!==0))&&(gt=this.mul(gt,mt[St]),_t=0,St=0)}et=26}return gt},Ht.prototype.convertTo=function(_e){var tt=_e.umod(this.m);return tt===_e?tt.clone():tt},Ht.prototype.convertFrom=function(_e){var tt=_e.clone();return tt.red=null,tt},d.mont=function(_e){return new Ut(_e)};function Ut(Et){Ht.call(this,Et),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(Ut,Ht),Ut.prototype.convertTo=function(_e){return this.imod(_e.ushln(this.shift))},Ut.prototype.convertFrom=function(_e){var tt=this.imod(_e.mul(this.rinv));return tt.red=null,tt},Ut.prototype.imul=function(_e,tt){if(_e.isZero()||tt.isZero())return _e.words[0]=0,_e.length=1,_e;var ct=_e.imul(tt),mt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),yt=ct.isub(mt).iushrn(this.shift),gt=yt;return yt.cmp(this.m)>=0?gt=yt.isub(this.m):yt.cmpn(0)<0&&(gt=yt.iadd(this.m)),gt._forceRed(this)},Ut.prototype.mul=function(_e,tt){if(_e.isZero()||tt.isZero())return new d(0)._forceRed(this);var ct=_e.mul(tt),mt=ct.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),yt=ct.isub(mt).iushrn(this.shift),gt=yt;return yt.cmp(this.m)>=0?gt=yt.isub(this.m):yt.cmpn(0)<0&&(gt=yt.iadd(this.m)),gt._forceRed(this)},Ut.prototype.invm=function(_e){var tt=this.imod(_e._invmp(this.m).mul(this.r2));return tt._forceRed(this)}})(o,commonjsGlobal$1)})(bn);var bnExports=bn.exports;const BN=getDefaultExportFromCjs$2(bnExports);var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(o,e){var s=require$$0$1,a=s.Buffer;function c(h,_){for(var b in h)_[b]=h[b]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?o.exports=s:(c(s,e),e.Buffer=d);function d(h,_,b){return a(h,_,b)}d.prototype=Object.create(a.prototype),c(a,d),d.from=function(h,_,b){if(typeof h=="number")throw new TypeError("Argument must not be a number");return a(h,_,b)},d.alloc=function(h,_,b){if(typeof h!="number")throw new TypeError("Argument must be a number");var $=a(h);return _!==void 0?typeof b=="string"?$.fill(_,b):$.fill(_):$.fill(0),$},d.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return a(h)},d.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(h)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,_Buffer=safeBufferExports.Buffer;function base(o){if(o.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),s=0;s<e.length;s++)e[s]=255;for(var a=0;a<o.length;a++){var c=o.charAt(a),d=c.charCodeAt(0);if(e[d]!==255)throw new TypeError(c+" is ambiguous");e[d]=a}var h=o.length,_=o.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(ot){if((Array.isArray(ot)||ot instanceof Uint8Array)&&(ot=_Buffer.from(ot)),!_Buffer.isBuffer(ot))throw new TypeError("Expected Buffer");if(ot.length===0)return"";for(var ht=0,bt=0,pt=0,dt=ot.length;pt!==dt&&ot[pt]===0;)pt++,ht++;for(var lt=(dt-pt)*$+1>>>0,at=new Uint8Array(lt);pt!==dt;){for(var xt=ot[pt],Rt=0,Tt=lt-1;(xt!==0||Rt<bt)&&Tt!==-1;Tt--,Rt++)xt+=256*at[Tt]>>>0,at[Tt]=xt%h>>>0,xt=xt/h>>>0;if(xt!==0)throw new Error("Non-zero carry");bt=Rt,pt++}for(var It=lt-bt;It!==lt&&at[It]===0;)It++;for(var Bt=_.repeat(ht);It<lt;++It)Bt+=o.charAt(at[It]);return Bt}function rt(ot){if(typeof ot!="string")throw new TypeError("Expected String");if(ot.length===0)return _Buffer.alloc(0);for(var ht=0,bt=0,pt=0;ot[ht]===_;)bt++,ht++;for(var dt=(ot.length-ht)*b+1>>>0,lt=new Uint8Array(dt);ht<ot.length;){var at=e[ot.charCodeAt(ht)];if(at===255)return;for(var xt=0,Rt=dt-1;(at!==0||xt<pt)&&Rt!==-1;Rt--,xt++)at+=h*lt[Rt]>>>0,lt[Rt]=at%256>>>0,at=at/256>>>0;if(at!==0)throw new Error("Non-zero carry");pt=xt,ht++}for(var Tt=dt-pt;Tt!==dt&&lt[Tt]===0;)Tt++;var It=_Buffer.allocUnsafe(bt+(dt-Tt));It.fill(0,0,bt);for(var Bt=bt;Tt!==dt;)It[Bt++]=lt[Tt++];return It}function it(ot){var ht=rt(ot);if(ht)return ht;throw new Error("Non-base"+h+" character")}return{encode:j,decodeUnsafe:rt,decode:it}}var src=base,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const bs58$1=getDefaultExportFromCjs$2(bs58),SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:e,B:s,C:a,D:c,E:d,F:h,G:_,H:b}=this;return[e,s,a,c,d,h,_,b]}set(e,s,a,c,d,h,_,b){this.A=e|0,this.B=s|0,this.C=a|0,this.D=c|0,this.E=d|0,this.F=h|0,this.G=_|0,this.H=b|0}process(e,s){for(let rt=0;rt<16;rt++,s+=4)SHA256_W[rt]=e.getUint32(s,!1);for(let rt=16;rt<64;rt++){const it=SHA256_W[rt-15],ot=SHA256_W[rt-2],ht=rotr(it,7)^rotr(it,18)^it>>>3,bt=rotr(ot,17)^rotr(ot,19)^ot>>>10;SHA256_W[rt]=bt+SHA256_W[rt-7]+ht+SHA256_W[rt-16]|0}let{A:a,B:c,C:d,D:h,E:_,F:b,G:$,H:j}=this;for(let rt=0;rt<64;rt++){const it=rotr(_,6)^rotr(_,11)^rotr(_,25),ot=j+it+Chi(_,b,$)+SHA256_K[rt]+SHA256_W[rt]|0,bt=(rotr(a,2)^rotr(a,13)^rotr(a,22))+Maj(a,c,d)|0;j=$,$=b,b=_,_=h+ot|0,h=d,d=c,c=a,a=ot+bt|0}a=a+this.A|0,c=c+this.B|0,d=d+this.C|0,h=h+this.D|0,_=_+this.E|0,b=b+this.F|0,$=$+this.G|0,j=j+this.H|0,this.set(a,c,d,h,_,b,$,j)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);var lib={};function inRange(o,e,s){return e<=o&&o<=s}function ToDictionary(o){if(o===void 0)return{};if(o===Object(o))return o;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(o){for(var e=String(o),s=e.length,a=0,c=[];a<s;){var d=e.charCodeAt(a);if(d<55296||d>57343)c.push(d);else if(56320<=d&&d<=57343)c.push(65533);else if(55296<=d&&d<=56319)if(a===s-1)c.push(65533);else{var h=o.charCodeAt(a+1);if(56320<=h&&h<=57343){var _=d&1023,b=h&1023;c.push(65536+(_<<10)+b),a+=1}else c.push(65533)}a+=1}return c}function codePointsToString(o){for(var e="",s=0;s<o.length;++s){var a=o[s];a<=65535?e+=String.fromCharCode(a):(a-=65536,e+=String.fromCharCode((a>>10)+55296,(a&1023)+56320))}return e}var end_of_stream=-1;function Stream(o){this.tokens=[].slice.call(o)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(o){if(Array.isArray(o))for(var e=o;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(o)},push:function(o){if(Array.isArray(o))for(var e=o;e.length;)this.tokens.push(e.shift());else this.tokens.push(o)}};var finished=-1;function decoderError(o,e){if(o)throw TypeError("Decoder error");return e||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(o,e){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(o,e);if(o=o!==void 0?String(o).toLowerCase():DEFAULT_ENCODING,o!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,s){var a;typeof e=="object"&&e instanceof ArrayBuffer?a=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?a=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):a=new Uint8Array(0),s=ToDictionary(s),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!s.stream;for(var c=new Stream(a),d=[],h;!c.endOfStream()&&(h=this._decoder.handler(c,c.read()),h!==finished);)h!==null&&(Array.isArray(h)?d.push.apply(d,h):d.push(h));if(!this._streaming){do{if(h=this._decoder.handler(c,c.read()),h===finished)break;h!==null&&(Array.isArray(h)?d.push.apply(d,h):d.push(h))}while(!c.endOfStream());this._decoder=null}return d.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(d[0]===65279?(this._BOMseen=!0,d.shift()):this._BOMseen=!0),codePointsToString(d)}};function TextEncoder$1(o,e){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(o,e);if(o=o!==void 0?String(o).toLowerCase():DEFAULT_ENCODING,o!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,s){e=e?String(e):"",s=ToDictionary(s),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=!!s.stream;for(var a=[],c=new Stream(stringToCodePoints(e)),d;!c.endOfStream()&&(d=this._encoder.handler(c,c.read()),d!==finished);)Array.isArray(d)?a.push.apply(a,d):a.push(d);if(!this._streaming){for(;d=this._encoder.handler(c,c.read()),d!==finished;)Array.isArray(d)?a.push.apply(a,d):a.push(d);this._encoder=null}return new Uint8Array(a)}};function UTF8Decoder(o){var e=o.fatal,s=0,a=0,c=0,d=128,h=191;this.handler=function(_,b){if(b===end_of_stream&&c!==0)return c=0,decoderError(e);if(b===end_of_stream)return finished;if(c===0){if(inRange(b,0,127))return b;if(inRange(b,194,223))c=1,s=b-192;else if(inRange(b,224,239))b===224&&(d=160),b===237&&(h=159),c=2,s=b-224;else if(inRange(b,240,244))b===240&&(d=144),b===244&&(h=143),c=3,s=b-240;else return decoderError(e);return s=s<<6*c,null}if(!inRange(b,d,h))return s=c=a=0,d=128,h=191,_.prepend(b),decoderError(e);if(d=128,h=191,a+=1,s+=b-128<<6*(c-a),a!==c)return null;var $=s;return s=c=a=0,$}}function UTF8Encoder(o){o.fatal,this.handler=function(e,s){if(s===end_of_stream)return finished;if(inRange(s,0,127))return s;var a,c;inRange(s,128,2047)?(a=1,c=192):inRange(s,2048,65535)?(a=2,c=224):inRange(s,65536,1114111)&&(a=3,c=240);for(var d=[(s>>6*a)+c];a>0;){var h=s>>6*(a-1);d.push(128|h&63),a-=1}return d}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:TextDecoder$1,TextEncoder:TextEncoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding$1);var __createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(o,e,s,a){a===void 0&&(a=s),Object.defineProperty(o,a,{enumerable:!0,get:function(){return e[s]}})}:function(o,e,s,a){a===void 0&&(a=s),o[a]=e[s]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(o,e){Object.defineProperty(o,"default",{enumerable:!0,value:e})}:function(o,e){o.default=e}),__decorate=commonjsGlobal$1&&commonjsGlobal$1.__decorate||function(o,e,s,a){var c=arguments.length,d=c<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,s):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(o,e,s,a);else for(var _=o.length-1;_>=0;_--)(h=o[_])&&(d=(c<3?h(d):c>3?h(e,s,d):h(e,s))||d);return c>3&&d&&Object.defineProperty(e,s,d),d},__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(o){if(o&&o.__esModule)return o;var e={};if(o!=null)for(var s in o)s!=="default"&&Object.hasOwnProperty.call(o,s)&&__createBinding(e,o,s);return __setModuleDefault(e,o),e},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(lib,"__esModule",{value:!0});var deserializeUnchecked_1=lib.deserializeUnchecked=deserialize_1=lib.deserialize=serialize_1=lib.serialize=lib.BinaryReader=lib.BinaryWriter=lib.BorshError=lib.baseDecode=lib.baseEncode=void 0;const bn_js_1=__importDefault(bnExports),bs58_1=__importDefault(bs58),encoding=__importStar(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(o){return typeof o=="string"&&(o=Buffer.from(o,"utf8")),bs58_1.default.encode(Buffer.from(o))}lib.baseEncode=baseEncode;function baseDecode(o){return Buffer.from(bs58_1.default.decode(o))}lib.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const s=Buffer.from(e,"utf8");this.writeU32(s.length),this.writeBuffer(s)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,s){this.maybeResize(),this.writeU32(e.length);for(const a of e)this.maybeResize(),s(a)}toArray(){return this.buf.subarray(0,this.length)}}lib.BinaryWriter=BinaryWriter;function handlingRangeError(o,e,s){const a=s.value;s.value=function(...c){try{return a.apply(this,c)}catch(d){if(d instanceof RangeError){const h=d.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(h)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw d}}}class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const s=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,s}readString(){const e=this.readU32(),s=this.readBuffer(e);try{return textDecoder.decode(s)}catch(a){throw new BorshError(`Error decoding UTF-8 string: ${a}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const s=this.readU32(),a=Array();for(let c=0;c<s;++c)a.push(e());return a}}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null);lib.BinaryReader=BinaryReader;function capitalizeFirstLetter(o){return o.charAt(0).toUpperCase()+o.slice(1)}function serializeField(o,e,s,a,c){try{if(typeof a=="string")c[`write${capitalizeFirstLetter(a)}`](s);else if(a instanceof Array)if(typeof a[0]=="number"){if(s.length!==a[0])throw new BorshError(`Expecting byte array of length ${a[0]}, but got ${s.length} bytes`);c.writeFixedArray(s)}else if(a.length===2&&typeof a[1]=="number"){if(s.length!==a[1])throw new BorshError(`Expecting byte array of length ${a[1]}, but got ${s.length} bytes`);for(let d=0;d<a[1];d++)serializeField(o,null,s[d],a[0],c)}else c.writeArray(s,d=>{serializeField(o,e,d,a[0],c)});else if(a.kind!==void 0)switch(a.kind){case"option":{s==null?c.writeU8(0):(c.writeU8(1),serializeField(o,e,s,a.type,c));break}case"map":{c.writeU32(s.size),s.forEach((d,h)=>{serializeField(o,e,h,a.key,c),serializeField(o,e,d,a.value,c)});break}default:throw new BorshError(`FieldType ${a} unrecognized`)}else serializeStruct(o,s,c)}catch(d){throw d instanceof BorshError&&d.addToFieldPath(e),d}}function serializeStruct(o,e,s){if(typeof e.borshSerialize=="function"){e.borshSerialize(s);return}const a=o.get(e.constructor);if(!a)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if(a.kind==="struct")a.fields.map(([c,d])=>{serializeField(o,c,e[c],d,s)});else if(a.kind==="enum"){const c=e[a.field];for(let d=0;d<a.values.length;++d){const[h,_]=a.values[d];if(h===c){s.writeU8(d),serializeField(o,h,e[h],_,s);break}}}else throw new BorshError(`Unexpected schema kind: ${a.kind} for ${e.constructor.name}`)}function serialize(o,e,s=BinaryWriter){const a=new s;return serializeStruct(o,e,a),a.toArray()}var serialize_1=lib.serialize=serialize;function deserializeField(o,e,s,a){try{if(typeof s=="string")return a[`read${capitalizeFirstLetter(s)}`]();if(s instanceof Array){if(typeof s[0]=="number")return a.readFixedArray(s[0]);if(typeof s[1]=="number"){const c=[];for(let d=0;d<s[1];d++)c.push(deserializeField(o,null,s[0],a));return c}else return a.readArray(()=>deserializeField(o,e,s[0],a))}if(s.kind==="option")return a.readU8()?deserializeField(o,e,s.type,a):void 0;if(s.kind==="map"){let c=new Map;const d=a.readU32();for(let h=0;h<d;h++){const _=deserializeField(o,e,s.key,a),b=deserializeField(o,e,s.value,a);c.set(_,b)}return c}return deserializeStruct(o,s,a)}catch(c){throw c instanceof BorshError&&c.addToFieldPath(e),c}}function deserializeStruct(o,e,s){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(s);const a=o.get(e);if(!a)throw new BorshError(`Class ${e.name} is missing in schema`);if(a.kind==="struct"){const c={};for(const[d,h]of o.get(e).fields)c[d]=deserializeField(o,d,h,s);return new e(c)}if(a.kind==="enum"){const c=s.readU8();if(c>=a.values.length)throw new BorshError(`Enum index: ${c} is out of range`);const[d,h]=a.values[c],_=deserializeField(o,d,h,s);return new e({[d]:_})}throw new BorshError(`Unexpected schema kind: ${a.kind} for ${e.constructor.name}`)}function deserialize(o,e,s,a=BinaryReader){const c=new a(s),d=deserializeStruct(o,e,c);if(c.offset<s.length)throw new BorshError(`Unexpected ${s.length-c.offset} bytes after deserialized data`);return d}var deserialize_1=lib.deserialize=deserialize;function deserializeUnchecked(o,e,s,a=BinaryReader){const c=new a(s);return deserializeStruct(o,e,c)}deserializeUnchecked_1=lib.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64$1=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$1=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$1=Layout$4.u8=offset$1=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$1=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$1=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64$1=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=require$$0$1;function checkUint8Array(o){if(!(o instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(o){return checkUint8Array(o),buffer_1.Buffer.from(o.buffer,o.byteOffset,o.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;let Layout$3=class{constructor(e,s){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=s}makeDestinationObject(){return{}}getSpan(e,s){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const s=Object.create(this.constructor.prototype);return Object.assign(s,this),s.property=e,s}fromArray(e){}};Layout$4.Layout=Layout$3;function nameWithProperty$2(o,e){return e.property?o+"["+e.property+"]":o}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(o,e){if(typeof o!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(o,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");o.layout_=e,e.boundConstructor_=o,e.makeDestinationObject=()=>new o,Object.defineProperty(o.prototype,"encode",{value(s,a){return e.encode(this,s,a)},writable:!0}),Object.defineProperty(o,"decode",{value(s,a){return e.decode(s,a)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;let ExternalLayout$2=class extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}};Layout$4.ExternalLayout=ExternalLayout$2;let GreedyCount$1=class extends ExternalLayout$2{constructor(e=1,s){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,s),this.elementSpan=e}isCount(){return!0}decode(e,s=0){checkUint8Array(e);const a=e.length-s;return Math.floor(a/this.elementSpan)}encode(e,s,a){return 0}};Layout$4.GreedyCount=GreedyCount$1;let OffsetLayout$2=class extends ExternalLayout$2{constructor(e,s=0,a){if(!(e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(s))throw new TypeError("offset must be integer or undefined");super(e.span,a||e.property),this.layout=e,this.offset=s}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$2}decode(e,s=0){return this.layout.decode(e,s+this.offset)}encode(e,s,a=0){return this.layout.encode(e,s,a+this.offset)}};Layout$4.OffsetLayout=OffsetLayout$2;let UInt$2=class extends Layout$3{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s=0){return uint8ArrayToBuffer(e).readUIntLE(s,this.span)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeUIntLE(e,a,this.span),this.span}};Layout$4.UInt=UInt$2;let UIntBE$2=class extends Layout$3{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s=0){return uint8ArrayToBuffer(e).readUIntBE(s,this.span)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeUIntBE(e,a,this.span),this.span}};Layout$4.UIntBE=UIntBE$2;let Int$1=class extends Layout$3{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s=0){return uint8ArrayToBuffer(e).readIntLE(s,this.span)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeIntLE(e,a,this.span),this.span}};Layout$4.Int=Int$1;let IntBE$1=class extends Layout$3{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s=0){return uint8ArrayToBuffer(e).readIntBE(s,this.span)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeIntBE(e,a,this.span),this.span}};Layout$4.IntBE=IntBE$1;const V2E32$2=Math.pow(2,32);function divmodInt64$2(o){const e=Math.floor(o/V2E32$2),s=o-e*V2E32$2;return{hi32:e,lo32:s}}function roundedInt64$2(o,e){return o*V2E32$2+e}let NearUInt64$2=class extends Layout$3{constructor(e){super(8,e)}decode(e,s=0){const a=uint8ArrayToBuffer(e),c=a.readUInt32LE(s),d=a.readUInt32LE(s+4);return roundedInt64$2(d,c)}encode(e,s,a=0){const c=divmodInt64$2(e),d=uint8ArrayToBuffer(s);return d.writeUInt32LE(c.lo32,a),d.writeUInt32LE(c.hi32,a+4),8}};Layout$4.NearUInt64=NearUInt64$2;let NearUInt64BE$1=class extends Layout$3{constructor(e){super(8,e)}decode(e,s=0){const a=uint8ArrayToBuffer(e),c=a.readUInt32BE(s),d=a.readUInt32BE(s+4);return roundedInt64$2(c,d)}encode(e,s,a=0){const c=divmodInt64$2(e),d=uint8ArrayToBuffer(s);return d.writeUInt32BE(c.hi32,a),d.writeUInt32BE(c.lo32,a+4),8}};Layout$4.NearUInt64BE=NearUInt64BE$1;let NearInt64$2=class extends Layout$3{constructor(e){super(8,e)}decode(e,s=0){const a=uint8ArrayToBuffer(e),c=a.readUInt32LE(s),d=a.readInt32LE(s+4);return roundedInt64$2(d,c)}encode(e,s,a=0){const c=divmodInt64$2(e),d=uint8ArrayToBuffer(s);return d.writeUInt32LE(c.lo32,a),d.writeInt32LE(c.hi32,a+4),8}};Layout$4.NearInt64=NearInt64$2;let NearInt64BE$1=class extends Layout$3{constructor(e){super(8,e)}decode(e,s=0){const a=uint8ArrayToBuffer(e),c=a.readInt32BE(s),d=a.readUInt32BE(s+4);return roundedInt64$2(c,d)}encode(e,s,a=0){const c=divmodInt64$2(e),d=uint8ArrayToBuffer(s);return d.writeInt32BE(c.hi32,a),d.writeUInt32BE(c.lo32,a+4),8}};Layout$4.NearInt64BE=NearInt64BE$1;let Float$1=class extends Layout$3{constructor(e){super(4,e)}decode(e,s=0){return uint8ArrayToBuffer(e).readFloatLE(s)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeFloatLE(e,a),4}};Layout$4.Float=Float$1;let FloatBE$1=class extends Layout$3{constructor(e){super(4,e)}decode(e,s=0){return uint8ArrayToBuffer(e).readFloatBE(s)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeFloatBE(e,a),4}};Layout$4.FloatBE=FloatBE$1;let Double$1=class extends Layout$3{constructor(e){super(8,e)}decode(e,s=0){return uint8ArrayToBuffer(e).readDoubleLE(s)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeDoubleLE(e,a),8}};Layout$4.Double=Double$1;let DoubleBE$1=class extends Layout$3{constructor(e){super(8,e)}decode(e,s=0){return uint8ArrayToBuffer(e).readDoubleBE(s)}encode(e,s,a=0){return uint8ArrayToBuffer(s).writeDoubleBE(e,a),8}};Layout$4.DoubleBE=DoubleBE$1;let Sequence$1=class extends Layout$3{constructor(e,s,a){if(!(e instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(s instanceof ExternalLayout$2&&s.isCount()||Number.isInteger(s)&&0<=s))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let c=-1;!(s instanceof ExternalLayout$2)&&0<e.span&&(c=s*e.span),super(c,a),this.elementLayout=e,this.count=s}getSpan(e,s=0){if(0<=this.span)return this.span;let a=0,c=this.count;if(c instanceof ExternalLayout$2&&(c=c.decode(e,s)),0<this.elementLayout.span)a=c*this.elementLayout.span;else{let d=0;for(;d<c;)a+=this.elementLayout.getSpan(e,s+a),++d}return a}decode(e,s=0){const a=[];let c=0,d=this.count;for(d instanceof ExternalLayout$2&&(d=d.decode(e,s));c<d;)a.push(this.elementLayout.decode(e,s)),s+=this.elementLayout.getSpan(e,s),c+=1;return a}encode(e,s,a=0){const c=this.elementLayout,d=e.reduce((h,_)=>h+c.encode(_,s,a+h),0);return this.count instanceof ExternalLayout$2&&this.count.encode(e.length,s,a),d}};Layout$4.Sequence=Sequence$1;let Structure$2=class extends Layout$3{constructor(e,s,a){if(!(Array.isArray(e)&&e.reduce((d,h)=>d&&h instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof s=="boolean"&&a===void 0&&(a=s,s=void 0);for(const d of e)if(0>d.span&&d.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let c=-1;try{c=e.reduce((d,h)=>d+h.getSpan(),0)}catch{}super(c,s),this.fields=e,this.decodePrefixes=!!a}getSpan(e,s=0){if(0<=this.span)return this.span;let a=0;try{a=this.fields.reduce((c,d)=>{const h=d.getSpan(e,s);return s+=h,c+h},0)}catch{throw new RangeError("indeterminate span")}return a}decode(e,s=0){checkUint8Array(e);const a=this.makeDestinationObject();for(const c of this.fields)if(c.property!==void 0&&(a[c.property]=c.decode(e,s)),s+=c.getSpan(e,s),this.decodePrefixes&&e.length===s)break;return a}encode(e,s,a=0){const c=a;let d=0,h=0;for(const _ of this.fields){let b=_.span;if(h=0<b?b:0,_.property!==void 0){const $=e[_.property];$!==void 0&&(h=_.encode($,s,a),0>b&&(b=_.getSpan(s,a)))}d=a,a+=b}return d+h-c}fromArray(e){const s=this.makeDestinationObject();for(const a of this.fields)a.property!==void 0&&0<e.length&&(s[a.property]=e.shift());return s}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const s of this.fields)if(s.property===e)return s}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let s=0;for(const a of this.fields){if(a.property===e)return s;0>a.span?s=-1:0<=s&&(s+=a.span)}}};Layout$4.Structure=Structure$2;let UnionDiscriminator$2=class{constructor(e){this.property=e}decode(e,s){throw new Error("UnionDiscriminator is abstract")}encode(e,s,a){throw new Error("UnionDiscriminator is abstract")}};Layout$4.UnionDiscriminator=UnionDiscriminator$2;let UnionLayoutDiscriminator$2=class extends UnionDiscriminator$2{constructor(e,s){if(!(e instanceof ExternalLayout$2&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(s||e.property||"variant"),this.layout=e}decode(e,s){return this.layout.decode(e,s)}encode(e,s,a){return this.layout.encode(e,s,a)}};Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$2;let Union$2=class extends Layout$3{constructor(e,s,a){let c;if(e instanceof UInt$2||e instanceof UIntBE$2)c=new UnionLayoutDiscriminator$2(new OffsetLayout$2(e));else if(e instanceof ExternalLayout$2&&e.isCount())c=new UnionLayoutDiscriminator$2(e);else if(e instanceof UnionDiscriminator$2)c=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(s===void 0&&(s=null),!(s===null||s instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(s!==null){if(0>s.span)throw new Error("defaultLayout must have constant span");s.property===void 0&&(s=s.replicate("content"))}let d=-1;s&&(d=s.span,0<=d&&(e instanceof UInt$2||e instanceof UIntBE$2)&&(d+=c.layout.span)),super(d,a),this.discriminator=c,this.usesPrefixDiscriminator=e instanceof UInt$2||e instanceof UIntBE$2,this.defaultLayout=s,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(_){return h(_)},this.configGetSourceVariant=function(_){h=_.bind(this)}}getSpan(e,s=0){if(0<=this.span)return this.span;const a=this.getVariant(e,s);if(!a)throw new Error("unable to determine span for unrecognized variant");return a.getSpan(e,s)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const s=this.registry[e[this.discriminator.property]];if(s&&(!s.layout||s.property&&Object.prototype.hasOwnProperty.call(e,s.property)))return s}else for(const s in this.registry){const a=this.registry[s];if(a.property&&Object.prototype.hasOwnProperty.call(e,a.property))return a}throw new Error("unable to infer src variant")}decode(e,s=0){let a;const c=this.discriminator,d=c.decode(e,s),h=this.registry[d];if(h===void 0){const _=this.defaultLayout;let b=0;this.usesPrefixDiscriminator&&(b=c.layout.span),a=this.makeDestinationObject(),a[c.property]=d,a[_.property]=_.decode(e,s+b)}else a=h.decode(e,s);return a}encode(e,s,a=0){const c=this.getSourceVariant(e);if(c===void 0){const d=this.discriminator,h=this.defaultLayout;let _=0;return this.usesPrefixDiscriminator&&(_=d.layout.span),d.encode(e[d.property],s,a),_+h.encode(e[h.property],s,a+_)}return c.encode(e,s,a)}addVariant(e,s,a){const c=new VariantLayout$2(this,e,s,a);return this.registry[e]=c,c}getVariant(e,s=0){let a;return e instanceof Uint8Array?a=this.discriminator.decode(e,s):a=e,this.registry[a]}};Layout$4.Union=Union$2;let VariantLayout$2=class extends Layout$3{constructor(e,s,a,c){if(!(e instanceof Union$2))throw new TypeError("union must be a Union");if(!Number.isInteger(s)||0>s)throw new TypeError("variant must be a (non-negative) integer");if(typeof a=="string"&&c===void 0&&(c=a,a=null),a){if(!(a instanceof Layout$3))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=a.span&&a.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof c!="string")throw new TypeError("variant must have a String property")}let d=e.span;0>e.span&&(d=a?a.span:0,0<=d&&e.usesPrefixDiscriminator&&(d+=e.discriminator.layout.span)),super(d,c),this.union=e,this.variant=s,this.layout=a||null}getSpan(e,s=0){if(0<=this.span)return this.span;let a=0;this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span);let c=0;return this.layout&&(c=this.layout.getSpan(e,s+a)),a+c}decode(e,s=0){const a=this.makeDestinationObject();if(this!==this.union.getVariant(e,s))throw new Error("variant mismatch");let c=0;return this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout?a[this.property]=this.layout.decode(e,s+c):this.property?a[this.property]=!0:this.union.usesPrefixDiscriminator&&(a[this.union.discriminator.property]=this.variant),a}encode(e,s,a=0){let c=0;if(this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,s,a);let d=c;if(this.layout&&(this.layout.encode(e[this.property],s,a+c),d+=this.layout.getSpan(s,a+c),0<=this.union.span&&d>this.union.span))throw new Error("encoded variant overruns containing union");return d}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Layout$4.VariantLayout=VariantLayout$2;function fixBitwiseResult$1(o){return 0>o&&(o+=4294967296),o}let BitStructure$1=class extends Layout$3{constructor(e,s,a){if(!(e instanceof UInt$2||e instanceof UIntBE$2))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof s=="string"&&a===void 0&&(a=s,s=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,a),this.word=e,this.msb=!!s,this.fields=[];let c=0;this._packedSetValue=function(d){return c=fixBitwiseResult$1(d),this},this._packedGetValue=function(){return c}}decode(e,s=0){const a=this.makeDestinationObject(),c=this.word.decode(e,s);this._packedSetValue(c);for(const d of this.fields)d.property!==void 0&&(a[d.property]=d.decode(e));return a}encode(e,s,a=0){const c=this.word.decode(s,a);this._packedSetValue(c);for(const d of this.fields)if(d.property!==void 0){const h=e[d.property];h!==void 0&&d.encode(h)}return this.word.encode(this._packedGetValue(),s,a)}addField(e,s){const a=new BitField$1(this,e,s);return this.fields.push(a),a}addBoolean(e){const s=new Boolean$2(this,e);return this.fields.push(s),s}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const s of this.fields)if(s.property===e)return s}};Layout$4.BitStructure=BitStructure$1;let BitField$1=class{constructor(e,s,a){if(!(e instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(s)||0>=s)throw new TypeError("bits must be positive integer");const c=8*e.span,d=e.fields.reduce((h,_)=>h+_.bits,0);if(s+d>c)throw new Error("bits too long for span remainder ("+(c-d)+" of "+c+" remain)");this.container=e,this.bits=s,this.valueMask=(1<<s)-1,s===32&&(this.valueMask=4294967295),this.start=d,this.container.msb&&(this.start=c-d-s),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=a}decode(e,s){const a=this.container._packedGetValue();return fixBitwiseResult$1(a&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fixBitwiseResult$1(e&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const s=this.container._packedGetValue(),a=fixBitwiseResult$1(e<<this.start);this.container._packedSetValue(fixBitwiseResult$1(s&~this.wordMask)|a)}};Layout$4.BitField=BitField$1;let Boolean$2=class extends BitField$1{constructor(e,s){super(e,1,s)}decode(e,s){return!!super.decode(e,s)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Layout$4.Boolean=Boolean$2;let Blob$3=class extends Layout$3{constructor(e,s){if(!(e instanceof ExternalLayout$2&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let a=-1;e instanceof ExternalLayout$2||(a=e),super(a,s),this.length=e}getSpan(e,s){let a=this.span;return 0>a&&(a=this.length.decode(e,s)),a}decode(e,s=0){let a=this.span;return 0>a&&(a=this.length.decode(e,s)),uint8ArrayToBuffer(e).slice(s,s+a)}encode(e,s,a){let c=this.length;if(this.length instanceof ExternalLayout$2&&(c=e.length),!(e instanceof Uint8Array&&c===e.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+c+") Uint8Array as src");if(a+c>s.length)throw new RangeError("encoding overruns Uint8Array");const d=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(s).write(d.toString("hex"),a,c,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(c,s,a),c}};Layout$4.Blob=Blob$3;let CString$1=class extends Layout$3{constructor(e){super(-1,e)}getSpan(e,s=0){checkUint8Array(e);let a=s;for(;a<e.length&&e[a]!==0;)a+=1;return 1+a-s}decode(e,s=0){const a=this.getSpan(e,s);return uint8ArrayToBuffer(e).slice(s,s+a-1).toString("utf-8")}encode(e,s,a=0){typeof e!="string"&&(e=String(e));const c=buffer_1.Buffer.from(e,"utf8"),d=c.length;if(a+d>s.length)throw new RangeError("encoding overruns Buffer");const h=uint8ArrayToBuffer(s);return c.copy(h,a),h[a+d]=0,d+1}};Layout$4.CString=CString$1;let UTF8$1=class extends Layout$3{constructor(e,s){if(typeof e=="string"&&s===void 0&&(s=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,s),this.maxSpan=e}getSpan(e,s=0){return checkUint8Array(e),e.length-s}decode(e,s=0){const a=this.getSpan(e,s);if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(s,s+a).toString("utf-8")}encode(e,s,a=0){typeof e!="string"&&(e=String(e));const c=buffer_1.Buffer.from(e,"utf8"),d=c.length;if(0<=this.maxSpan&&this.maxSpan<d)throw new RangeError("text length exceeds maxSpan");if(a+d>s.length)throw new RangeError("encoding overruns Buffer");return c.copy(uint8ArrayToBuffer(s),a),d}};Layout$4.UTF8=UTF8$1;let Constant$1=class extends Layout$3{constructor(e,s){super(0,s),this.value=e}decode(e,s){return this.value}encode(e,s,a){return 0}};Layout$4.Constant=Constant$1;Layout$4.greedy=(o,e)=>new GreedyCount$1(o,e);var offset$1=Layout$4.offset=(o,e,s)=>new OffsetLayout$2(o,e,s),u8$1=Layout$4.u8=o=>new UInt$2(1,o),u16=Layout$4.u16=o=>new UInt$2(2,o);Layout$4.u24=o=>new UInt$2(3,o);var u32$1=Layout$4.u32=o=>new UInt$2(4,o);Layout$4.u40=o=>new UInt$2(5,o);Layout$4.u48=o=>new UInt$2(6,o);var nu64$1=Layout$4.nu64=o=>new NearUInt64$2(o);Layout$4.u16be=o=>new UIntBE$2(2,o);Layout$4.u24be=o=>new UIntBE$2(3,o);Layout$4.u32be=o=>new UIntBE$2(4,o);Layout$4.u40be=o=>new UIntBE$2(5,o);Layout$4.u48be=o=>new UIntBE$2(6,o);Layout$4.nu64be=o=>new NearUInt64BE$1(o);Layout$4.s8=o=>new Int$1(1,o);Layout$4.s16=o=>new Int$1(2,o);Layout$4.s24=o=>new Int$1(3,o);Layout$4.s32=o=>new Int$1(4,o);Layout$4.s40=o=>new Int$1(5,o);Layout$4.s48=o=>new Int$1(6,o);var ns64$1=Layout$4.ns64=o=>new NearInt64$2(o);Layout$4.s16be=o=>new IntBE$1(2,o);Layout$4.s24be=o=>new IntBE$1(3,o);Layout$4.s32be=o=>new IntBE$1(4,o);Layout$4.s40be=o=>new IntBE$1(5,o);Layout$4.s48be=o=>new IntBE$1(6,o);Layout$4.ns64be=o=>new NearInt64BE$1(o);Layout$4.f32=o=>new Float$1(o);Layout$4.f32be=o=>new FloatBE$1(o);Layout$4.f64=o=>new Double$1(o);Layout$4.f64be=o=>new DoubleBE$1(o);var struct$1=Layout$4.struct=(o,e,s)=>new Structure$2(o,e,s);Layout$4.bits=(o,e,s)=>new BitStructure$1(o,e,s);var seq=Layout$4.seq=(o,e,s)=>new Sequence$1(o,e,s);Layout$4.union=(o,e,s)=>new Union$2(o,e,s);Layout$4.unionLayoutDiscriminator=(o,e)=>new UnionLayoutDiscriminator$2(o,e);var blob$1=Layout$4.blob=(o,e)=>new Blob$3(o,e);Layout$4.cstr=o=>new CString$1(o);Layout$4.utf8=(o,e)=>new UTF8$1(o,e);Layout$4.constant=(o,e)=>new Constant$1(o,e);var browser$2={};Object.defineProperty(browser$2,"__esModule",{value:!0});function toBigIntLE(o){{const e=Buffer.from(o);e.reverse();const s=e.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}var toBigIntLE_1=browser$2.toBigIntLE=toBigIntLE;function toBigIntBE(o){{const e=o.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}browser$2.toBigIntBE=toBigIntBE;function toBufferLE(o,e){{const s=o.toString(16),a=Buffer.from(s.padStart(e*2,"0").slice(0,e*2),"hex");return a.reverse(),a}}var toBufferLE_1=browser$2.toBufferLE=toBufferLE;function toBufferBE(o,e){{const s=o.toString(16);return Buffer.from(s.padStart(e*2,"0").slice(0,e*2),"hex")}}browser$2.toBufferBE=toBufferBE;let StructError$1=class extends TypeError{constructor(e,s){let a;const{message:c,explanation:d,...h}=e,{path:_}=e,b=_.length===0?c:`At path: ${_.join(".")} -- ${c}`;super(d??b),d!=null&&(this.cause=b),Object.assign(this,h),this.name=this.constructor.name,this.failures=()=>a??(a=[e,...s()])}};function isIterable$1(o){return isObject$1(o)&&typeof o[Symbol.iterator]=="function"}function isObject$1(o){return typeof o=="object"&&o!=null}function isNonArrayObject(o){return isObject$1(o)&&!Array.isArray(o)}function print$1(o){return typeof o=="symbol"?o.toString():typeof o=="string"?JSON.stringify(o):`${o}`}function shiftIterator$1(o){const{done:e,value:s}=o.next();return e?void 0:s}function toFailure$1(o,e,s,a){if(o===!0)return;o===!1?o={}:typeof o=="string"&&(o={message:o});const{path:c,branch:d}=e,{type:h}=s,{refinement:_,message:b=`Expected a value of type \`${h}\`${_?` with refinement \`${_}\``:""}, but received: \`${print$1(a)}\``}=o;return{value:a,type:h,refinement:_,key:c[c.length-1],path:c,branch:d,...o,message:b}}function*toFailures$1(o,e,s,a){isIterable$1(o)||(o=[o]);for(const c of o){const d=toFailure$1(c,e,s,a);d&&(yield d)}}function*run$1(o,e,s={}){const{path:a=[],branch:c=[o],coerce:d=!1,mask:h=!1}=s,_={path:a,branch:c,mask:h};d&&(o=e.coercer(o,_));let b="valid";for(const $ of e.validator(o,_))$.explanation=s.message,b="not_valid",yield[$,void 0];for(let[$,j,rt]of e.entries(o,_)){const it=run$1(j,rt,{path:$===void 0?a:[...a,$],branch:$===void 0?c:[...c,j],coerce:d,mask:h,message:s.message});for(const ot of it)ot[0]?(b=ot[0].refinement!=null?"not_refined":"not_valid",yield[ot[0],void 0]):d&&(j=ot[1],$===void 0?o=j:o instanceof Map?o.set($,j):o instanceof Set?o.add(j):isObject$1(o)&&(j!==void 0||$ in o)&&(o[$]=j))}if(b!=="not_valid")for(const $ of e.refiner(o,_))$.explanation=s.message,b="not_refined",yield[$,void 0];b==="valid"&&(yield[void 0,o])}let Struct$2=class{constructor(e){const{type:s,schema:a,validator:c,refiner:d,coercer:h=b=>b,entries:_=function*(){}}=e;this.type=s,this.schema=a,this.entries=_,this.coercer=h,c?this.validator=(b,$)=>{const j=c(b,$);return toFailures$1(j,$,this,b)}:this.validator=()=>[],d?this.refiner=(b,$)=>{const j=d(b,$);return toFailures$1(j,$,this,b)}:this.refiner=()=>[]}assert(e,s){return assert$3(e,this,s)}create(e,s){return create$1(e,this,s)}is(e){return is$1(e,this)}mask(e,s){return mask$1(e,this,s)}validate(e,s={}){return validate$2(e,this,s)}};function assert$3(o,e,s){const a=validate$2(o,e,{message:s});if(a[0])throw a[0]}function create$1(o,e,s){const a=validate$2(o,e,{coerce:!0,message:s});if(a[0])throw a[0];return a[1]}function mask$1(o,e,s){const a=validate$2(o,e,{coerce:!0,mask:!0,message:s});if(a[0])throw a[0];return a[1]}function is$1(o,e){return!validate$2(o,e)[0]}function validate$2(o,e,s={}){const a=run$1(o,e,s),c=shiftIterator$1(a);return c[0]?[new StructError$1(c[0],function*(){for(const h of a)h[0]&&(yield h[0])}),void 0]:[void 0,c[1]]}function define$2(o,e){return new Struct$2({type:o,schema:null,validator:e})}function any$1(){return define$2("any",()=>!0)}function array$1(o){return new Struct$2({type:"array",schema:o,*entries(e){if(o&&Array.isArray(e))for(const[s,a]of e.entries())yield[s,a,o]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${print$1(e)}`}})}function boolean$1(){return define$2("boolean",o=>typeof o=="boolean")}function instance(o){return define$2("instance",e=>e instanceof o||`Expected a \`${o.name}\` instance, but received: ${print$1(e)}`)}function literal$1(o){const e=print$1(o),s=typeof o;return new Struct$2({type:"literal",schema:s==="string"||s==="number"||s==="boolean"?o:null,validator(a){return a===o||`Expected the literal \`${e}\`, but received: ${print$1(a)}`}})}function never(){return define$2("never",()=>!1)}function nullable$1(o){return new Struct$2({...o,validator:(e,s)=>e===null||o.validator(e,s),refiner:(e,s)=>e===null||o.refiner(e,s)})}function number$1(){return define$2("number",o=>typeof o=="number"&&!isNaN(o)||`Expected a number, but received: ${print$1(o)}`)}function optional$1(o){return new Struct$2({...o,validator:(e,s)=>e===void 0||o.validator(e,s),refiner:(e,s)=>e===void 0||o.refiner(e,s)})}function record(o,e){return new Struct$2({type:"record",schema:null,*entries(s){if(isObject$1(s))for(const a in s){const c=s[a];yield[a,a,o],yield[a,c,e]}},validator(s){return isNonArrayObject(s)||`Expected an object, but received: ${print$1(s)}`},coercer(s){return isNonArrayObject(s)?{...s}:s}})}function string$1(){return define$2("string",o=>typeof o=="string"||`Expected a string, but received: ${print$1(o)}`)}function tuple(o){const e=never();return new Struct$2({type:"tuple",schema:null,*entries(s){if(Array.isArray(s)){const a=Math.max(o.length,s.length);for(let c=0;c<a;c++)yield[c,s[c],o[c]||e]}},validator(s){return Array.isArray(s)||`Expected an array, but received: ${print$1(s)}`},coercer(s){return Array.isArray(s)?s.slice():s}})}function type$2(o){const e=Object.keys(o);return new Struct$2({type:"type",schema:o,*entries(s){if(isObject$1(s))for(const a of e)yield[a,s[a],o[a]]},validator(s){return isNonArrayObject(s)||`Expected an object, but received: ${print$1(s)}`},coercer(s){return isNonArrayObject(s)?{...s}:s}})}function union$2(o){const e=o.map(s=>s.type).join(" | ");return new Struct$2({type:"union",schema:null,coercer(s,a){for(const c of o){const[d,h]=c.validate(s,{coerce:!0,mask:a.mask});if(!d)return h}return s},validator(s,a){const c=[];for(const d of o){const[...h]=run$1(s,d,a),[_]=h;if(_[0])for(const[b]of h)b&&c.push(b);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${print$1(s)}`,...c]}})}function unknown$1(){return define$2("unknown",()=>!0)}function coerce$1(o,e,s){return new Struct$2({...o,coercer:(a,c)=>is$1(a,e)?o.coercer(s(a,c),c):o.coercer(a,c)})}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(o){return typeof o=="string"&&REGEX.test(o)}var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=(byteToHex[o[e+0]]+byteToHex[o[e+1]]+byteToHex[o[e+2]]+byteToHex[o[e+3]]+"-"+byteToHex[o[e+4]]+byteToHex[o[e+5]]+"-"+byteToHex[o[e+6]]+byteToHex[o[e+7]]+"-"+byteToHex[o[e+8]]+byteToHex[o[e+9]]+"-"+byteToHex[o[e+10]]+byteToHex[o[e+11]]+byteToHex[o[e+12]]+byteToHex[o[e+13]]+byteToHex[o[e+14]]+byteToHex[o[e+15]]).toLowerCase();if(!validate$1(s))throw TypeError("Stringified UUID is invalid");return s}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(o,e,s){var a=e&&s||0,c=e||new Array(16);o=o||{};var d=o.node||_nodeId,h=o.clockseq!==void 0?o.clockseq:_clockseq;if(d==null||h==null){var _=o.random||(o.rng||rng)();d==null&&(d=_nodeId=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),h==null&&(h=_clockseq=(_[6]<<8|_[7])&16383)}var b=o.msecs!==void 0?o.msecs:Date.now(),$=o.nsecs!==void 0?o.nsecs:_lastNSecs+1,j=b-_lastMSecs+($-_lastNSecs)/1e4;if(j<0&&o.clockseq===void 0&&(h=h+1&16383),(j<0||b>_lastMSecs)&&o.nsecs===void 0&&($=0),$>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=b,_lastNSecs=$,_clockseq=h,b+=122192928e5;var rt=((b&268435455)*1e4+$)%4294967296;c[a++]=rt>>>24&255,c[a++]=rt>>>16&255,c[a++]=rt>>>8&255,c[a++]=rt&255;var it=b/4294967296*1e4&268435455;c[a++]=it>>>8&255,c[a++]=it&255,c[a++]=it>>>24&15|16,c[a++]=it>>>16&255,c[a++]=h>>>8|128,c[a++]=h&255;for(var ot=0;ot<6;++ot)c[a+ot]=d[ot];return e||stringify(c)}function parse(o){if(!validate$1(o))throw TypeError("Invalid UUID");var e,s=new Uint8Array(16);return s[0]=(e=parseInt(o.slice(0,8),16))>>>24,s[1]=e>>>16&255,s[2]=e>>>8&255,s[3]=e&255,s[4]=(e=parseInt(o.slice(9,13),16))>>>8,s[5]=e&255,s[6]=(e=parseInt(o.slice(14,18),16))>>>8,s[7]=e&255,s[8]=(e=parseInt(o.slice(19,23),16))>>>8,s[9]=e&255,s[10]=(e=parseInt(o.slice(24,36),16))/1099511627776&255,s[11]=e/4294967296&255,s[12]=e>>>24&255,s[13]=e>>>16&255,s[14]=e>>>8&255,s[15]=e&255,s}function stringToBytes(o){o=unescape(encodeURIComponent(o));for(var e=[],s=0;s<o.length;++s)e.push(o.charCodeAt(s));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(o,e,s){function a(c,d,h,_){if(typeof c=="string"&&(c=stringToBytes(c)),typeof d=="string"&&(d=parse(d)),d.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var b=new Uint8Array(16+c.length);if(b.set(d),b.set(c,d.length),b=s(b),b[6]=b[6]&15|e,b[8]=b[8]&63|128,h){_=_||0;for(var $=0;$<16;++$)h[_+$]=b[$];return h}return stringify(b)}try{a.name=o}catch{}return a.DNS=DNS,a.URL=URL$1,a}function md5(o){if(typeof o=="string"){var e=unescape(encodeURIComponent(o));o=new Uint8Array(e.length);for(var s=0;s<e.length;++s)o[s]=e.charCodeAt(s)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(o),o.length*8))}function md5ToHexEncodedArray(o){for(var e=[],s=o.length*32,a="0123456789abcdef",c=0;c<s;c+=8){var d=o[c>>5]>>>c%32&255,h=parseInt(a.charAt(d>>>4&15)+a.charAt(d&15),16);e.push(h)}return e}function getOutputLength(o){return(o+64>>>9<<4)+14+1}function wordsToMd5(o,e){o[e>>5]|=128<<e%32,o[getOutputLength(e)-1]=e;for(var s=1732584193,a=-271733879,c=-1732584194,d=271733878,h=0;h<o.length;h+=16){var _=s,b=a,$=c,j=d;s=md5ff(s,a,c,d,o[h],7,-680876936),d=md5ff(d,s,a,c,o[h+1],12,-389564586),c=md5ff(c,d,s,a,o[h+2],17,606105819),a=md5ff(a,c,d,s,o[h+3],22,-1044525330),s=md5ff(s,a,c,d,o[h+4],7,-176418897),d=md5ff(d,s,a,c,o[h+5],12,1200080426),c=md5ff(c,d,s,a,o[h+6],17,-1473231341),a=md5ff(a,c,d,s,o[h+7],22,-45705983),s=md5ff(s,a,c,d,o[h+8],7,1770035416),d=md5ff(d,s,a,c,o[h+9],12,-1958414417),c=md5ff(c,d,s,a,o[h+10],17,-42063),a=md5ff(a,c,d,s,o[h+11],22,-1990404162),s=md5ff(s,a,c,d,o[h+12],7,1804603682),d=md5ff(d,s,a,c,o[h+13],12,-40341101),c=md5ff(c,d,s,a,o[h+14],17,-1502002290),a=md5ff(a,c,d,s,o[h+15],22,1236535329),s=md5gg(s,a,c,d,o[h+1],5,-165796510),d=md5gg(d,s,a,c,o[h+6],9,-1069501632),c=md5gg(c,d,s,a,o[h+11],14,643717713),a=md5gg(a,c,d,s,o[h],20,-373897302),s=md5gg(s,a,c,d,o[h+5],5,-701558691),d=md5gg(d,s,a,c,o[h+10],9,38016083),c=md5gg(c,d,s,a,o[h+15],14,-660478335),a=md5gg(a,c,d,s,o[h+4],20,-405537848),s=md5gg(s,a,c,d,o[h+9],5,568446438),d=md5gg(d,s,a,c,o[h+14],9,-1019803690),c=md5gg(c,d,s,a,o[h+3],14,-187363961),a=md5gg(a,c,d,s,o[h+8],20,1163531501),s=md5gg(s,a,c,d,o[h+13],5,-1444681467),d=md5gg(d,s,a,c,o[h+2],9,-51403784),c=md5gg(c,d,s,a,o[h+7],14,1735328473),a=md5gg(a,c,d,s,o[h+12],20,-1926607734),s=md5hh(s,a,c,d,o[h+5],4,-378558),d=md5hh(d,s,a,c,o[h+8],11,-2022574463),c=md5hh(c,d,s,a,o[h+11],16,1839030562),a=md5hh(a,c,d,s,o[h+14],23,-35309556),s=md5hh(s,a,c,d,o[h+1],4,-1530992060),d=md5hh(d,s,a,c,o[h+4],11,1272893353),c=md5hh(c,d,s,a,o[h+7],16,-155497632),a=md5hh(a,c,d,s,o[h+10],23,-1094730640),s=md5hh(s,a,c,d,o[h+13],4,681279174),d=md5hh(d,s,a,c,o[h],11,-358537222),c=md5hh(c,d,s,a,o[h+3],16,-722521979),a=md5hh(a,c,d,s,o[h+6],23,76029189),s=md5hh(s,a,c,d,o[h+9],4,-640364487),d=md5hh(d,s,a,c,o[h+12],11,-421815835),c=md5hh(c,d,s,a,o[h+15],16,530742520),a=md5hh(a,c,d,s,o[h+2],23,-995338651),s=md5ii(s,a,c,d,o[h],6,-198630844),d=md5ii(d,s,a,c,o[h+7],10,1126891415),c=md5ii(c,d,s,a,o[h+14],15,-1416354905),a=md5ii(a,c,d,s,o[h+5],21,-57434055),s=md5ii(s,a,c,d,o[h+12],6,1700485571),d=md5ii(d,s,a,c,o[h+3],10,-1894986606),c=md5ii(c,d,s,a,o[h+10],15,-1051523),a=md5ii(a,c,d,s,o[h+1],21,-2054922799),s=md5ii(s,a,c,d,o[h+8],6,1873313359),d=md5ii(d,s,a,c,o[h+15],10,-30611744),c=md5ii(c,d,s,a,o[h+6],15,-1560198380),a=md5ii(a,c,d,s,o[h+13],21,1309151649),s=md5ii(s,a,c,d,o[h+4],6,-145523070),d=md5ii(d,s,a,c,o[h+11],10,-1120210379),c=md5ii(c,d,s,a,o[h+2],15,718787259),a=md5ii(a,c,d,s,o[h+9],21,-343485551),s=safeAdd(s,_),a=safeAdd(a,b),c=safeAdd(c,$),d=safeAdd(d,j)}return[s,a,c,d]}function bytesToWords(o){if(o.length===0)return[];for(var e=o.length*8,s=new Uint32Array(getOutputLength(e)),a=0;a<e;a+=8)s[a>>5]|=(o[a/8]&255)<<a%32;return s}function safeAdd(o,e){var s=(o&65535)+(e&65535),a=(o>>16)+(e>>16)+(s>>16);return a<<16|s&65535}function bitRotateLeft(o,e){return o<<e|o>>>32-e}function md5cmn(o,e,s,a,c,d){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,o),safeAdd(a,d)),c),s)}function md5ff(o,e,s,a,c,d,h){return md5cmn(e&s|~e&a,o,e,c,d,h)}function md5gg(o,e,s,a,c,d,h){return md5cmn(e&a|s&~a,o,e,c,d,h)}function md5hh(o,e,s,a,c,d,h){return md5cmn(e^s^a,o,e,c,d,h)}function md5ii(o,e,s,a,c,d,h){return md5cmn(s^(e|~a),o,e,c,d,h)}var v3=v35("v3",48,md5);function v4(o,e,s){o=o||{};var a=o.random||(o.rng||rng)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){s=s||0;for(var c=0;c<16;++c)e[s+c]=a[c];return e}return stringify(a)}function f(o,e,s,a){switch(o){case 0:return e&s^~e&a;case 1:return e^s^a;case 2:return e&s^e&a^s&a;case 3:return e^s^a}}function ROTL(o,e){return o<<e|o>>>32-e}function sha1(o){var e=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){var a=unescape(encodeURIComponent(o));o=[];for(var c=0;c<a.length;++c)o.push(a.charCodeAt(c))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);for(var d=o.length/4+2,h=Math.ceil(d/16),_=new Array(h),b=0;b<h;++b){for(var $=new Uint32Array(16),j=0;j<16;++j)$[j]=o[b*64+j*4]<<24|o[b*64+j*4+1]<<16|o[b*64+j*4+2]<<8|o[b*64+j*4+3];_[b]=$}_[h-1][14]=(o.length-1)*8/Math.pow(2,32),_[h-1][14]=Math.floor(_[h-1][14]),_[h-1][15]=(o.length-1)*8&4294967295;for(var rt=0;rt<h;++rt){for(var it=new Uint32Array(80),ot=0;ot<16;++ot)it[ot]=_[rt][ot];for(var ht=16;ht<80;++ht)it[ht]=ROTL(it[ht-3]^it[ht-8]^it[ht-14]^it[ht-16],1);for(var bt=s[0],pt=s[1],dt=s[2],lt=s[3],at=s[4],xt=0;xt<80;++xt){var Rt=Math.floor(xt/20),Tt=ROTL(bt,5)+f(Rt,pt,dt,lt)+at+e[Rt]+it[xt]>>>0;at=lt,lt=dt,dt=ROTL(pt,30)>>>0,pt=bt,bt=Tt}s[0]=s[0]+bt>>>0,s[1]=s[1]+pt>>>0,s[2]=s[2]+dt>>>0,s[3]=s[3]+lt>>>0,s[4]=s[4]+at>>>0}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,s[0]&255,s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,s[1]&255,s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,s[2]&255,s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,s[3]&255,s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,s[4]&255]}var v5=v35("v5",80,sha1);const nil="00000000-0000-0000-0000-000000000000";function version$1(o){if(!validate$1(o))throw TypeError("Invalid UUID");return parseInt(o.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,NIL:nil,parse,stringify,v1,v3,v4,v5,validate:validate$1,version:version$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(esmBrowser),uuid$1=require$$0.v4,generateRequest$1=function(o,e,s,a){if(typeof o!="string")throw new TypeError(o+" must be a string");a=a||{};const c=typeof a.version=="number"?a.version:2;if(c!==1&&c!==2)throw new TypeError(c+" must be 1 or 2");const d={method:o};if(c===2&&(d.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");d.params=e}if(typeof s>"u"){const h=typeof a.generator=="function"?a.generator:function(){return uuid$1()};d.id=h(d,a)}else c===2&&s===null?a.notificationIdNull&&(d.id=null):d.id=s;return d};var generateRequest_1=generateRequest$1;const uuid=require$$0.v4,generateRequest=generateRequest_1,ClientBrowser=function(o,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(o,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=o};var browser$1=ClientBrowser;ClientBrowser.prototype.request=function(o,e,s,a){const c=this;let d=null;const h=Array.isArray(o)&&typeof e=="function";if(this.options.version===1&&h)throw new TypeError("JSON-RPC 1.0 does not support batching");if(h||!h&&o&&typeof o=="object"&&typeof e=="function")a=e,d=o;else{typeof s=="function"&&(a=s,s=void 0);const $=typeof a=="function";try{d=generateRequest(o,e,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(j){if($)return a(j);throw j}if(!$)return d}let b;try{b=JSON.stringify(d,this.options.replacer)}catch($){return a($)}return this.callServer(b,function($,j){c._parseResponse($,j,a)}),d};ClientBrowser.prototype._parseResponse=function(o,e,s){if(o){s(o);return}if(!e)return s();let a;try{a=JSON.parse(e,this.options.reviver)}catch(c){return s(c)}if(s.length===3)if(Array.isArray(a)){const c=function(h){return typeof h.error<"u"},d=function(h){return!c(h)};return s(null,a.filter(c),a.filter(d))}else return s(null,a.error,a.result);s(null,a)};const RpcClient=getDefaultExportFromCjs$2(browser$1);var eventemitter3$1={exports:{}};(function(o){var e=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function c(b,$,j){this.fn=b,this.context=$,this.once=j||!1}function d(b,$,j,rt,it){if(typeof j!="function")throw new TypeError("The listener must be a function");var ot=new c(j,rt||b,it),ht=s?s+$:$;return b._events[ht]?b._events[ht].fn?b._events[ht]=[b._events[ht],ot]:b._events[ht].push(ot):(b._events[ht]=ot,b._eventsCount++),b}function h(b,$){--b._eventsCount===0?b._events=new a:delete b._events[$]}function _(){this._events=new a,this._eventsCount=0}_.prototype.eventNames=function(){var $=[],j,rt;if(this._eventsCount===0)return $;for(rt in j=this._events)e.call(j,rt)&&$.push(s?rt.slice(1):rt);return Object.getOwnPropertySymbols?$.concat(Object.getOwnPropertySymbols(j)):$},_.prototype.listeners=function($){var j=s?s+$:$,rt=this._events[j];if(!rt)return[];if(rt.fn)return[rt.fn];for(var it=0,ot=rt.length,ht=new Array(ot);it<ot;it++)ht[it]=rt[it].fn;return ht},_.prototype.listenerCount=function($){var j=s?s+$:$,rt=this._events[j];return rt?rt.fn?1:rt.length:0},_.prototype.emit=function($,j,rt,it,ot,ht){var bt=s?s+$:$;if(!this._events[bt])return!1;var pt=this._events[bt],dt=arguments.length,lt,at;if(pt.fn){switch(pt.once&&this.removeListener($,pt.fn,void 0,!0),dt){case 1:return pt.fn.call(pt.context),!0;case 2:return pt.fn.call(pt.context,j),!0;case 3:return pt.fn.call(pt.context,j,rt),!0;case 4:return pt.fn.call(pt.context,j,rt,it),!0;case 5:return pt.fn.call(pt.context,j,rt,it,ot),!0;case 6:return pt.fn.call(pt.context,j,rt,it,ot,ht),!0}for(at=1,lt=new Array(dt-1);at<dt;at++)lt[at-1]=arguments[at];pt.fn.apply(pt.context,lt)}else{var xt=pt.length,Rt;for(at=0;at<xt;at++)switch(pt[at].once&&this.removeListener($,pt[at].fn,void 0,!0),dt){case 1:pt[at].fn.call(pt[at].context);break;case 2:pt[at].fn.call(pt[at].context,j);break;case 3:pt[at].fn.call(pt[at].context,j,rt);break;case 4:pt[at].fn.call(pt[at].context,j,rt,it);break;default:if(!lt)for(Rt=1,lt=new Array(dt-1);Rt<dt;Rt++)lt[Rt-1]=arguments[Rt];pt[at].fn.apply(pt[at].context,lt)}}return!0},_.prototype.on=function($,j,rt){return d(this,$,j,rt,!1)},_.prototype.once=function($,j,rt){return d(this,$,j,rt,!0)},_.prototype.removeListener=function($,j,rt,it){var ot=s?s+$:$;if(!this._events[ot])return this;if(!j)return h(this,ot),this;var ht=this._events[ot];if(ht.fn)ht.fn===j&&(!it||ht.once)&&(!rt||ht.context===rt)&&h(this,ot);else{for(var bt=0,pt=[],dt=ht.length;bt<dt;bt++)(ht[bt].fn!==j||it&&!ht[bt].once||rt&&ht[bt].context!==rt)&&pt.push(ht[bt]);pt.length?this._events[ot]=pt.length===1?pt[0]:pt:h(this,ot)}return this},_.prototype.removeAllListeners=function($){var j;return $?(j=s?s+$:$,this._events[j]&&h(this,j)):(this._events=new a,this._eventsCount=0),this},_.prototype.off=_.prototype.removeListener,_.prototype.addListener=_.prototype.on,_.prefixed=s,_.EventEmitter=_,o.exports=_})(eventemitter3$1);var eventemitter3Exports$1=eventemitter3$1.exports;const EventEmitter$1=getDefaultExportFromCjs$2(eventemitter3Exports$1);var WebSocketBrowserImpl=class extends EventEmitter$1{constructor(e,s,a){super();In(this,"socket");this.socket=new window.WebSocket(e,a),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=c=>this.emit("message",c.data),this.socket.onerror=c=>this.emit("error",c),this.socket.onclose=c=>{this.emit("close",c.code,c.reason)}}send(e,s,a){const c=a||s;try{this.socket.send(e),c()}catch(d){c(d)}}close(e,s){this.socket.close(e,s)}addEventListener(e,s,a){this.socket.addEventListener(e,s,a)}};function WebSocket(o,e){return new WebSocketBrowserImpl(o,e)}var DefaultDataPack=class{encode(o){return JSON.stringify(o)}decode(o){return JSON.parse(o)}},CommonClient=class extends EventEmitter$1{constructor(e,s="ws://localhost:8080",{autoconnect:a=!0,reconnect:c=!0,reconnect_interval:d=1e3,max_reconnects:h=5,..._}={},b,$){super();In(this,"address");In(this,"rpc_id");In(this,"queue");In(this,"options");In(this,"autoconnect");In(this,"ready");In(this,"reconnect");In(this,"reconnect_timer_id");In(this,"reconnect_interval");In(this,"max_reconnects");In(this,"rest_options");In(this,"current_reconnects");In(this,"generate_request_id");In(this,"socket");In(this,"webSocketFactory");In(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=s,this.autoconnect=a,this.ready=!1,this.reconnect=c,this.reconnect_timer_id=void 0,this.reconnect_interval=d,this.max_reconnects=h,this.rest_options=_,this.current_reconnects=0,this.generate_request_id=b||(()=>++this.rpc_id),$?this.dataPack=$:this.dataPack=new DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,s,a,c){return!c&&typeof a=="object"&&(c=a,a=null),new Promise((d,h)=>{if(!this.ready)return h(new Error("socket not ready"));const _=this.generate_request_id(e,s),b={jsonrpc:"2.0",method:e,params:s||void 0,id:_};this.socket.send(this.dataPack.encode(b),c,$=>{if($)return h($);this.queue[_]={promise:[d,h]},a&&(this.queue[_].timeout=setTimeout(()=>{delete this.queue[_],h(new Error("reply timeout"))},a))})})}async login(e){const s=await this.call("rpc.login",e);if(!s)throw new Error("authentication failed");return s}async listMethods(){return await this.call("__listMethods")}notify(e,s){return new Promise((a,c)=>{if(!this.ready)return c(new Error("socket not ready"));const d={jsonrpc:"2.0",method:e,params:s};this.socket.send(this.dataPack.encode(d),h=>{if(h)return c(h);a()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const s=await this.call("rpc.on",e);if(typeof e=="string"&&s[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+s[e]);return s}async unsubscribe(e){typeof e=="string"&&(e=[e]);const s=await this.call("rpc.off",e);if(typeof e=="string"&&s[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+s);return s}close(e,s){this.socket.close(e||1e3,s)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,s){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,s),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:a})=>{a instanceof ArrayBuffer&&(a=Buffer$1.from(a).toString());try{a=this.dataPack.decode(a)}catch{return}if(a.notification&&this.listeners(a.notification).length){if(!Object.keys(a.params).length)return this.emit(a.notification);const c=[a.notification];if(a.params.constructor===Object)c.push(a.params);else for(let d=0;d<a.params.length;d++)c.push(a.params[d]);return Promise.resolve().then(()=>{this.emit.apply(this,c)})}if(!this.queue[a.id])return a.method?Promise.resolve().then(()=>{this.emit(a.method,a==null?void 0:a.params)}):void 0;"error"in a=="result"in a&&this.queue[a.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[a.id].timeout&&clearTimeout(this.queue[a.id].timeout),a.error?this.queue[a.id].promise[1](a.error):this.queue[a.id].promise[0](a.result),delete this.queue[a.id]}),this.socket.addEventListener("error",a=>this.emit("error",a)),this.socket.addEventListener("close",({code:a,reason:c})=>{this.ready&&setTimeout(()=>this.emit("close",a,c),0),this.ready=!1,this.socket=void 0,a!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,s),this.reconnect_interval)))})}};const SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n$1=BigInt(0),_1n$2=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let o=0,e=_1n$2,s=1,a=0;o<24;o++){[s,a]=[a,(2*s+3*a)%5],SHA3_PI.push(2*(5*a+s)),SHA3_ROTL.push((o+1)*(o+2)/2%64);let c=_0n$1;for(let d=0;d<7;d++)e=(e<<_1n$2^(e>>_7n)*_0x71n)%_256n,e&_2n$1&&(c^=_1n$2<<(_1n$2<<BigInt(d))-_1n$2);_SHA3_IOTA.push(c)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(o,e,s)=>s>32?rotlBH(o,e,s):rotlSH(o,e,s),rotlL=(o,e,s)=>s>32?rotlBL(o,e,s):rotlSL(o,e,s);function keccakP(o,e=24){const s=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let h=0;h<10;h++)s[h]=o[h]^o[h+10]^o[h+20]^o[h+30]^o[h+40];for(let h=0;h<10;h+=2){const _=(h+8)%10,b=(h+2)%10,$=s[b],j=s[b+1],rt=rotlH($,j,1)^s[_],it=rotlL($,j,1)^s[_+1];for(let ot=0;ot<50;ot+=10)o[h+ot]^=rt,o[h+ot+1]^=it}let c=o[2],d=o[3];for(let h=0;h<24;h++){const _=SHA3_ROTL[h],b=rotlH(c,d,_),$=rotlL(c,d,_),j=SHA3_PI[h];c=o[j],d=o[j+1],o[j]=b,o[j+1]=$}for(let h=0;h<50;h+=10){for(let _=0;_<10;_++)s[_]=o[h+_];for(let _=0;_<10;_++)o[h+_]^=~s[(_+2)%10]&s[(_+4)%10]}o[0]^=SHA3_IOTA_H[a],o[1]^=SHA3_IOTA_L[a]}s.fill(0)}class Keccak extends Hash{constructor(e,s,a,c=!1,d=24){if(super(),this.blockLen=e,this.suffix=s,this.outputLen=a,this.enableXOF=c,this.rounds=d,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$2(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(e){exists(this);const{blockLen:s,state:a}=this;e=toBytes(e);const c=e.length;for(let d=0;d<c;){const h=Math.min(s-this.pos,c-d);for(let _=0;_<h;_++)a[this.pos++]^=e[d++];this.pos===s&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:s,pos:a,blockLen:c}=this;e[a]^=s,s&128&&a===c-1&&this.keccak(),e[c-1]^=128,this.keccak()}writeInto(e){exists(this,!1),bytes(e),this.finish();const s=this.state,{blockLen:a}=this;for(let c=0,d=e.length;c<d;){this.posOut>=a&&this.keccak();const h=Math.min(a-this.posOut,d-c);e.set(s.subarray(this.posOut,this.posOut+h),c),this.posOut+=h,c+=h}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number$2(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:s,suffix:a,outputLen:c,rounds:d,enableXOF:h}=this;return e||(e=new Keccak(s,a,c,h,d)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=d,e.suffix=a,e.outputLen=c,e.enableXOF=h,e.destroyed=this.destroyed,e}}const gen=(o,e,s)=>wrapConstructor(()=>new Keccak(e,o,s)),keccak_256=gen(1,136,256/8);class HMAC extends Hash{constructor(e,s){super(),this.finished=!1,this.destroyed=!1,hash(e);const a=toBytes(s);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,d=new Uint8Array(c);d.set(a.length>c?e.create().update(a).digest():a);for(let h=0;h<d.length;h++)d[h]^=54;this.iHash.update(d),this.oHash=e.create();for(let h=0;h<d.length;h++)d[h]^=106;this.oHash.update(d),d.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:a,finished:c,destroyed:d,blockLen:h,outputLen:_}=this;return e=e,e.finished=c,e.destroyed=d,e.blockLen=h,e.outputLen=_,e.oHash=s._cloneInto(e.oHash),e.iHash=a._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(o,e,s)=>new HMAC(o,e).update(s).digest();hmac.create=(o,e)=>new HMAC(o,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(o){o.lowS!==void 0&&abool("lowS",o.lowS),o.prehash!==void 0&&abool("prehash",o.prehash)}function validatePointOpts(o){const e=validateBasic(o);validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:s,Fp:a,a:c}=e;if(s){if(!a.eql(c,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof s!="object"||typeof s.beta!="bigint"||typeof s.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(o,e)=>{const{Err:s}=DER;if(o<0||o>256)throw new s("tlv.encode: wrong tag");if(e.length&1)throw new s("tlv.encode: unpadded data");const a=e.length/2,c=numberToHexUnpadded(a);if(c.length/2&128)throw new s("tlv.encode: long form length too big");const d=a>127?numberToHexUnpadded(c.length/2|128):"";return`${numberToHexUnpadded(o)}${d}${c}${e}`},decode(o,e){const{Err:s}=DER;let a=0;if(o<0||o>256)throw new s("tlv.encode: wrong tag");if(e.length<2||e[a++]!==o)throw new s("tlv.decode: wrong tlv");const c=e[a++],d=!!(c&128);let h=0;if(!d)h=c;else{const b=c&127;if(!b)throw new s("tlv.decode(long): indefinite length not supported");if(b>4)throw new s("tlv.decode(long): byte length is too big");const $=e.subarray(a,a+b);if($.length!==b)throw new s("tlv.decode: length bytes not complete");if($[0]===0)throw new s("tlv.decode(long): zero leftmost byte");for(const j of $)h=h<<8|j;if(a+=b,h<128)throw new s("tlv.decode(long): not minimal encoding")}const _=e.subarray(a,a+h);if(_.length!==h)throw new s("tlv.decode: wrong value length");return{v:_,l:e.subarray(a+h)}}},_int:{encode(o){const{Err:e}=DER;if(o<_0n)throw new e("integer: negative integers are not allowed");let s=numberToHexUnpadded(o);if(Number.parseInt(s[0],16)&8&&(s="00"+s),s.length&1)throw new e("unexpected assertion");return s},decode(o){const{Err:e}=DER;if(o[0]&128)throw new e("Invalid signature integer: negative");if(o[0]===0&&!(o[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return b2n(o)}},toSig(o){const{Err:e,_int:s,_tlv:a}=DER,c=typeof o=="string"?h2b(o):o;abytes(c);const{v:d,l:h}=a.decode(48,c);if(h.length)throw new e("Invalid signature: left bytes after parsing");const{v:_,l:b}=a.decode(2,d),{v:$,l:j}=a.decode(2,b);if(j.length)throw new e("Invalid signature: left bytes after parsing");return{r:s.decode(_),s:s.decode($)}},hexFromSig(o){const{_tlv:e,_int:s}=DER,a=`${e.encode(2,s.encode(o.r))}${e.encode(2,s.encode(o.s))}`;return e.encode(48,a)}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(o){const e=validatePointOpts(o),{Fp:s}=e,a=Field(e.n,e.nBitLength),c=e.toBytes||((bt,pt,dt)=>{const lt=pt.toAffine();return concatBytes(Uint8Array.from([4]),s.toBytes(lt.x),s.toBytes(lt.y))}),d=e.fromBytes||(bt=>{const pt=bt.subarray(1),dt=s.fromBytes(pt.subarray(0,s.BYTES)),lt=s.fromBytes(pt.subarray(s.BYTES,2*s.BYTES));return{x:dt,y:lt}});function h(bt){const{a:pt,b:dt}=e,lt=s.sqr(bt),at=s.mul(lt,bt);return s.add(s.add(at,s.mul(bt,pt)),dt)}if(!s.eql(s.sqr(e.Gy),h(e.Gx)))throw new Error("bad generator point: equation left != right");function _(bt){return inRange$1(bt,_1n$1,e.n)}function b(bt){const{allowedPrivateKeyLengths:pt,nByteLength:dt,wrapPrivateKey:lt,n:at}=e;if(pt&&typeof bt!="bigint"){if(isBytes(bt)&&(bt=bytesToHex(bt)),typeof bt!="string"||!pt.includes(bt.length))throw new Error("Invalid key");bt=bt.padStart(dt*2,"0")}let xt;try{xt=typeof bt=="bigint"?bt:bytesToNumberBE(ensureBytes("private key",bt,dt))}catch{throw new Error(`private key must be ${dt} bytes, hex or bigint, not ${typeof bt}`)}return lt&&(xt=mod(xt,at)),aInRange("private key",xt,_1n$1,at),xt}function $(bt){if(!(bt instanceof it))throw new Error("ProjectivePoint expected")}const j=memoized((bt,pt)=>{const{px:dt,py:lt,pz:at}=bt;if(s.eql(at,s.ONE))return{x:dt,y:lt};const xt=bt.is0();pt==null&&(pt=xt?s.ONE:s.inv(at));const Rt=s.mul(dt,pt),Tt=s.mul(lt,pt),It=s.mul(at,pt);if(xt)return{x:s.ZERO,y:s.ZERO};if(!s.eql(It,s.ONE))throw new Error("invZ was invalid");return{x:Rt,y:Tt}}),rt=memoized(bt=>{if(bt.is0()){if(e.allowInfinityPoint&&!s.is0(bt.py))return;throw new Error("bad point: ZERO")}const{x:pt,y:dt}=bt.toAffine();if(!s.isValid(pt)||!s.isValid(dt))throw new Error("bad point: x or y not FE");const lt=s.sqr(dt),at=h(pt);if(!s.eql(lt,at))throw new Error("bad point: equation left != right");if(!bt.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class it{constructor(pt,dt,lt){if(this.px=pt,this.py=dt,this.pz=lt,pt==null||!s.isValid(pt))throw new Error("x required");if(dt==null||!s.isValid(dt))throw new Error("y required");if(lt==null||!s.isValid(lt))throw new Error("z required");Object.freeze(this)}static fromAffine(pt){const{x:dt,y:lt}=pt||{};if(!pt||!s.isValid(dt)||!s.isValid(lt))throw new Error("invalid affine point");if(pt instanceof it)throw new Error("projective point not allowed");const at=xt=>s.eql(xt,s.ZERO);return at(dt)&&at(lt)?it.ZERO:new it(dt,lt,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(pt){const dt=s.invertBatch(pt.map(lt=>lt.pz));return pt.map((lt,at)=>lt.toAffine(dt[at])).map(it.fromAffine)}static fromHex(pt){const dt=it.fromAffine(d(ensureBytes("pointHex",pt)));return dt.assertValidity(),dt}static fromPrivateKey(pt){return it.BASE.multiply(b(pt))}static msm(pt,dt){return pippenger(it,a,pt,dt)}_setWindowSize(pt){ht.setWindowSize(this,pt)}assertValidity(){rt(this)}hasEvenY(){const{y:pt}=this.toAffine();if(s.isOdd)return!s.isOdd(pt);throw new Error("Field doesn't support isOdd")}equals(pt){$(pt);const{px:dt,py:lt,pz:at}=this,{px:xt,py:Rt,pz:Tt}=pt,It=s.eql(s.mul(dt,Tt),s.mul(xt,at)),Bt=s.eql(s.mul(lt,Tt),s.mul(Rt,at));return It&&Bt}negate(){return new it(this.px,s.neg(this.py),this.pz)}double(){const{a:pt,b:dt}=e,lt=s.mul(dt,_3n),{px:at,py:xt,pz:Rt}=this;let Tt=s.ZERO,It=s.ZERO,Bt=s.ZERO,Pt=s.mul(at,at),zt=s.mul(xt,xt),Ht=s.mul(Rt,Rt),Ut=s.mul(at,xt);return Ut=s.add(Ut,Ut),Bt=s.mul(at,Rt),Bt=s.add(Bt,Bt),Tt=s.mul(pt,Bt),It=s.mul(lt,Ht),It=s.add(Tt,It),Tt=s.sub(zt,It),It=s.add(zt,It),It=s.mul(Tt,It),Tt=s.mul(Ut,Tt),Bt=s.mul(lt,Bt),Ht=s.mul(pt,Ht),Ut=s.sub(Pt,Ht),Ut=s.mul(pt,Ut),Ut=s.add(Ut,Bt),Bt=s.add(Pt,Pt),Pt=s.add(Bt,Pt),Pt=s.add(Pt,Ht),Pt=s.mul(Pt,Ut),It=s.add(It,Pt),Ht=s.mul(xt,Rt),Ht=s.add(Ht,Ht),Pt=s.mul(Ht,Ut),Tt=s.sub(Tt,Pt),Bt=s.mul(Ht,zt),Bt=s.add(Bt,Bt),Bt=s.add(Bt,Bt),new it(Tt,It,Bt)}add(pt){$(pt);const{px:dt,py:lt,pz:at}=this,{px:xt,py:Rt,pz:Tt}=pt;let It=s.ZERO,Bt=s.ZERO,Pt=s.ZERO;const zt=e.a,Ht=s.mul(e.b,_3n);let Ut=s.mul(dt,xt),Et=s.mul(lt,Rt),_e=s.mul(at,Tt),tt=s.add(dt,lt),ct=s.add(xt,Rt);tt=s.mul(tt,ct),ct=s.add(Ut,Et),tt=s.sub(tt,ct),ct=s.add(dt,at);let mt=s.add(xt,Tt);return ct=s.mul(ct,mt),mt=s.add(Ut,_e),ct=s.sub(ct,mt),mt=s.add(lt,at),It=s.add(Rt,Tt),mt=s.mul(mt,It),It=s.add(Et,_e),mt=s.sub(mt,It),Pt=s.mul(zt,ct),It=s.mul(Ht,_e),Pt=s.add(It,Pt),It=s.sub(Et,Pt),Pt=s.add(Et,Pt),Bt=s.mul(It,Pt),Et=s.add(Ut,Ut),Et=s.add(Et,Ut),_e=s.mul(zt,_e),ct=s.mul(Ht,ct),Et=s.add(Et,_e),_e=s.sub(Ut,_e),_e=s.mul(zt,_e),ct=s.add(ct,_e),Ut=s.mul(Et,ct),Bt=s.add(Bt,Ut),Ut=s.mul(mt,ct),It=s.mul(tt,It),It=s.sub(It,Ut),Ut=s.mul(tt,Et),Pt=s.mul(mt,Pt),Pt=s.add(Pt,Ut),new it(It,Bt,Pt)}subtract(pt){return this.add(pt.negate())}is0(){return this.equals(it.ZERO)}wNAF(pt){return ht.wNAFCached(this,pt,it.normalizeZ)}multiplyUnsafe(pt){aInRange("scalar",pt,_0n,e.n);const dt=it.ZERO;if(pt===_0n)return dt;if(pt===_1n$1)return this;const{endo:lt}=e;if(!lt)return ht.unsafeLadder(this,pt);let{k1neg:at,k1:xt,k2neg:Rt,k2:Tt}=lt.splitScalar(pt),It=dt,Bt=dt,Pt=this;for(;xt>_0n||Tt>_0n;)xt&_1n$1&&(It=It.add(Pt)),Tt&_1n$1&&(Bt=Bt.add(Pt)),Pt=Pt.double(),xt>>=_1n$1,Tt>>=_1n$1;return at&&(It=It.negate()),Rt&&(Bt=Bt.negate()),Bt=new it(s.mul(Bt.px,lt.beta),Bt.py,Bt.pz),It.add(Bt)}multiply(pt){const{endo:dt,n:lt}=e;aInRange("scalar",pt,_1n$1,lt);let at,xt;if(dt){const{k1neg:Rt,k1:Tt,k2neg:It,k2:Bt}=dt.splitScalar(pt);let{p:Pt,f:zt}=this.wNAF(Tt),{p:Ht,f:Ut}=this.wNAF(Bt);Pt=ht.constTimeNegate(Rt,Pt),Ht=ht.constTimeNegate(It,Ht),Ht=new it(s.mul(Ht.px,dt.beta),Ht.py,Ht.pz),at=Pt.add(Ht),xt=zt.add(Ut)}else{const{p:Rt,f:Tt}=this.wNAF(pt);at=Rt,xt=Tt}return it.normalizeZ([at,xt])[0]}multiplyAndAddUnsafe(pt,dt,lt){const at=it.BASE,xt=(Tt,It)=>It===_0n||It===_1n$1||!Tt.equals(at)?Tt.multiplyUnsafe(It):Tt.multiply(It),Rt=xt(this,dt).add(xt(pt,lt));return Rt.is0()?void 0:Rt}toAffine(pt){return j(this,pt)}isTorsionFree(){const{h:pt,isTorsionFree:dt}=e;if(pt===_1n$1)return!0;if(dt)return dt(it,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:pt,clearCofactor:dt}=e;return pt===_1n$1?this:dt?dt(it,this):this.multiplyUnsafe(e.h)}toRawBytes(pt=!0){return abool("isCompressed",pt),this.assertValidity(),c(it,this,pt)}toHex(pt=!0){return abool("isCompressed",pt),bytesToHex(this.toRawBytes(pt))}}it.BASE=new it(e.Gx,e.Gy,s.ONE),it.ZERO=new it(s.ZERO,s.ONE,s.ZERO);const ot=e.nBitLength,ht=wNAF(it,e.endo?Math.ceil(ot/2):ot);return{CURVE:e,ProjectivePoint:it,normPrivateKeyToScalar:b,weierstrassEquation:h,isWithinCurveOrder:_}}function validateOpts(o){const e=validateBasic(o);return validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass(o){const e=validateOpts(o),{Fp:s,n:a}=e,c=s.BYTES+1,d=2*s.BYTES+1;function h(_e){return mod(_e,a)}function _(_e){return invert(_e,a)}const{ProjectivePoint:b,normPrivateKeyToScalar:$,weierstrassEquation:j,isWithinCurveOrder:rt}=weierstrassPoints({...e,toBytes(_e,tt,ct){const mt=tt.toAffine(),yt=s.toBytes(mt.x),gt=concatBytes;return abool("isCompressed",ct),ct?gt(Uint8Array.from([tt.hasEvenY()?2:3]),yt):gt(Uint8Array.from([4]),yt,s.toBytes(mt.y))},fromBytes(_e){const tt=_e.length,ct=_e[0],mt=_e.subarray(1);if(tt===c&&(ct===2||ct===3)){const yt=bytesToNumberBE(mt);if(!inRange$1(yt,_1n$1,s.ORDER))throw new Error("Point is not on curve");const gt=j(yt);let St;try{St=s.sqrt(gt)}catch(ft){const vt=ft instanceof Error?": "+ft.message:"";throw new Error("Point is not on curve"+vt)}const _t=(St&_1n$1)===_1n$1;return(ct&1)===1!==_t&&(St=s.neg(St)),{x:yt,y:St}}else if(tt===d&&ct===4){const yt=s.fromBytes(mt.subarray(0,s.BYTES)),gt=s.fromBytes(mt.subarray(s.BYTES,2*s.BYTES));return{x:yt,y:gt}}else throw new Error(`Point of length ${tt} was invalid. Expected ${c} compressed bytes or ${d} uncompressed bytes`)}}),it=_e=>bytesToHex(numberToBytesBE(_e,e.nByteLength));function ot(_e){const tt=a>>_1n$1;return _e>tt}function ht(_e){return ot(_e)?h(-_e):_e}const bt=(_e,tt,ct)=>bytesToNumberBE(_e.slice(tt,ct));class pt{constructor(tt,ct,mt){this.r=tt,this.s=ct,this.recovery=mt,this.assertValidity()}static fromCompact(tt){const ct=e.nByteLength;return tt=ensureBytes("compactSignature",tt,ct*2),new pt(bt(tt,0,ct),bt(tt,ct,2*ct))}static fromDER(tt){const{r:ct,s:mt}=DER.toSig(ensureBytes("DER",tt));return new pt(ct,mt)}assertValidity(){aInRange("r",this.r,_1n$1,a),aInRange("s",this.s,_1n$1,a)}addRecoveryBit(tt){return new pt(this.r,this.s,tt)}recoverPublicKey(tt){const{r:ct,s:mt,recovery:yt}=this,gt=Tt(ensureBytes("msgHash",tt));if(yt==null||![0,1,2,3].includes(yt))throw new Error("recovery id invalid");const St=yt===2||yt===3?ct+e.n:ct;if(St>=s.ORDER)throw new Error("recovery id 2 or 3 invalid");const _t=yt&1?"03":"02",et=b.fromHex(_t+it(St)),ft=_(St),vt=h(-gt*ft),$t=h(mt*ft),kt=b.BASE.multiplyAndAddUnsafe(et,vt,$t);if(!kt)throw new Error("point at infinify");return kt.assertValidity(),kt}hasHighS(){return ot(this.s)}normalizeS(){return this.hasHighS()?new pt(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return it(this.r)+it(this.s)}}const dt={isValidPrivateKey(_e){try{return $(_e),!0}catch{return!1}},normPrivateKeyToScalar:$,randomPrivateKey:()=>{const _e=getMinHashLength(e.n);return mapHashToField(e.randomBytes(_e),e.n)},precompute(_e=8,tt=b.BASE){return tt._setWindowSize(_e),tt.multiply(BigInt(3)),tt}};function lt(_e,tt=!0){return b.fromPrivateKey(_e).toRawBytes(tt)}function at(_e){const tt=isBytes(_e),ct=typeof _e=="string",mt=(tt||ct)&&_e.length;return tt?mt===c||mt===d:ct?mt===2*c||mt===2*d:_e instanceof b}function xt(_e,tt,ct=!0){if(at(_e))throw new Error("first arg must be private key");if(!at(tt))throw new Error("second arg must be public key");return b.fromHex(tt).multiply($(_e)).toRawBytes(ct)}const Rt=e.bits2int||function(_e){const tt=bytesToNumberBE(_e),ct=_e.length*8-e.nBitLength;return ct>0?tt>>BigInt(ct):tt},Tt=e.bits2int_modN||function(_e){return h(Rt(_e))},It=bitMask(e.nBitLength);function Bt(_e){return aInRange(`num < 2^${e.nBitLength}`,_e,_0n,It),numberToBytesBE(_e,e.nByteLength)}function Pt(_e,tt,ct=zt){if(["recovered","canonical"].some(Nt=>Nt in ct))throw new Error("sign() legacy options not supported");const{hash:mt,randomBytes:yt}=e;let{lowS:gt,prehash:St,extraEntropy:_t}=ct;gt==null&&(gt=!0),_e=ensureBytes("msgHash",_e),validateSigVerOpts(ct),St&&(_e=ensureBytes("prehashed msgHash",mt(_e)));const et=Tt(_e),ft=$(tt),vt=[Bt(ft),Bt(et)];if(_t!=null&&_t!==!1){const Nt=_t===!0?yt(s.BYTES):_t;vt.push(ensureBytes("extraEntropy",Nt))}const $t=concatBytes(...vt),kt=et;function jt(Nt){const Dt=Rt(Nt);if(!rt(Dt))return;const Vt=_(Dt),qt=b.BASE.multiply(Dt).toAffine(),Gt=h(qt.x);if(Gt===_0n)return;const en=h(Vt*h(kt+Gt*ft));if(en===_0n)return;let tn=(qt.x===Gt?0:2)|Number(qt.y&_1n$1),on=en;return gt&&ot(en)&&(on=ht(en),tn^=1),new pt(Gt,on,tn)}return{seed:$t,k2sig:jt}}const zt={lowS:e.lowS,prehash:!1},Ht={lowS:e.lowS,prehash:!1};function Ut(_e,tt,ct=zt){const{seed:mt,k2sig:yt}=Pt(_e,tt,ct),gt=e;return createHmacDrbg(gt.hash.outputLen,gt.nByteLength,gt.hmac)(mt,yt)}b.BASE._setWindowSize(8);function Et(_e,tt,ct,mt=Ht){var qt;const yt=_e;if(tt=ensureBytes("msgHash",tt),ct=ensureBytes("publicKey",ct),"strict"in mt)throw new Error("options.strict was renamed to lowS");validateSigVerOpts(mt);const{lowS:gt,prehash:St}=mt;let _t,et;try{if(typeof yt=="string"||isBytes(yt))try{_t=pt.fromDER(yt)}catch(Gt){if(!(Gt instanceof DER.Err))throw Gt;_t=pt.fromCompact(yt)}else if(typeof yt=="object"&&typeof yt.r=="bigint"&&typeof yt.s=="bigint"){const{r:Gt,s:en}=yt;_t=new pt(Gt,en)}else throw new Error("PARSE");et=b.fromHex(ct)}catch(Gt){if(Gt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(gt&&_t.hasHighS())return!1;St&&(tt=e.hash(tt));const{r:ft,s:vt}=_t,$t=Tt(tt),kt=_(vt),jt=h($t*kt),Nt=h(ft*kt),Dt=(qt=b.BASE.multiplyAndAddUnsafe(et,jt,Nt))==null?void 0:qt.toAffine();return Dt?h(Dt.x)===ft:!1}return{CURVE:e,getPublicKey:lt,getSharedSecret:xt,sign:Ut,verify:Et,ProjectivePoint:b,Signature:pt,utils:dt}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(o){return{hash:o,hmac:(e,...s)=>hmac(o,e,concatBytes$1(...s)),randomBytes}}function createCurve(o,e){const s=a=>weierstrass({...o,...getHash(a)});return Object.freeze({...s(e),create:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(o,e)=>(o+e/_2n)/e;function sqrtMod(o){const e=secp256k1P,s=BigInt(3),a=BigInt(6),c=BigInt(11),d=BigInt(22),h=BigInt(23),_=BigInt(44),b=BigInt(88),$=o*o*o%e,j=$*$*o%e,rt=pow2(j,s,e)*j%e,it=pow2(rt,s,e)*j%e,ot=pow2(it,_2n,e)*$%e,ht=pow2(ot,c,e)*ot%e,bt=pow2(ht,d,e)*ht%e,pt=pow2(bt,_,e)*bt%e,dt=pow2(pt,b,e)*pt%e,lt=pow2(dt,_,e)*bt%e,at=pow2(lt,s,e)*j%e,xt=pow2(at,h,e)*ht%e,Rt=pow2(xt,a,e)*$%e,Tt=pow2(Rt,_2n,e);if(!Fp.eql(Fp.sqr(Tt),o))throw new Error("Cannot find square root");return Tt}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o=>{const e=secp256k1N,s=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),c=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),d=s,h=BigInt("0x100000000000000000000000000000000"),_=divNearest(d*o,e),b=divNearest(-a*o,e);let $=mod(o-_*s-b*c,e),j=mod(-_*a-b*d,e);const rt=$>h,it=j>h;if(rt&&($=e-$),it&&(j=e-j),$>h||j>h)throw new Error("splitScalar: Endomorphism failed, k="+o);return{k1neg:rt,k1:$,k2neg:it,k2:j}}}},sha256$1);BigInt(0);secp256k1.ProjectivePoint;const generatePrivateKey=ed25519.utils.randomPrivateKey,generateKeypair=()=>{const o=ed25519.utils.randomPrivateKey(),e=getPublicKey(o),s=new Uint8Array(64);return s.set(o),s.set(e,32),{publicKey:e,secretKey:s}},getPublicKey=ed25519.getPublicKey;function isOnCurve(o){try{return ed25519.ExtendedPoint.fromHex(o),!0}catch{return!1}}const sign=(o,e)=>ed25519.sign(o,e.slice(0,32)),verify=ed25519.verify,toBuffer$1=o=>Buffer$1.isBuffer(o)?o:o instanceof Uint8Array?Buffer$1.from(o.buffer,o.byteOffset,o.byteLength):Buffer$1.from(o);let Struct$1=class{constructor(e){Object.assign(this,e)}encode(){return Buffer$1.from(serialize_1(SOLANA_SCHEMA,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}};class Enum extends Struct$1{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(s=>{this.enum=s})}}const SOLANA_SCHEMA=new Map;var _PublicKey;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(o){return o._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct$1{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if(typeof e=="string"){const s=bs58$1.decode(e);if(s.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(s)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$1.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Buffer$1);if(e.length===PUBLIC_KEY_LENGTH)return e;const s=Buffer$1.alloc(32);return e.copy(s,32-e.length),s}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,s,a){const c=Buffer$1.concat([e.toBuffer(),Buffer$1.from(s),a.toBuffer()]),d=sha256$1(c);return new PublicKey(d)}static createProgramAddressSync(e,s){let a=Buffer$1.alloc(0);e.forEach(function(d){if(d.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");a=Buffer$1.concat([a,toBuffer$1(d)])}),a=Buffer$1.concat([a,s.toBuffer(),Buffer$1.from("ProgramDerivedAddress")]);const c=sha256$1(a);if(isOnCurve(c))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(c)}static async createProgramAddress(e,s){return this.createProgramAddressSync(e,s)}static findProgramAddressSync(e,s){let a=255,c;for(;a!=0;){try{const d=e.concat(Buffer$1.from([a]));c=this.createProgramAddressSync(d,s)}catch(d){if(d instanceof TypeError)throw d;a--;continue}return[c,a]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,s){return this.findProgramAddressSync(e,s)}static isOnCurve(e){const s=new PublicKey(e);return isOnCurve(s.toBytes())}}_PublicKey=PublicKey;PublicKey.default=new _PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const s=toBuffer$1(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=s.slice(32,64),this._secretKey=s.slice(0,32)}else this._secretKey=toBuffer$1(generatePrivateKey()),this._publicKey=toBuffer$1(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return Buffer$1.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1232,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,s){super(`Transaction was not confirmed in ${s.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(e,s){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=s}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const s of this.keySegments()){if(e<s.length)return s[e];e-=s.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const a=new Map;this.keySegments().flat().forEach((d,h)=>{a.set(d.toBase58(),h)});const c=d=>{const h=a.get(d.toBase58());if(h===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return h};return e.map(d=>({programIdIndex:c(d.programId),accountKeyIndexes:d.keys.map(h=>c(h.pubkey)),data:d.data}))}}const publicKey$4=(o="publicKey")=>blob$1(32,o),signature=(o="signature")=>blob$1(64,o),rustString=(o="string")=>{const e=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset$1(u32$1(),-8),"chars")],o),s=e.decode.bind(e),a=e.encode.bind(e),c=e;return c.decode=(d,h)=>s(d,h).chars.toString(),c.encode=(d,h,_)=>{const b={chars:Buffer$1.from(d,"utf8")};return a(b,h,_)},c.alloc=d=>u32$1().span+u32$1().span+Buffer$1.from(d,"utf8").length,c},authorized=(o="authorized")=>struct$1([publicKey$4("staker"),publicKey$4("withdrawer")],o),lockup=(o="lockup")=>struct$1([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$4("custodian")],o),voteInit=(o="voteInit")=>struct$1([publicKey$4("nodePubkey"),publicKey$4("authorizedVoter"),publicKey$4("authorizedWithdrawer"),u8$1("commission")],o),voteAuthorizeWithSeedArgs=(o="voteAuthorizeWithSeedArgs")=>struct$1([u32$1("voteAuthorizationType"),publicKey$4("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$4("newAuthorized")],o);function getAlloc(o,e){const s=c=>{if(c.span>=0)return c.span;if(typeof c.alloc=="function")return c.alloc(e[c.property]);if("count"in c&&"elementLayout"in c){const d=e[c.property];if(Array.isArray(d))return d.length*s(c.elementLayout)}else if("fields"in c)return getAlloc({layout:c},e[c.property]);return 0};let a=0;return o.layout.fields.forEach(c=>{a+=s(c)}),a}function decodeLength(o){let e=0,s=0;for(;;){let a=o.shift();if(e|=(a&127)<<s*7,s+=1,!(a&128))break}return e}function encodeLength(o,e){let s=e;for(;;){let a=s&127;if(s>>=7,s==0){o.push(a);break}else a|=128,o.push(a)}}function assert$2(o,e){if(!o)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(e,s){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=s}static compile(e,s){const a=new Map,c=h=>{const _=h.toBase58();let b=a.get(_);return b===void 0&&(b={isSigner:!1,isWritable:!1,isInvoked:!1},a.set(_,b)),b},d=c(s);d.isSigner=!0,d.isWritable=!0;for(const h of e){c(h.programId).isInvoked=!0;for(const _ of h.keys){const b=c(_.pubkey);b.isSigner||(b.isSigner=_.isSigner),b.isWritable||(b.isWritable=_.isWritable)}}return new CompiledKeys(s,a)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$2(e.length<=256,"Max static account keys length exceeded");const s=e.filter(([,b])=>b.isSigner&&b.isWritable),a=e.filter(([,b])=>b.isSigner&&!b.isWritable),c=e.filter(([,b])=>!b.isSigner&&b.isWritable),d=e.filter(([,b])=>!b.isSigner&&!b.isWritable),h={numRequiredSignatures:s.length+a.length,numReadonlySignedAccounts:a.length,numReadonlyUnsignedAccounts:d.length};{assert$2(s.length>0,"Expected at least one writable signer key");const[b]=s[0];assert$2(b===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const _=[...s.map(([b])=>new PublicKey(b)),...a.map(([b])=>new PublicKey(b)),...c.map(([b])=>new PublicKey(b)),...d.map(([b])=>new PublicKey(b))];return[h,_]}extractTableLookup(e){const[s,a]=this.drainKeysFoundInLookupTable(e.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[c,d]=this.drainKeysFoundInLookupTable(e.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(!(s.length===0&&c.length===0))return[{accountKey:e.key,writableIndexes:s,readonlyIndexes:c},{writable:a,readonly:d}]}drainKeysFoundInLookupTable(e,s){const a=new Array,c=new Array;for(const[d,h]of this.keyMetaMap.entries())if(s(h)){const _=new PublicKey(d),b=e.findIndex($=>$.equals(_));b>=0&&(assert$2(b<256,"Max lookup table index exceeded"),a.push(b),c.push(_),this.keyMetaMap.delete(d))}return[a,c]}}const END_OF_BUFFER_ERROR_MESSAGE="Reached end of buffer unexpectedly";function guardedShift(o){if(o.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return o.shift()}function guardedSplice(o,...e){const[s]=e;if(e.length===2?s+(e[1]??0)>o.length:s>=o.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return o.splice(...e)}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(s=>new PublicKey(s)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(s=>this.indexToProgramIds.set(s.programIdIndex,this.accountKeys[s.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$1.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const s=CompiledKeys.compile(e.instructions,e.payerKey),[a,c]=s.getMessageComponents(),h=new MessageAccountKeys(c).compileInstructions(e.instructions).map(_=>({programIdIndex:_.programIdIndex,accounts:_.accountKeyIndexes,data:bs58$1.encode(_.data)}));return new Message({header:a,accountKeys:c,recentBlockhash:e.recentBlockhash,instructions:h})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const s=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const a=e-s,d=this.accountKeys.length-s-this.header.numReadonlyUnsignedAccounts;return a<d}else{const a=s-this.header.numReadonlySignedAccounts;return e<a}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,s)=>!this.isProgramId(s))}serialize(){const e=this.accountKeys.length;let s=[];encodeLength(s,e);const a=this.instructions.map(rt=>{const{accounts:it,programIdIndex:ot}=rt,ht=Array.from(bs58$1.decode(rt.data));let bt=[];encodeLength(bt,it.length);let pt=[];return encodeLength(pt,ht.length),{programIdIndex:ot,keyIndicesCount:Buffer$1.from(bt),keyIndices:it,dataLength:Buffer$1.from(pt),data:ht}});let c=[];encodeLength(c,a.length);let d=Buffer$1.alloc(PACKET_DATA_SIZE);Buffer$1.from(c).copy(d);let h=c.length;a.forEach(rt=>{const ot=struct$1([u8$1("programIdIndex"),blob$1(rt.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),rt.keyIndices.length,"keyIndices"),blob$1(rt.dataLength.length,"dataLength"),seq(u8$1("userdatum"),rt.data.length,"data")]).encode(rt,d,h);h+=ot}),d=d.slice(0,h);const _=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(s.length,"keyCount"),seq(publicKey$4("key"),e,"keys"),publicKey$4("recentBlockhash")]),b={numRequiredSignatures:Buffer$1.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Buffer$1.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Buffer$1.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Buffer$1.from(s),keys:this.accountKeys.map(rt=>toBuffer$1(rt.toBytes())),recentBlockhash:bs58$1.decode(this.recentBlockhash)};let $=Buffer$1.alloc(2048);const j=_.encode(b,$);return d.copy($,j),$.slice(0,j+d.length)}static from(e){let s=[...e];const a=guardedShift(s);if(a!==(a&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const c=guardedShift(s),d=guardedShift(s),h=decodeLength(s);let _=[];for(let it=0;it<h;it++){const ot=guardedSplice(s,0,PUBLIC_KEY_LENGTH);_.push(new PublicKey(Buffer$1.from(ot)))}const b=guardedSplice(s,0,PUBLIC_KEY_LENGTH),$=decodeLength(s);let j=[];for(let it=0;it<$;it++){const ot=guardedShift(s),ht=decodeLength(s),bt=guardedSplice(s,0,ht),pt=decodeLength(s),dt=guardedSplice(s,0,pt),lt=bs58$1.encode(Buffer$1.from(dt));j.push({programIdIndex:ot,accounts:bt,data:lt})}const rt={header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},recentBlockhash:bs58$1.encode(Buffer$1.from(b)),accountKeys:_,instructions:j};return new Message(rt)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const s of this.addressTableLookups)e+=s.readonlyIndexes.length+s.writableIndexes.length;return e}getAccountKeys(e){let s;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");s=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)s=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,s)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const s=this.header.numRequiredSignatures,a=this.staticAccountKeys.length;if(e>=a){const c=e-a,d=this.addressTableLookups.reduce((h,_)=>h+_.writableIndexes.length,0);return c<d}else if(e>=this.header.numRequiredSignatures){const c=e-s,h=a-s-this.header.numReadonlyUnsignedAccounts;return c<h}else{const c=s-this.header.numReadonlySignedAccounts;return e<c}}resolveAddressTableLookups(e){const s={writable:[],readonly:[]};for(const a of this.addressTableLookups){const c=e.find(d=>d.key.equals(a.accountKey));if(!c)throw new Error(`Failed to find address lookup table account for table key ${a.accountKey.toBase58()}`);for(const d of a.writableIndexes)if(d<c.state.addresses.length)s.writable.push(c.state.addresses[d]);else throw new Error(`Failed to find address for index ${d} in address lookup table ${a.accountKey.toBase58()}`);for(const d of a.readonlyIndexes)if(d<c.state.addresses.length)s.readonly.push(c.state.addresses[d]);else throw new Error(`Failed to find address for index ${d} in address lookup table ${a.accountKey.toBase58()}`)}return s}static compile(e){const s=CompiledKeys.compile(e.instructions,e.payerKey),a=new Array,c={writable:new Array,readonly:new Array},d=e.addressLookupTableAccounts||[];for(const j of d){const rt=s.extractTableLookup(j);if(rt!==void 0){const[it,{writable:ot,readonly:ht}]=rt;a.push(it),c.writable.push(...ot),c.readonly.push(...ht)}}const[h,_]=s.getMessageComponents(),$=new MessageAccountKeys(_,c).compileInstructions(e.instructions);return new MessageV0({header:h,staticAccountKeys:_,recentBlockhash:e.recentBlockhash,compiledInstructions:$,addressTableLookups:a})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const s=this.serializeInstructions(),a=Array();encodeLength(a,this.compiledInstructions.length);const c=this.serializeAddressTableLookups(),d=Array();encodeLength(d,this.addressTableLookups.length);const h=struct$1([u8$1("prefix"),struct$1([u8$1("numRequiredSignatures"),u8$1("numReadonlySignedAccounts"),u8$1("numReadonlyUnsignedAccounts")],"header"),blob$1(e.length,"staticAccountKeysLength"),seq(publicKey$4(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$4("recentBlockhash"),blob$1(a.length,"instructionsLength"),blob$1(s.length,"serializedInstructions"),blob$1(d.length,"addressTableLookupsLength"),blob$1(c.length,"serializedAddressTableLookups")]),_=new Uint8Array(PACKET_DATA_SIZE),$=h.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(j=>j.toBytes()),recentBlockhash:bs58$1.decode(this.recentBlockhash),instructionsLength:new Uint8Array(a),serializedInstructions:s,addressTableLookupsLength:new Uint8Array(d),serializedAddressTableLookups:c},_);return _.slice(0,$)}serializeInstructions(){let e=0;const s=new Uint8Array(PACKET_DATA_SIZE);for(const a of this.compiledInstructions){const c=Array();encodeLength(c,a.accountKeyIndexes.length);const d=Array();encodeLength(d,a.data.length);const h=struct$1([u8$1("programIdIndex"),blob$1(c.length,"encodedAccountKeyIndexesLength"),seq(u8$1(),a.accountKeyIndexes.length,"accountKeyIndexes"),blob$1(d.length,"encodedDataLength"),blob$1(a.data.length,"data")]);e+=h.encode({programIdIndex:a.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(c),accountKeyIndexes:a.accountKeyIndexes,encodedDataLength:new Uint8Array(d),data:a.data},s,e)}return s.slice(0,e)}serializeAddressTableLookups(){let e=0;const s=new Uint8Array(PACKET_DATA_SIZE);for(const a of this.addressTableLookups){const c=Array();encodeLength(c,a.writableIndexes.length);const d=Array();encodeLength(d,a.readonlyIndexes.length);const h=struct$1([publicKey$4("accountKey"),blob$1(c.length,"encodedWritableIndexesLength"),seq(u8$1(),a.writableIndexes.length,"writableIndexes"),blob$1(d.length,"encodedReadonlyIndexesLength"),seq(u8$1(),a.readonlyIndexes.length,"readonlyIndexes")]);e+=h.encode({accountKey:a.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(c),writableIndexes:a.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(d),readonlyIndexes:a.readonlyIndexes},s,e)}return s.slice(0,e)}static deserialize(e){let s=[...e];const a=guardedShift(s),c=a&VERSION_PREFIX_MASK;assert$2(a!==c,"Expected versioned message but received legacy message");const d=c;assert$2(d===0,`Expected versioned message with version 0 but found version ${d}`);const h={numRequiredSignatures:guardedShift(s),numReadonlySignedAccounts:guardedShift(s),numReadonlyUnsignedAccounts:guardedShift(s)},_=[],b=decodeLength(s);for(let ht=0;ht<b;ht++)_.push(new PublicKey(guardedSplice(s,0,PUBLIC_KEY_LENGTH)));const $=bs58$1.encode(guardedSplice(s,0,PUBLIC_KEY_LENGTH)),j=decodeLength(s),rt=[];for(let ht=0;ht<j;ht++){const bt=guardedShift(s),pt=decodeLength(s),dt=guardedSplice(s,0,pt),lt=decodeLength(s),at=new Uint8Array(guardedSplice(s,0,lt));rt.push({programIdIndex:bt,accountKeyIndexes:dt,data:at})}const it=decodeLength(s),ot=[];for(let ht=0;ht<it;ht++){const bt=new PublicKey(guardedSplice(s,0,PUBLIC_KEY_LENGTH)),pt=decodeLength(s),dt=guardedSplice(s,0,pt),lt=decodeLength(s),at=guardedSplice(s,0,lt);ot.push({accountKey:bt,writableIndexes:dt,readonlyIndexes:at})}return new MessageV0({header:h,staticAccountKeys:_,recentBlockhash:$,compiledInstructions:rt,addressTableLookups:ot})}}const VersionedMessage={deserializeMessageVersion(o){const e=o[0],s=e&VERSION_PREFIX_MASK;return s===e?"legacy":s},deserialize:o=>{const e=VersionedMessage.deserializeMessageVersion(o);if(e==="legacy")return Message.from(o);if(e===0)return MessageV0.deserialize(o);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus=function(o){return o[o.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",o[o.PROCESSED=1]="PROCESSED",o[o.TIMED_OUT=2]="TIMED_OUT",o[o.NONCE_INVALID=3]="NONCE_INVALID",o}({});const DEFAULT_SIGNATURE=Buffer$1.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Buffer$1.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:s,isWritable:a})=>({pubkey:e.toJSON(),isSigner:s,isWritable:a})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:s,nonceInfo:a}=e;this.minNonceContextSlot=s,this.nonceInfo=a}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:s,lastValidBlockHeight:a}=e;this.recentBlockhash=s,this.lastValidBlockHeight=a}else{const{recentBlockhash:s,nonceInfo:a}=e;a&&(this.nonceInfo=a),this.recentBlockhash=s}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(s=>{"instructions"in s?this.instructions=this.instructions.concat(s.instructions):"data"in s&&"programId"in s&&"keys"in s?this.instructions.push(s):this.instructions.push(new TransactionInstruction(s))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,s;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?s=[this.nonceInfo.nonceInstruction,...this.instructions]:s=this.instructions):(e=this.recentBlockhash,s=this.instructions),!e)throw new Error("Transaction recentBlockhash required");s.length<1&&console.warn("No instructions provided");let a;if(this.feePayer)a=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)a=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let bt=0;bt<s.length;bt++)if(s[bt].programId===void 0)throw new Error(`Transaction instruction index ${bt} has undefined program id`);const c=[],d=[];s.forEach(bt=>{bt.keys.forEach(dt=>{d.push({...dt})});const pt=bt.programId.toString();c.includes(pt)||c.push(pt)}),c.forEach(bt=>{d.push({pubkey:new PublicKey(bt),isSigner:!1,isWritable:!1})});const h=[];d.forEach(bt=>{const pt=bt.pubkey.toString(),dt=h.findIndex(lt=>lt.pubkey.toString()===pt);dt>-1?(h[dt].isWritable=h[dt].isWritable||bt.isWritable,h[dt].isSigner=h[dt].isSigner||bt.isSigner):h.push(bt)}),h.sort(function(bt,pt){if(bt.isSigner!==pt.isSigner)return bt.isSigner?-1:1;if(bt.isWritable!==pt.isWritable)return bt.isWritable?-1:1;const dt={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return bt.pubkey.toBase58().localeCompare(pt.pubkey.toBase58(),"en",dt)});const _=h.findIndex(bt=>bt.pubkey.equals(a));if(_>-1){const[bt]=h.splice(_,1);bt.isSigner=!0,bt.isWritable=!0,h.unshift(bt)}else h.unshift({pubkey:a,isSigner:!0,isWritable:!0});for(const bt of this.signatures){const pt=h.findIndex(dt=>dt.pubkey.equals(bt.publicKey));if(pt>-1)h[pt].isSigner||(h[pt].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${bt.publicKey.toString()}`)}let b=0,$=0,j=0;const rt=[],it=[];h.forEach(({pubkey:bt,isSigner:pt,isWritable:dt})=>{pt?(rt.push(bt.toString()),b+=1,dt||($+=1)):(it.push(bt.toString()),dt||(j+=1))});const ot=rt.concat(it),ht=s.map(bt=>{const{data:pt,programId:dt}=bt;return{programIdIndex:ot.indexOf(dt.toString()),accounts:bt.keys.map(lt=>ot.indexOf(lt.pubkey.toString())),data:bs58$1.encode(pt)}});return ht.forEach(bt=>{assert$2(bt.programIdIndex>=0),bt.accounts.forEach(pt=>assert$2(pt>=0))}),new Message({header:{numRequiredSignatures:b,numReadonlySignedAccounts:$,numReadonlyUnsignedAccounts:j},accountKeys:ot,recentBlockhash:e,instructions:ht})}_compile(){const e=this.compileMessage(),s=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===s.length&&this.signatures.every((c,d)=>s[d].equals(c.publicKey))||(this.signatures=s.map(a=>({signature:null,publicKey:a}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const s=new Set;this.signatures=e.filter(a=>{const c=a.toString();return s.has(c)?!1:(s.add(c),!0)}).map(a=>({signature:null,publicKey:a}))}sign(...e){if(e.length===0)throw new Error("No signers");const s=new Set,a=[];for(const d of e){const h=d.publicKey.toString();s.has(h)||(s.add(h),a.push(d))}this.signatures=a.map(d=>({signature:null,publicKey:d.publicKey}));const c=this._compile();this._partialSign(c,...a)}partialSign(...e){if(e.length===0)throw new Error("No signers");const s=new Set,a=[];for(const d of e){const h=d.publicKey.toString();s.has(h)||(s.add(h),a.push(d))}const c=this._compile();this._partialSign(c,...a)}_partialSign(e,...s){const a=e.serialize();s.forEach(c=>{const d=sign(a,c.secretKey);this._addSignature(c.publicKey,toBuffer$1(d))})}addSignature(e,s){this._compile(),this._addSignature(e,s)}_addSignature(e,s){assert$2(s.length===64);const a=this.signatures.findIndex(c=>e.equals(c.publicKey));if(a<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[a].signature=Buffer$1.from(s)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,s){const a={};for(const{signature:c,publicKey:d}of this.signatures)c===null?s&&(a.missing||(a.missing=[])).push(d):verify(c,e,d.toBytes())||(a.invalid||(a.invalid=[])).push(d);return a.invalid||a.missing?a:void 0}serialize(e){const{requireAllSignatures:s,verifySignatures:a}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),c=this.serializeMessage();if(a){const d=this._getMessageSignednessErrors(c,s);if(d){let h="Signature verification failed.";throw d.invalid&&(h+=`
Invalid signature for public key${d.invalid.length===1?"":"(s)"} [\`${d.invalid.map(_=>_.toBase58()).join("`, `")}\`].`),d.missing&&(h+=`
Missing signature for public key${d.missing.length===1?"":"(s)"} [\`${d.missing.map(_=>_.toBase58()).join("`, `")}\`].`),new Error(h)}}return this._serialize(c)}_serialize(e){const{signatures:s}=this,a=[];encodeLength(a,s.length);const c=a.length+s.length*64+e.length,d=Buffer$1.alloc(c);return assert$2(s.length<256),Buffer$1.from(a).copy(d,0),s.forEach(({signature:h},_)=>{h!==null&&(assert$2(h.length===64,"signature has invalid length"),Buffer$1.from(h).copy(d,a.length+_*64))}),e.copy(d,a.length+s.length*64),assert$2(d.length<=PACKET_DATA_SIZE,`Transaction too large: ${d.length} > ${PACKET_DATA_SIZE}`),d}get keys(){return assert$2(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$2(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$2(this.instructions.length===1),this.instructions[0].data}static from(e){let s=[...e];const a=decodeLength(s);let c=[];for(let d=0;d<a;d++){const h=guardedSplice(s,0,SIGNATURE_LENGTH_IN_BYTES);c.push(bs58$1.encode(Buffer$1.from(h)))}return Transaction.populate(Message.from(s),c)}static populate(e,s=[]){const a=new Transaction;return a.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(a.feePayer=e.accountKeys[0]),s.forEach((c,d)=>{const h={signature:c==bs58$1.encode(DEFAULT_SIGNATURE)?null:bs58$1.decode(c),publicKey:e.accountKeys[d]};a.signatures.push(h)}),e.instructions.forEach(c=>{const d=c.accounts.map(h=>{const _=e.accountKeys[h];return{pubkey:_,isSigner:a.signatures.some(b=>b.publicKey.toString()===_.toString())||e.isAccountSigner(h),isWritable:e.isAccountWritable(h)}});a.instructions.push(new TransactionInstruction({keys:d,programId:e.accountKeys[c.programIdIndex],data:bs58$1.decode(c.data)}))}),a._message=e,a._json=a.toJSON(),a}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,s){const{header:a,compiledInstructions:c,recentBlockhash:d}=e,{numRequiredSignatures:h,numReadonlySignedAccounts:_,numReadonlyUnsignedAccounts:b}=a,$=h-_;assert$2($>0,"Message header is invalid");const j=e.staticAccountKeys.length-h-b;assert$2(j>=0,"Message header is invalid");const rt=e.getAccountKeys(s),it=rt.get(0);if(it===void 0)throw new Error("Failed to decompile message because no account keys were found");const ot=[];for(const ht of c){const bt=[];for(const dt of ht.accountKeyIndexes){const lt=rt.get(dt);if(lt===void 0)throw new Error(`Failed to find key for account key index ${dt}`);const at=dt<h;let xt;at?xt=dt<$:dt<rt.staticAccountKeys.length?xt=dt-h<j:xt=dt-rt.staticAccountKeys.length<rt.accountKeysFromLookups.writable.length,bt.push({pubkey:lt,isSigner:dt<a.numRequiredSignatures,isWritable:xt})}const pt=rt.get(ht.programIdIndex);if(pt===void 0)throw new Error(`Failed to find program id for program id index ${ht.programIdIndex}`);ot.push(new TransactionInstruction({programId:pt,data:toBuffer$1(ht.data),keys:bt}))}return new TransactionMessage({payerKey:it,instructions:ot,recentBlockhash:d})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,s){if(this.signatures=void 0,this.message=void 0,s!==void 0)assert$2(s.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=s;else{const a=[];for(let c=0;c<e.header.numRequiredSignatures;c++)a.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));this.signatures=a}this.message=e}serialize(){const e=this.message.serialize(),s=Array();encodeLength(s,this.signatures.length);const a=struct$1([blob$1(s.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$1(e.length,"serializedMessage")]),c=new Uint8Array(2048),d=a.encode({encodedSignaturesLength:new Uint8Array(s),signatures:this.signatures,serializedMessage:e},c);return c.slice(0,d)}static deserialize(e){let s=[...e];const a=[],c=decodeLength(s);for(let h=0;h<c;h++)a.push(new Uint8Array(guardedSplice(s,0,SIGNATURE_LENGTH_IN_BYTES)));const d=VersionedMessage.deserialize(new Uint8Array(s));return new VersionedTransaction(d,a)}sign(e){const s=this.message.serialize(),a=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const c of e){const d=a.findIndex(h=>h.equals(c.publicKey));assert$2(d>=0,`Cannot sign with non signer key ${c.publicKey.toBase58()}`),this.signatures[d]=sign(s,c.secretKey)}}addSignature(e,s){assert$2(s.byteLength===64,"Signature must be 64 bytes long");const c=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(d=>d.equals(e));assert$2(c>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[c]=s}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND,SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");class SendTransactionError extends Error{constructor({action:e,signature:s,transactionMessage:a,logs:c}){const d=c?`Logs: 
${JSON.stringify(c.slice(-10),null,2)}. `:"",h="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let _;switch(e){case"send":_=`Transaction ${s} resulted in an error. 
${a}. `+d+h;break;case"simulate":_=`Simulation failed. 
Message: ${a}. 
`+d+h;break;default:_=`Unknown action '${(b=>b)(e)}'`}super(_),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=s,this.transactionMessage=a,this.transactionLogs=c||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((s,a)=>{e.getTransaction(this.signature).then(c=>{if(c&&c.meta&&c.meta.logMessages){const d=c.meta.logMessages;this.transactionLogs=d,s(d)}else a(new Error("Log messages not found"))}).catch(a)})),await this.transactionLogs}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:s,data:a},c){super(c!=null?`${c}: ${s}`:s),this.code=void 0,this.data=void 0,this.code=e,this.data=a,this.name="SolanaJSONRPCError"}}async function sendAndConfirmTransaction(o,e,s,a){const c=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,maxRetries:a.maxRetries,minContextSlot:a.minContextSlot},d=await o.sendTransaction(e,s,c);let h;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)h=(await o.confirmTransaction({abortSignal:a==null?void 0:a.abortSignal,signature:d,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},a&&a.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:_}=e.nonceInfo,b=_.keys[0].pubkey;h=(await o.confirmTransaction({abortSignal:a==null?void 0:a.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:b,nonceValue:e.nonceInfo.nonce,signature:d},a&&a.commitment)).value}else(a==null?void 0:a.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),h=(await o.confirmTransaction(d,a&&a.commitment)).value;if(h.err)throw d!=null?new SendTransactionError({action:"send",signature:d,transactionMessage:`Status: (${JSON.stringify(h)})`}):new Error(`Transaction ${d} failed (${JSON.stringify(h)})`);return d}function sleep(o){return new Promise(e=>setTimeout(e,o))}function encodeData(o,e){const s=o.layout.span>=0?o.layout.span:getAlloc(o,e),a=Buffer$1.alloc(s),c=Object.assign({instruction:o.index},e);return o.layout.encode(c,a),a}function decodeData$1(o,e){let s;try{s=o.layout.decode(e)}catch(a){throw new Error("invalid instruction; "+a)}if(s.instruction!==o.index)throw new Error(`invalid instruction; instruction index mismatch ${s.instruction} != ${o.index}`);return s}const FeeCalculatorLayout=nu64$1("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$4("authorizedPubkey"),publicKey$4("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const s=NonceAccountLayout.decode(toBuffer$1(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(s.authorizedPubkey),nonce:new PublicKey(s.nonce).toString(),feeCalculator:s.feeCalculator})}}const encodeDecode$1=o=>{const e=o.decode.bind(o),s=o.encode.bind(o);return{decode:e,encode:s}},bigInt$1=o=>e=>{const s=blob$1(o,e),{encode:a,decode:c}=encodeDecode$1(s),d=s;return d.decode=(h,_)=>{const b=c(h,_);return toBigIntLE_1(Buffer$1.from(b))},d.encode=(h,_,b)=>{const $=toBufferLE_1(h,o);return a($,_,b)},d},u64$2=bigInt$1(8);class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const a=u32$1("instruction").decode(e.data);let c;for(const[d,h]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(h.index==a){c=d;break}if(!c)throw new Error("Instruction type incorrect; not a SystemInstruction");return c}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:s,space:a,programId:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:s,space:a,programId:new PublicKey(c)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:s}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:s,seed:a,programId:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:s,seed:a,programId:new PublicKey(c)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:s}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:s,seed:a,space:c,programId:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(s),seed:a,space:c,programId:new PublicKey(d)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(s)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:s,seed:a,programId:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(s),seed:a,programId:new PublicKey(c)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:s,seed:a,lamports:c,space:d,programId:h}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(s),seed:a,lamports:c,space:d,programId:new PublicKey(h)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(s)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:s}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(s)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,s){if(e.length<s)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${s}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$2("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$4("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$4("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),ns64$1("space"),publicKey$4("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),publicKey$4("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$2("lamports"),rustString("seed"),publicKey$4("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const s=SYSTEM_INSTRUCTION_LAYOUTS.Create,a=encodeData(s,{lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:a})}static transfer(e){let s,a;if("basePubkey"in e){const c=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;s=encodeData(c,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const c=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;s=encodeData(c,{lamports:BigInt(e.lamports)}),a=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:a,programId:this.programId,data:s})}static assign(e){let s,a;if("basePubkey"in e){const c=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;s=encodeData(c,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const c=SYSTEM_INSTRUCTION_LAYOUTS.Assign;s=encodeData(c,{programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:a,programId:this.programId,data:s})}static createAccountWithSeed(e){const s=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,a=encodeData(s,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});let c=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||c.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:c,programId:this.programId,data:a})}static createNonceAccount(e){const s=new Transaction;"basePubkey"in e&&"seed"in e?s.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):s.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const a={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return s.add(this.nonceInitialize(a)),s}static nonceInitialize(e){const s=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,a=encodeData(s,{authorized:toBuffer$1(e.authorizedPubkey.toBuffer())}),c={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(c)}static nonceAdvance(e){const s=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,a=encodeData(s),c={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(c)}static nonceWithdraw(e){const s=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,a=encodeData(s,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static nonceAuthorize(e){const s=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,a=encodeData(s,{authorized:toBuffer$1(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static allocate(e){let s,a;if("basePubkey"in e){const c=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;s=encodeData(c,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$1(e.programId.toBuffer())}),a=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const c=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;s=encodeData(c,{space:e.space}),a=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:a,programId:this.programId,data:s})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,s,a,c,d){{const rt=await e.getMinimumBalanceForRentExemption(d.length),it=await e.getAccountInfo(a.publicKey,"confirmed");let ot=null;if(it!==null){if(it.executable)return console.error("Program load failed, account is already executable"),!1;it.data.length!==d.length&&(ot=ot||new Transaction,ot.add(SystemProgram.allocate({accountPubkey:a.publicKey,space:d.length}))),it.owner.equals(c)||(ot=ot||new Transaction,ot.add(SystemProgram.assign({accountPubkey:a.publicKey,programId:c}))),it.lamports<rt&&(ot=ot||new Transaction,ot.add(SystemProgram.transfer({fromPubkey:s.publicKey,toPubkey:a.publicKey,lamports:rt-it.lamports})))}else ot=new Transaction().add(SystemProgram.createAccount({fromPubkey:s.publicKey,newAccountPubkey:a.publicKey,lamports:rt>0?rt:1,space:d.length,programId:c}));ot!==null&&await sendAndConfirmTransaction(e,ot,[s,a],{commitment:"confirmed"})}const h=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset$1(u32$1(),-8),"bytes")]),_=Loader.chunkSize;let b=0,$=d,j=[];for(;$.length>0;){const rt=$.slice(0,_),it=Buffer$1.alloc(_+16);h.encode({instruction:0,offset:b,bytes:rt,bytesLength:0,bytesLengthPadding:0},it);const ot=new Transaction().add({keys:[{pubkey:a.publicKey,isSigner:!0,isWritable:!0}],programId:c,data:it});j.push(sendAndConfirmTransaction(e,ot,[s,a],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),b+=_,$=$.slice(_)}await Promise.all(j);{const rt=struct$1([u32$1("instruction")]),it=Buffer$1.alloc(rt.span);rt.encode({instruction:1},it);const ot=new Transaction().add({keys:[{pubkey:a.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:c,data:it}),ht="processed",bt=await e.sendTransaction(ot,[s,a],{preflightCommitment:ht}),{context:pt,value:dt}=await e.confirmTransaction({signature:bt,lastValidBlockHeight:ot.lastValidBlockHeight,blockhash:ot.recentBlockhash},ht);if(dt.err)throw new Error(`Transaction ${bt} failed (${JSON.stringify(dt)})`);for(;;){try{if(await e.getSlot({commitment:ht})>pt.slot)break}catch{}await new Promise(lt=>setTimeout(lt,Math.round(MS_PER_SLOT/2)))}}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,s,a,c,d){return Loader.load(e,s,a,d,c)}}function getDefaultExportFromCjs$1(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var fastStableStringify$1,hasRequiredFastStableStringify;function requireFastStableStringify(){if(hasRequiredFastStableStringify)return fastStableStringify$1;hasRequiredFastStableStringify=1;var o=Object.prototype.toString,e=Object.keys||function(a){var c=[];for(var d in a)c.push(d);return c};function s(a,c){var d,h,_,b,$,j,rt;if(a===!0)return"true";if(a===!1)return"false";switch(typeof a){case"object":if(a===null)return null;if(a.toJSON&&typeof a.toJSON=="function")return s(a.toJSON(),c);if(rt=o.call(a),rt==="[object Array]"){for(_="[",h=a.length-1,d=0;d<h;d++)_+=s(a[d],!0)+",";return h>-1&&(_+=s(a[d],!0)),_+"]"}else if(rt==="[object Object]"){for(b=e(a).sort(),h=b.length,_="",d=0;d<h;)$=b[d],j=s(a[$],!1),j!==void 0&&(_&&(_+=","),_+=JSON.stringify($)+":"+j),d++;return"{"+_+"}"}else return JSON.stringify(a);case"function":case"undefined":return c?null:void 0;case"string":return JSON.stringify(a);default:return isFinite(a)?a:null}}return fastStableStringify$1=function(a){var c=s(a,!1);if(c!==void 0)return""+c},fastStableStringify$1}var fastStableStringifyExports=requireFastStableStringify(),fastStableStringify=getDefaultExportFromCjs$1(fastStableStringifyExports);const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(o){let e=0;for(;o>1;)o/=2,e++;return e}function nextPowerOfTwo(o){return o===0?1:(o--,o|=o>>1,o|=o>>2,o|=o>>4,o|=o>>8,o|=o>>16,o|=o>>32,o+1)}class EpochSchedule{constructor(e,s,a,c,d){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=s,this.warmup=a,this.firstNormalEpoch=c,this.firstNormalSlot=d}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const s=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,a=this.getSlotsInEpoch(s),c=e-(a-MINIMUM_SLOT_PER_EPOCH);return[s,c]}else{const s=e-this.firstNormalSlot,a=Math.floor(s/this.slotsPerEpoch),c=this.firstNormalEpoch+a,d=s%this.slotsPerEpoch;return[c,d]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}var fetchImpl=globalThis.fetch;class RpcWebSocketClient extends CommonClient{constructor(e,s,a){const c=d=>{const h=WebSocket(d,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...s});return"socket"in h?this.underlyingSocket=h.socket:this.underlyingSocket=h,h};super(c,e,s,a),this.underlyingSocket=void 0}call(...e){var a;const s=(a=this.underlyingSocket)==null?void 0:a.readyState;return s===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+s+")"))}notify(...e){var a;const s=(a=this.underlyingSocket)==null?void 0:a.readyState;return s===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+s+")"))}}function decodeData(o,e){let s;try{s=o.layout.decode(e)}catch(a){throw new Error("invalid instruction; "+a)}if(s.typeIndex!==o.index)throw new Error(`invalid account data; account type mismatch ${s.typeIndex} != ${o.index}`);return s}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const s=decodeData(LookupTableMetaLayout,e),a=e.length-LOOKUP_TABLE_META_SIZE;assert$2(a>=0,"lookup table is invalid"),assert$2(a%32===0,"lookup table is invalid");const c=a/32,{addresses:d}=struct$1([seq(publicKey$4(),c,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:s.deactivationSlot,lastExtendedSlot:s.lastExtendedSlot,lastExtendedSlotStartIndex:s.lastExtendedStartIndex,authority:s.authority.length!==0?new PublicKey(s.authority[0]):void 0,addresses:d.map(h=>new PublicKey(h))}}}const LookupTableMetaLayout={index:1,layout:struct$1([u32$1("typeIndex"),u64$2("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$1("lastExtendedStartIndex"),u8$1(),seq(publicKey$4(),offset$1(u8$1(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(o){const e=o.match(URL_RE);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${o}\``);const[s,a,c,d]=e,h=o.startsWith("https:")?"wss:":"ws:",_=c==null?null:parseInt(c.slice(1),10),b=_==null?"":`:${_+1}`;return`${h}//${a}${b}${d}`}const PublicKeyFromString=coerce$1(instance(PublicKey),string$1(),o=>new PublicKey(o)),RawAccountDataResult=tuple([string$1(),literal$1("base64")]),BufferFromRawAccountData=coerce$1(instance(Buffer$1),RawAccountDataResult,o=>Buffer$1.from(o[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(o){if(/^https?:/.test(o)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return o}function extractCommitmentFromConfig(o){let e,s;if(typeof o=="string")e=o;else if(o){const{commitment:a,...c}=o;e=a,s=c}return{commitment:e,config:s}}function applyDefaultMemcmpEncodingToFilters(o){return o.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function createRpcResult$1(o){return union$2([type$2({jsonrpc:literal$1("2.0"),id:string$1(),result:o}),type$2({jsonrpc:literal$1("2.0"),id:string$1(),error:type$2({code:unknown$1(),message:string$1(),data:optional$1(any$1())})})])}const UnknownRpcResult$1=createRpcResult$1(unknown$1());function jsonRpcResult$1(o){return coerce$1(createRpcResult$1(o),UnknownRpcResult$1,e=>"error"in e?e:{...e,result:create$1(e.result,o)})}function jsonRpcResultAndContext$1(o){return jsonRpcResult$1(type$2({context:type$2({slot:number$1()}),value:o}))}function notificationResultAndContext(o){return type$2({context:type$2({slot:number$1()}),value:o})}function versionedMessageFromResponse(o,e){return o===0?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(s=>new PublicKey(s)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(s=>({programIdIndex:s.programIdIndex,accountKeyIndexes:s.accounts,data:bs58$1.decode(s.data)})),addressTableLookups:e.addressTableLookups}):new Message(e)}const GetInflationGovernorResult=type$2({foundation:number$1(),foundationTerm:number$1(),initial:number$1(),taper:number$1(),terminal:number$1()}),GetInflationRewardResult=jsonRpcResult$1(array$1(nullable$1(type$2({epoch:number$1(),effectiveSlot:number$1(),amount:number$1(),postBalance:number$1(),commission:optional$1(nullable$1(number$1()))})))),GetRecentPrioritizationFeesResult=array$1(type$2({slot:number$1(),prioritizationFee:number$1()})),GetInflationRateResult=type$2({total:number$1(),validator:number$1(),foundation:number$1(),epoch:number$1()}),GetEpochInfoResult=type$2({epoch:number$1(),slotIndex:number$1(),slotsInEpoch:number$1(),absoluteSlot:number$1(),blockHeight:optional$1(number$1()),transactionCount:optional$1(number$1())}),GetEpochScheduleResult=type$2({slotsPerEpoch:number$1(),leaderScheduleSlotOffset:number$1(),warmup:boolean$1(),firstNormalEpoch:number$1(),firstNormalSlot:number$1()}),GetLeaderScheduleResult=record(string$1(),array$1(number$1())),TransactionErrorResult=nullable$1(union$2([type$2({}),string$1()])),SignatureStatusResult=type$2({err:TransactionErrorResult}),SignatureReceivedResult=literal$1("receivedSignature"),VersionResult=type$2({"solana-core":string$1(),"feature-set":optional$1(number$1())}),ParsedInstructionStruct=type$2({program:string$1(),programId:PublicKeyFromString,parsed:unknown$1()}),PartiallyDecodedInstructionStruct=type$2({programId:PublicKeyFromString,accounts:array$1(PublicKeyFromString),data:string$1()}),SimulatedTransactionResponseStruct$1=jsonRpcResultAndContext$1(type$2({err:nullable$1(union$2([type$2({}),string$1()])),logs:nullable$1(array$1(string$1())),accounts:optional$1(nullable$1(array$1(nullable$1(type$2({executable:boolean$1(),owner:string$1(),lamports:number$1(),data:array$1(string$1()),rentEpoch:optional$1(number$1())}))))),unitsConsumed:optional$1(number$1()),returnData:optional$1(nullable$1(type$2({programId:string$1(),data:tuple([string$1(),literal$1("base64")])}))),innerInstructions:optional$1(nullable$1(array$1(type$2({index:number$1(),instructions:array$1(union$2([ParsedInstructionStruct,PartiallyDecodedInstructionStruct]))}))))})),BlockProductionResponseStruct=jsonRpcResultAndContext$1(type$2({byIdentity:record(string$1(),array$1(number$1())),range:type$2({firstSlot:number$1(),lastSlot:number$1()})}));function createRpcClient(o,e,s,a,c,d){const h=s||fetchImpl;let _;d!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let b;return a&&(b=async(j,rt)=>{const it=await new Promise((ot,ht)=>{try{a(j,rt,(bt,pt)=>ot([bt,pt]))}catch(bt){ht(bt)}});return await h(...it)}),new RpcClient(async(j,rt)=>{const it={method:"POST",body:j,agent:_,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS)};try{let ot=5,ht,bt=500;for(;b?ht=await b(o,it):ht=await h(o,it),!(ht.status!==429||c===!0||(ot-=1,ot===0));)console.error(`Server responded with ${ht.status} ${ht.statusText}.  Retrying after ${bt}ms delay...`),await sleep(bt),bt*=2;const pt=await ht.text();ht.ok?rt(null,pt):rt(new Error(`${ht.status} ${ht.statusText}: ${pt}`))}catch(ot){ot instanceof Error&&rt(ot)}},{})}function createRpcRequest(o){return(e,s)=>new Promise((a,c)=>{o.request(e,s,(d,h)=>{if(d){c(d);return}a(h)})})}function createRpcBatchRequest(o){return e=>new Promise((s,a)=>{e.length===0&&s([]);const c=e.map(d=>o.request(d.methodName,d.args));o.request(c,(d,h)=>{if(d){a(d);return}s(h)})})}const GetInflationGovernorRpcResult=jsonRpcResult$1(GetInflationGovernorResult),GetInflationRateRpcResult=jsonRpcResult$1(GetInflationRateResult),GetRecentPrioritizationFeesRpcResult=jsonRpcResult$1(GetRecentPrioritizationFeesResult),GetEpochInfoRpcResult=jsonRpcResult$1(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult$1(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult$1(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult$1(number$1()),GetSupplyRpcResult=jsonRpcResultAndContext$1(type$2({total:number$1(),circulating:number$1(),nonCirculating:number$1(),nonCirculatingAccounts:array$1(PublicKeyFromString)})),TokenAmountResult=type$2({amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext$1(array$1(type$2({address:PublicKeyFromString,amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext$1(array$1(type$2({pubkey:PublicKeyFromString,account:type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()})}))),ParsedAccountDataResult=type$2({program:string$1(),parsed:unknown$1(),space:number$1()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext$1(array$1(type$2({pubkey:PublicKeyFromString,account:type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedAccountDataResult,rentEpoch:number$1()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext$1(array$1(type$2({lamports:number$1(),address:PublicKeyFromString}))),AccountInfoResult=type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()}),KeyedAccountInfoResult=type$2({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce$1(union$2([instance(Buffer$1),ParsedAccountDataResult]),union$2([RawAccountDataResult,ParsedAccountDataResult]),o=>Array.isArray(o)?create$1(o,BufferFromRawAccountData):o),ParsedAccountInfoResult=type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedOrRawAccountData,rentEpoch:number$1()}),KeyedParsedAccountInfoResult=type$2({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type$2({state:union$2([literal$1("active"),literal$1("inactive"),literal$1("activating"),literal$1("deactivating")]),active:number$1(),inactive:number$1()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult$1(array$1(type$2({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult$1(array$1(type$2({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),AccountNotificationResult=type$2({subscription:number$1(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type$2({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type$2({subscription:number$1(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type$2({parent:number$1(),slot:number$1(),root:number$1()}),SlotNotificationResult=type$2({subscription:number$1(),result:SlotInfoResult}),SlotUpdateResult=union$2([type$2({type:union$2([literal$1("firstShredReceived"),literal$1("completed"),literal$1("optimisticConfirmation"),literal$1("root")]),slot:number$1(),timestamp:number$1()}),type$2({type:literal$1("createdBank"),parent:number$1(),slot:number$1(),timestamp:number$1()}),type$2({type:literal$1("frozen"),slot:number$1(),timestamp:number$1(),stats:type$2({numTransactionEntries:number$1(),numSuccessfulTransactions:number$1(),numFailedTransactions:number$1(),maxTransactionsPerEntry:number$1()})}),type$2({type:literal$1("dead"),slot:number$1(),timestamp:number$1(),err:string$1()})]),SlotUpdateNotificationResult=type$2({subscription:number$1(),result:SlotUpdateResult}),SignatureNotificationResult=type$2({subscription:number$1(),result:notificationResultAndContext(union$2([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type$2({subscription:number$1(),result:number$1()}),ContactInfoResult=type$2({pubkey:string$1(),gossip:nullable$1(string$1()),tpu:nullable$1(string$1()),rpc:nullable$1(string$1()),version:nullable$1(string$1())}),VoteAccountInfoResult=type$2({votePubkey:string$1(),nodePubkey:string$1(),activatedStake:number$1(),epochVoteAccount:boolean$1(),epochCredits:array$1(tuple([number$1(),number$1(),number$1()])),commission:number$1(),lastVote:number$1(),rootSlot:nullable$1(number$1())}),GetVoteAccounts=jsonRpcResult$1(type$2({current:array$1(VoteAccountInfoResult),delinquent:array$1(VoteAccountInfoResult)})),ConfirmationStatus=union$2([literal$1("processed"),literal$1("confirmed"),literal$1("finalized")]),SignatureStatusResponse=type$2({slot:number$1(),confirmations:nullable$1(number$1()),err:TransactionErrorResult,confirmationStatus:optional$1(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext$1(array$1(nullable$1(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult$1(number$1()),AddressTableLookupStruct=type$2({accountKey:PublicKeyFromString,writableIndexes:array$1(number$1()),readonlyIndexes:array$1(number$1())}),ConfirmedTransactionResult=type$2({signatures:array$1(string$1()),message:type$2({accountKeys:array$1(string$1()),header:type$2({numRequiredSignatures:number$1(),numReadonlySignedAccounts:number$1(),numReadonlyUnsignedAccounts:number$1()}),instructions:array$1(type$2({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()})),recentBlockhash:string$1(),addressTableLookups:optional$1(array$1(AddressTableLookupStruct))})}),AnnotatedAccountKey=type$2({pubkey:PublicKeyFromString,signer:boolean$1(),writable:boolean$1(),source:optional$1(union$2([literal$1("transaction"),literal$1("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type$2({accountKeys:array$1(AnnotatedAccountKey),signatures:array$1(string$1())}),ParsedInstructionResult=type$2({parsed:unknown$1(),program:string$1(),programId:PublicKeyFromString}),RawInstructionResult=type$2({accounts:array$1(PublicKeyFromString),data:string$1(),programId:PublicKeyFromString}),InstructionResult=union$2([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union$2([type$2({parsed:unknown$1(),program:string$1(),programId:string$1()}),type$2({accounts:array$1(string$1()),data:string$1(),programId:string$1()})]),ParsedOrRawInstruction=coerce$1(InstructionResult,UnknownInstructionResult,o=>"accounts"in o?create$1(o,RawInstructionResult):create$1(o,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type$2({signatures:array$1(string$1()),message:type$2({accountKeys:array$1(AnnotatedAccountKey),instructions:array$1(ParsedOrRawInstruction),recentBlockhash:string$1(),addressTableLookups:optional$1(nullable$1(array$1(AddressTableLookupStruct)))})}),TokenBalanceResult=type$2({accountIndex:number$1(),mint:string$1(),owner:optional$1(string$1()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type$2({writable:array$1(PublicKeyFromString),readonly:array$1(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type$2({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$2({index:number$1(),instructions:array$1(type$2({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()}))})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),loadedAddresses:optional$1(LoadedAddressesResult),computeUnitsConsumed:optional$1(number$1())}),ParsedConfirmedTransactionMetaResult=type$2({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$2({index:number$1(),instructions:array$1(ParsedOrRawInstruction)})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),loadedAddresses:optional$1(LoadedAddressesResult),computeUnitsConsumed:optional$1(number$1())}),TransactionVersionStruct=union$2([literal$1(0),literal$1("legacy")]),RewardsResult=type$2({pubkey:string$1(),lamports:number$1(),postBalance:nullable$1(number$1()),rewardType:nullable$1(string$1()),commission:optional$1(nullable$1(number$1()))}),GetBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionResult,meta:nullable$1(ConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetNoneModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetAccountsModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable$1(ConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ParsedConfirmedTransactionResult,meta:nullable$1(ParsedConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedAccountsModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable$1(ParsedConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedNoneModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetConfirmedBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionResult,meta:nullable$1(ConfirmedTransactionMetaResult)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1())}))),GetBlockSignaturesRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),signatures:array$1(string$1()),blockTime:nullable$1(number$1())}))),GetTransactionRpcResult=jsonRpcResult$1(nullable$1(type$2({slot:number$1(),meta:nullable$1(ConfirmedTransactionMetaResult),blockTime:optional$1(nullable$1(number$1())),transaction:ConfirmedTransactionResult,version:optional$1(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult$1(nullable$1(type$2({slot:number$1(),transaction:ParsedConfirmedTransactionResult,meta:nullable$1(ParsedConfirmedTransactionMetaResult),blockTime:optional$1(nullable$1(number$1())),version:optional$1(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext$1(type$2({blockhash:string$1(),feeCalculator:type$2({lamportsPerSignature:number$1()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext$1(type$2({blockhash:string$1(),lastValidBlockHeight:number$1()})),IsBlockhashValidRpcResult=jsonRpcResultAndContext$1(boolean$1()),PerfSampleResult=type$2({slot:number$1(),numTransactions:number$1(),numSlots:number$1(),samplePeriodSecs:number$1()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult$1(array$1(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext$1(nullable$1(type$2({feeCalculator:type$2({lamportsPerSignature:number$1()})}))),RequestAirdropRpcResult=jsonRpcResult$1(string$1()),SendTransactionRpcResult=jsonRpcResult$1(string$1()),LogsResult=type$2({err:TransactionErrorResult,logs:array$1(string$1()),signature:string$1()}),LogsNotificationResult=type$2({result:notificationResultAndContext(LogsResult),subscription:number$1()}),COMMON_HTTP_HEADERS={"solana-client":"js/1.0.0-maintenance"};class Connection{constructor(e,s){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const $={};return async j=>{const{commitment:rt,config:it}=extractCommitmentFromConfig(j),ot=this._buildArgs([],rt,void 0,it),ht=fastStableStringify(ot);return $[ht]=$[ht]??(async()=>{try{const bt=await this._rpcRequest("getBlockHeight",ot),pt=create$1(bt,jsonRpcResult$1(number$1()));if("error"in pt)throw new SolanaJSONRPCError(pt.error,"failed to get block height information");return pt.result}finally{delete $[ht]}})(),await $[ht]}})();let a,c,d,h,_,b;s&&typeof s=="string"?this._commitment=s:s&&(this._commitment=s.commitment,this._confirmTransactionInitialTimeout=s.confirmTransactionInitialTimeout,a=s.wsEndpoint,c=s.httpHeaders,d=s.fetch,h=s.fetchMiddleware,_=s.disableRetryOnRateLimit,b=s.httpAgent),this._rpcEndpoint=assertEndpointUrl(e),this._rpcWsEndpoint=a||makeWebsocketUrl(e),this._rpcClient=createRpcClient(e,c,d,h,_,b),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgs([e.toBase58()],a,void 0,c),h=await this._rpcRequest("getBalance",d),_=create$1(h,jsonRpcResultAndContext$1(number$1()));if("error"in _)throw new SolanaJSONRPCError(_.error,`failed to get balance for ${e.toBase58()}`);return _.result}async getBalance(e,s){return await this.getBalanceAndContext(e,s).then(a=>a.value).catch(a=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+a)})}async getBlockTime(e){const s=await this._rpcRequest("getBlockTime",[e]),a=create$1(s,jsonRpcResult$1(nullable$1(number$1())));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get block time for slot ${e}`);return a.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),s=create$1(e,jsonRpcResult$1(number$1()));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get minimum ledger slot");return s.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),s=create$1(e,SlotRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get first available block");return s.result}async getSupply(e){let s={};typeof e=="string"?s={commitment:e}:e?s={...e,commitment:e&&e.commitment||this.commitment}:s={commitment:this.commitment};const a=await this._rpcRequest("getSupply",[s]),c=create$1(a,GetSupplyRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get supply");return c.result}async getTokenSupply(e,s){const a=this._buildArgs([e.toBase58()],s),c=await this._rpcRequest("getTokenSupply",a),d=create$1(c,jsonRpcResultAndContext$1(TokenAmountResult));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get token supply");return d.result}async getTokenAccountBalance(e,s){const a=this._buildArgs([e.toBase58()],s),c=await this._rpcRequest("getTokenAccountBalance",a),d=create$1(c,jsonRpcResultAndContext$1(TokenAmountResult));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get token account balance");return d.result}async getTokenAccountsByOwner(e,s,a){const{commitment:c,config:d}=extractCommitmentFromConfig(a);let h=[e.toBase58()];"mint"in s?h.push({mint:s.mint.toBase58()}):h.push({programId:s.programId.toBase58()});const _=this._buildArgs(h,c,"base64",d),b=await this._rpcRequest("getTokenAccountsByOwner",_),$=create$1(b,GetTokenAccountsByOwner);if("error"in $)throw new SolanaJSONRPCError($.error,`failed to get token accounts owned by account ${e.toBase58()}`);return $.result}async getParsedTokenAccountsByOwner(e,s,a){let c=[e.toBase58()];"mint"in s?c.push({mint:s.mint.toBase58()}):c.push({programId:s.programId.toBase58()});const d=this._buildArgs(c,a,"jsonParsed"),h=await this._rpcRequest("getTokenAccountsByOwner",d),_=create$1(h,GetParsedTokenAccountsByOwner);if("error"in _)throw new SolanaJSONRPCError(_.error,`failed to get token accounts owned by account ${e.toBase58()}`);return _.result}async getLargestAccounts(e){const s={...e,commitment:e&&e.commitment||this.commitment},a=s.filter||s.commitment?[s]:[],c=await this._rpcRequest("getLargestAccounts",a),d=create$1(c,GetLargestAccountsRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get largest accounts");return d.result}async getTokenLargestAccounts(e,s){const a=this._buildArgs([e.toBase58()],s),c=await this._rpcRequest("getTokenLargestAccounts",a),d=create$1(c,GetTokenLargestAccountsResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get token largest accounts");return d.result}async getAccountInfoAndContext(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgs([e.toBase58()],a,"base64",c),h=await this._rpcRequest("getAccountInfo",d),_=create$1(h,jsonRpcResultAndContext$1(nullable$1(AccountInfoResult)));if("error"in _)throw new SolanaJSONRPCError(_.error,`failed to get info about account ${e.toBase58()}`);return _.result}async getParsedAccountInfo(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgs([e.toBase58()],a,"jsonParsed",c),h=await this._rpcRequest("getAccountInfo",d),_=create$1(h,jsonRpcResultAndContext$1(nullable$1(ParsedAccountInfoResult)));if("error"in _)throw new SolanaJSONRPCError(_.error,`failed to get info about account ${e.toBase58()}`);return _.result}async getAccountInfo(e,s){try{return(await this.getAccountInfoAndContext(e,s)).value}catch(a){throw new Error("failed to get info about account "+e.toBase58()+": "+a)}}async getMultipleParsedAccounts(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=e.map($=>$.toBase58()),h=this._buildArgs([d],a,"jsonParsed",c),_=await this._rpcRequest("getMultipleAccounts",h),b=create$1(_,jsonRpcResultAndContext$1(array$1(nullable$1(ParsedAccountInfoResult))));if("error"in b)throw new SolanaJSONRPCError(b.error,`failed to get info for accounts ${d}`);return b.result}async getMultipleAccountsInfoAndContext(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=e.map($=>$.toBase58()),h=this._buildArgs([d],a,"base64",c),_=await this._rpcRequest("getMultipleAccounts",h),b=create$1(_,jsonRpcResultAndContext$1(array$1(nullable$1(AccountInfoResult))));if("error"in b)throw new SolanaJSONRPCError(b.error,`failed to get info for accounts ${d}`);return b.result}async getMultipleAccountsInfo(e,s){return(await this.getMultipleAccountsInfoAndContext(e,s)).value}async getStakeActivation(e,s,a){const{commitment:c,config:d}=extractCommitmentFromConfig(s),h=this._buildArgs([e.toBase58()],c,void 0,{...d,epoch:a??(d==null?void 0:d.epoch)}),_=await this._rpcRequest("getStakeActivation",h),b=create$1(_,jsonRpcResult$1(StakeActivationResult));if("error"in b)throw new SolanaJSONRPCError(b.error,`failed to get Stake Activation ${e.toBase58()}`);return b.result}async getProgramAccounts(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),{encoding:d,...h}=c||{},_=this._buildArgs([e.toBase58()],a,d||"base64",{...h,...h.filters?{filters:applyDefaultMemcmpEncodingToFilters(h.filters)}:null}),b=await this._rpcRequest("getProgramAccounts",_),$=array$1(KeyedAccountInfoResult),j=h.withContext===!0?create$1(b,jsonRpcResultAndContext$1($)):create$1(b,jsonRpcResult$1($));if("error"in j)throw new SolanaJSONRPCError(j.error,`failed to get accounts owned by program ${e.toBase58()}`);return j.result}async getParsedProgramAccounts(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgs([e.toBase58()],a,"jsonParsed",c),h=await this._rpcRequest("getProgramAccounts",d),_=create$1(h,jsonRpcResult$1(array$1(KeyedParsedAccountInfoResult)));if("error"in _)throw new SolanaJSONRPCError(_.error,`failed to get accounts owned by program ${e.toBase58()}`);return _.result}async confirmTransaction(e,s){var d;let a;if(typeof e=="string")a=e;else{const h=e;if((d=h.abortSignal)!=null&&d.aborted)return Promise.reject(h.abortSignal.reason);a=h.signature}let c;try{c=bs58$1.decode(a)}catch{throw new Error("signature must be base58 encoded: "+a)}return assert$2(c.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:s||this.commitment,signature:a}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:s||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:s||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((s,a)=>{e!=null&&(e.aborted?a(e.reason):e.addEventListener("abort",()=>{a(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:s}){let a,c,d=!1;const h=new Promise((b,$)=>{try{a=this.onSignature(s,(rt,it)=>{a=void 0;const ot={context:it,value:rt};b({__type:TransactionStatus.PROCESSED,response:ot})},e);const j=new Promise(rt=>{a==null?rt():c=this._onSubscriptionStateChange(a,it=>{it==="subscribed"&&rt()})});(async()=>{if(await j,d)return;const rt=await this.getSignatureStatus(s);if(d||rt==null)return;const{context:it,value:ot}=rt;if(ot!=null)if(ot!=null&&ot.err)$(ot.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(ot.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(ot.confirmationStatus==="processed"||ot.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}d=!0,b({__type:TransactionStatus.PROCESSED,response:{context:it,value:ot}})}})()}catch(j){$(j)}});return{abortConfirmation:()=>{c&&(c(),c=void 0),a!=null&&(this.removeSignatureListener(a),a=void 0)},confirmationPromise:h}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:s,lastValidBlockHeight:a,signature:c}}){let d=!1;const h=new Promise(rt=>{const it=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let ot=await it();if(!d){for(;ot<=a;)if(await sleep(1e3),d||(ot=await it(),d))return;rt({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:_,confirmationPromise:b}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),$=this.getCancellationPromise(s);let j;try{const rt=await Promise.race([$,b,h]);if(rt.__type===TransactionStatus.PROCESSED)j=rt.response;else throw new TransactionExpiredBlockheightExceededError(c)}finally{d=!0,_()}return j}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:s,minContextSlot:a,nonceAccountPubkey:c,nonceValue:d,signature:h}}){let _=!1;const b=new Promise(ot=>{let ht=d,bt=null;const pt=async()=>{try{const{context:dt,value:lt}=await this.getNonceAndContext(c,{commitment:e,minContextSlot:a});return bt=dt.slot,lt==null?void 0:lt.nonce}catch{return ht}};(async()=>{if(ht=await pt(),!_)for(;;){if(d!==ht){ot({__type:TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:bt});return}if(await sleep(2e3),_||(ht=await pt(),_))return}})()}),{abortConfirmation:$,confirmationPromise:j}=this.getTransactionConfirmationPromise({commitment:e,signature:h}),rt=this.getCancellationPromise(s);let it;try{const ot=await Promise.race([rt,j,b]);if(ot.__type===TransactionStatus.PROCESSED)it=ot.response;else{let ht;for(;;){const bt=await this.getSignatureStatus(h);if(bt==null)break;if(bt.context.slot<(ot.slotInWhichNonceDidAdvance??a)){await sleep(400);continue}ht=bt;break}if(ht!=null&&ht.value){const bt=e||"finalized",{confirmationStatus:pt}=ht.value;switch(bt){case"processed":case"recent":if(pt!=="processed"&&pt!=="confirmed"&&pt!=="finalized")throw new TransactionExpiredNonceInvalidError(h);break;case"confirmed":case"single":case"singleGossip":if(pt!=="confirmed"&&pt!=="finalized")throw new TransactionExpiredNonceInvalidError(h);break;case"finalized":case"max":case"root":if(pt!=="finalized")throw new TransactionExpiredNonceInvalidError(h);break;default:}it={context:ht.context,value:{err:ht.value.err}}}else throw new TransactionExpiredNonceInvalidError(h)}}finally{_=!0,$()}return it}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:s}){let a;const c=new Promise(b=>{let $=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{$=this._confirmTransactionInitialTimeout||3e4;break}}a=setTimeout(()=>b({__type:TransactionStatus.TIMED_OUT,timeoutMs:$}),$)}),{abortConfirmation:d,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:s});let _;try{const b=await Promise.race([h,c]);if(b.__type===TransactionStatus.PROCESSED)_=b.response;else throw new TransactionExpiredTimeoutError(s,b.timeoutMs/1e3)}finally{clearTimeout(a),d()}return _}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),s=create$1(e,jsonRpcResult$1(array$1(ContactInfoResult)));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get cluster nodes");return s.result}async getVoteAccounts(e){const s=this._buildArgs([],e),a=await this._rpcRequest("getVoteAccounts",s),c=create$1(a,GetVoteAccounts);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get vote accounts");return c.result}async getSlot(e){const{commitment:s,config:a}=extractCommitmentFromConfig(e),c=this._buildArgs([],s,void 0,a),d=await this._rpcRequest("getSlot",c),h=create$1(d,jsonRpcResult$1(number$1()));if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get slot");return h.result}async getSlotLeader(e){const{commitment:s,config:a}=extractCommitmentFromConfig(e),c=this._buildArgs([],s,void 0,a),d=await this._rpcRequest("getSlotLeader",c),h=create$1(d,jsonRpcResult$1(string$1()));if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get slot leader");return h.result}async getSlotLeaders(e,s){const a=[e,s],c=await this._rpcRequest("getSlotLeaders",a),d=create$1(c,jsonRpcResult$1(array$1(PublicKeyFromString)));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get slot leaders");return d.result}async getSignatureStatus(e,s){const{context:a,value:c}=await this.getSignatureStatuses([e],s);assert$2(c.length===1);const d=c[0];return{context:a,value:d}}async getSignatureStatuses(e,s){const a=[e];s&&a.push(s);const c=await this._rpcRequest("getSignatureStatuses",a),d=create$1(c,GetSignatureStatusesRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get signature status");return d.result}async getTransactionCount(e){const{commitment:s,config:a}=extractCommitmentFromConfig(e),c=this._buildArgs([],s,void 0,a),d=await this._rpcRequest("getTransactionCount",c),h=create$1(d,jsonRpcResult$1(number$1()));if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get transaction count");return h.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const s=this._buildArgs([],e),a=await this._rpcRequest("getInflationGovernor",s),c=create$1(a,GetInflationGovernorRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get inflation");return c.result}async getInflationReward(e,s,a){const{commitment:c,config:d}=extractCommitmentFromConfig(a),h=this._buildArgs([e.map($=>$.toBase58())],c,void 0,{...d,epoch:s??(d==null?void 0:d.epoch)}),_=await this._rpcRequest("getInflationReward",h),b=create$1(_,GetInflationRewardResult);if("error"in b)throw new SolanaJSONRPCError(b.error,"failed to get inflation reward");return b.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),s=create$1(e,GetInflationRateRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get inflation rate");return s.result}async getEpochInfo(e){const{commitment:s,config:a}=extractCommitmentFromConfig(e),c=this._buildArgs([],s,void 0,a),d=await this._rpcRequest("getEpochInfo",c),h=create$1(d,GetEpochInfoRpcResult);if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get epoch info");return h.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),s=create$1(e,GetEpochScheduleRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get epoch schedule");const a=s.result;return new EpochSchedule(a.slotsPerEpoch,a.leaderScheduleSlotOffset,a.warmup,a.firstNormalEpoch,a.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),s=create$1(e,GetLeaderScheduleRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get leader schedule");return s.result}async getMinimumBalanceForRentExemption(e,s){const a=this._buildArgs([e],s),c=await this._rpcRequest("getMinimumBalanceForRentExemption",a),d=create$1(c,GetMinimumBalanceForRentExemptionRpcResult);return"error"in d?(console.warn("Unable to fetch minimum balance for rent exemption"),0):d.result}async getRecentBlockhashAndContext(e){const s=this._buildArgs([],e),a=await this._rpcRequest("getRecentBlockhash",s),c=create$1(a,GetRecentBlockhashAndContextRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get recent blockhash");return c.result}async getRecentPerformanceSamples(e){const s=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),a=create$1(s,GetRecentPerformanceSamplesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get recent performance samples");return a.result}async getFeeCalculatorForBlockhash(e,s){const a=this._buildArgs([e],s),c=await this._rpcRequest("getFeeCalculatorForBlockhash",a),d=create$1(c,GetFeeCalculatorRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get fee calculator");const{context:h,value:_}=d.result;return{context:h,value:_!==null?_.feeCalculator:null}}async getFeeForMessage(e,s){const a=toBuffer$1(e.serialize()).toString("base64"),c=this._buildArgs([a],s),d=await this._rpcRequest("getFeeForMessage",c),h=create$1(d,jsonRpcResultAndContext$1(nullable$1(number$1())));if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get fee for message");if(h.result===null)throw new Error("invalid blockhash");return h.result}async getRecentPrioritizationFees(e){var h;const s=(h=e==null?void 0:e.lockedWritableAccounts)==null?void 0:h.map(_=>_.toBase58()),a=s!=null&&s.length?[s]:[],c=await this._rpcRequest("getRecentPrioritizationFees",a),d=create$1(c,GetRecentPrioritizationFeesRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get recent prioritization fees");return d.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(s){throw new Error("failed to get recent blockhash: "+s)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(s){throw new Error("failed to get recent blockhash: "+s)}}async getLatestBlockhashAndContext(e){const{commitment:s,config:a}=extractCommitmentFromConfig(e),c=this._buildArgs([],s,void 0,a),d=await this._rpcRequest("getLatestBlockhash",c),h=create$1(d,GetLatestBlockhashRpcResult);if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get latest blockhash");return h.result}async isBlockhashValid(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgs([e],a,void 0,c),h=await this._rpcRequest("isBlockhashValid",d),_=create$1(h,IsBlockhashValidRpcResult);if("error"in _)throw new SolanaJSONRPCError(_.error,"failed to determine if the blockhash `"+e+"`is valid");return _.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),s=create$1(e,jsonRpcResult$1(VersionResult));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get version");return s.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),s=create$1(e,jsonRpcResult$1(string$1()));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get genesis hash");return s.result}async getBlock(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgsAtLeastConfirmed([e],a,void 0,c),h=await this._rpcRequest("getBlock",d);try{switch(c==null?void 0:c.transactionDetails){case"accounts":{const _=create$1(h,GetAccountsModeBlockRpcResult);if("error"in _)throw _.error;return _.result}case"none":{const _=create$1(h,GetNoneModeBlockRpcResult);if("error"in _)throw _.error;return _.result}default:{const _=create$1(h,GetBlockRpcResult);if("error"in _)throw _.error;const{result:b}=_;return b?{...b,transactions:b.transactions.map(({transaction:$,meta:j,version:rt})=>({meta:j,transaction:{...$,message:versionedMessageFromResponse(rt,$.message)},version:rt}))}:null}}}catch(_){throw new SolanaJSONRPCError(_,"failed to get confirmed block")}}async getParsedBlock(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgsAtLeastConfirmed([e],a,"jsonParsed",c),h=await this._rpcRequest("getBlock",d);try{switch(c==null?void 0:c.transactionDetails){case"accounts":{const _=create$1(h,GetParsedAccountsModeBlockRpcResult);if("error"in _)throw _.error;return _.result}case"none":{const _=create$1(h,GetParsedNoneModeBlockRpcResult);if("error"in _)throw _.error;return _.result}default:{const _=create$1(h,GetParsedBlockRpcResult);if("error"in _)throw _.error;return _.result}}}catch(_){throw new SolanaJSONRPCError(_,"failed to get block")}}async getBlockProduction(e){let s,a;if(typeof e=="string")a=e;else if(e){const{commitment:_,...b}=e;a=_,s=b}const c=this._buildArgs([],a,"base64",s),d=await this._rpcRequest("getBlockProduction",c),h=create$1(d,BlockProductionResponseStruct);if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get block production information");return h.result}async getTransaction(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgsAtLeastConfirmed([e],a,void 0,c),h=await this._rpcRequest("getTransaction",d),_=create$1(h,GetTransactionRpcResult);if("error"in _)throw new SolanaJSONRPCError(_.error,"failed to get transaction");const b=_.result;return b&&{...b,transaction:{...b.transaction,message:versionedMessageFromResponse(b.version,b.transaction.message)}}}async getParsedTransaction(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=this._buildArgsAtLeastConfirmed([e],a,"jsonParsed",c),h=await this._rpcRequest("getTransaction",d),_=create$1(h,GetParsedTransactionRpcResult);if("error"in _)throw new SolanaJSONRPCError(_.error,"failed to get transaction");return _.result}async getParsedTransactions(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=e.map(b=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([b],a,"jsonParsed",c)}));return(await this._rpcBatchRequest(d)).map(b=>{const $=create$1(b,GetParsedTransactionRpcResult);if("error"in $)throw new SolanaJSONRPCError($.error,"failed to get transactions");return $.result})}async getTransactions(e,s){const{commitment:a,config:c}=extractCommitmentFromConfig(s),d=e.map(b=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([b],a,void 0,c)}));return(await this._rpcBatchRequest(d)).map(b=>{const $=create$1(b,GetTransactionRpcResult);if("error"in $)throw new SolanaJSONRPCError($.error,"failed to get transactions");const j=$.result;return j&&{...j,transaction:{...j.transaction,message:versionedMessageFromResponse(j.version,j.transaction.message)}}})}async getConfirmedBlock(e,s){const a=this._buildArgsAtLeastConfirmed([e],s),c=await this._rpcRequest("getConfirmedBlock",a),d=create$1(c,GetConfirmedBlockRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get confirmed block");const h=d.result;if(!h)throw new Error("Confirmed block "+e+" not found");const _={...h,transactions:h.transactions.map(({transaction:b,meta:$})=>{const j=new Message(b.message);return{meta:$,transaction:{...b,message:j}}})};return{..._,transactions:_.transactions.map(({transaction:b,meta:$})=>({meta:$,transaction:Transaction.populate(b.message,b.signatures)}))}}async getBlocks(e,s,a){const c=this._buildArgsAtLeastConfirmed(s!==void 0?[e,s]:[e],a),d=await this._rpcRequest("getBlocks",c),h=create$1(d,jsonRpcResult$1(array$1(number$1())));if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get blocks");return h.result}async getBlockSignatures(e,s){const a=this._buildArgsAtLeastConfirmed([e],s,void 0,{transactionDetails:"signatures",rewards:!1}),c=await this._rpcRequest("getBlock",a),d=create$1(c,GetBlockSignaturesRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get block");const h=d.result;if(!h)throw new Error("Block "+e+" not found");return h}async getConfirmedBlockSignatures(e,s){const a=this._buildArgsAtLeastConfirmed([e],s,void 0,{transactionDetails:"signatures",rewards:!1}),c=await this._rpcRequest("getConfirmedBlock",a),d=create$1(c,GetBlockSignaturesRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get confirmed block");const h=d.result;if(!h)throw new Error("Confirmed block "+e+" not found");return h}async getConfirmedTransaction(e,s){const a=this._buildArgsAtLeastConfirmed([e],s),c=await this._rpcRequest("getConfirmedTransaction",a),d=create$1(c,GetTransactionRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get transaction");const h=d.result;if(!h)return h;const _=new Message(h.transaction.message),b=h.transaction.signatures;return{...h,transaction:Transaction.populate(_,b)}}async getParsedConfirmedTransaction(e,s){const a=this._buildArgsAtLeastConfirmed([e],s,"jsonParsed"),c=await this._rpcRequest("getConfirmedTransaction",a),d=create$1(c,GetParsedTransactionRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get confirmed transaction");return d.result}async getParsedConfirmedTransactions(e,s){const a=e.map(h=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([h],s,"jsonParsed")}));return(await this._rpcBatchRequest(a)).map(h=>{const _=create$1(h,GetParsedTransactionRpcResult);if("error"in _)throw new SolanaJSONRPCError(_.error,"failed to get confirmed transactions");return _.result})}async getConfirmedSignaturesForAddress(e,s,a){let c={},d=await this.getFirstAvailableBlock();for(;!("until"in c)&&(s--,!(s<=0||s<d));)try{const b=await this.getConfirmedBlockSignatures(s,"finalized");b.signatures.length>0&&(c.until=b.signatures[b.signatures.length-1].toString())}catch(b){if(b instanceof Error&&b.message.includes("skipped"))continue;throw b}let h=await this.getSlot("finalized");for(;!("before"in c)&&(a++,!(a>h));)try{const b=await this.getConfirmedBlockSignatures(a);b.signatures.length>0&&(c.before=b.signatures[b.signatures.length-1].toString())}catch(b){if(b instanceof Error&&b.message.includes("skipped"))continue;throw b}return(await this.getConfirmedSignaturesForAddress2(e,c)).map(b=>b.signature)}async getConfirmedSignaturesForAddress2(e,s,a){const c=this._buildArgsAtLeastConfirmed([e.toBase58()],a,void 0,s),d=await this._rpcRequest("getConfirmedSignaturesForAddress2",c),h=create$1(d,GetConfirmedSignaturesForAddress2RpcResult);if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get confirmed signatures for address");return h.result}async getSignaturesForAddress(e,s,a){const c=this._buildArgsAtLeastConfirmed([e.toBase58()],a,void 0,s),d=await this._rpcRequest("getSignaturesForAddress",c),h=create$1(d,GetSignaturesForAddressRpcResult);if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get signatures for address");return h.result}async getAddressLookupTable(e,s){const{context:a,value:c}=await this.getAccountInfoAndContext(e,s);let d=null;return c!==null&&(d=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(c.data)})),{context:a,value:d}}async getNonceAndContext(e,s){const{context:a,value:c}=await this.getAccountInfoAndContext(e,s);let d=null;return c!==null&&(d=NonceAccount.fromAccountData(c.data)),{context:a,value:d}}async getNonce(e,s){return await this.getNonceAndContext(e,s).then(a=>a.value).catch(a=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+a)})}async requestAirdrop(e,s){const a=await this._rpcRequest("requestAirdrop",[e.toBase58(),s]),c=create$1(a,RequestAirdropRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,`airdrop to ${e.toBase58()} failed`);return c.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const a=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!a)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),s=this._blockhashInfo.latestBlockhash,a=s?s.blockhash:null;for(let c=0;c<50;c++){const d=await this.getLatestBlockhash("finalized");if(a!==d.blockhash)return this._blockhashInfo={latestBlockhash:d,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},d;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:s,config:a}=extractCommitmentFromConfig(e),c=this._buildArgs([],s,"base64",a),d=await this._rpcRequest("getStakeMinimumDelegation",c),h=create$1(d,jsonRpcResultAndContext$1(number$1()));if("error"in h)throw new SolanaJSONRPCError(h.error,"failed to get stake minimum delegation");return h.result}async simulateTransaction(e,s,a){if("message"in e){const bt=e.serialize(),pt=Buffer$1.from(bt).toString("base64");if(Array.isArray(s)||a!==void 0)throw new Error("Invalid arguments");const dt=s||{};dt.encoding="base64","commitment"in dt||(dt.commitment=this.commitment),s&&typeof s=="object"&&"innerInstructions"in s&&(dt.innerInstructions=s.innerInstructions);const lt=[pt,dt],at=await this._rpcRequest("simulateTransaction",lt),xt=create$1(at,SimulatedTransactionResponseStruct$1);if("error"in xt)throw new Error("failed to simulate transaction: "+xt.error.message);return xt.result}let c;if(e instanceof Transaction){let ht=e;c=new Transaction,c.feePayer=ht.feePayer,c.instructions=e.instructions,c.nonceInfo=ht.nonceInfo,c.signatures=ht.signatures}else c=Transaction.populate(e),c._message=c._json=void 0;if(s!==void 0&&!Array.isArray(s))throw new Error("Invalid arguments");const d=s;if(c.nonceInfo&&d)c.sign(...d);else{let ht=this._disableBlockhashCaching;for(;;){const bt=await this._blockhashWithExpiryBlockHeight(ht);if(c.lastValidBlockHeight=bt.lastValidBlockHeight,c.recentBlockhash=bt.blockhash,!d)break;if(c.sign(...d),!c.signature)throw new Error("!signature");const pt=c.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(pt)&&!this._blockhashInfo.transactionSignatures.includes(pt)){this._blockhashInfo.simulatedSignatures.push(pt);break}else ht=!0}}const h=c._compile(),_=h.serialize(),$=c._serialize(_).toString("base64"),j={encoding:"base64",commitment:this.commitment};if(a){const ht=(Array.isArray(a)?a:h.nonProgramIds()).map(bt=>bt.toBase58());j.accounts={encoding:"base64",addresses:ht}}d&&(j.sigVerify=!0),s&&typeof s=="object"&&"innerInstructions"in s&&(j.innerInstructions=s.innerInstructions);const rt=[$,j],it=await this._rpcRequest("simulateTransaction",rt),ot=create$1(it,SimulatedTransactionResponseStruct$1);if("error"in ot){let ht;if("data"in ot.error&&(ht=ot.error.data.logs,ht&&Array.isArray(ht))){const bt=`
    `,pt=bt+ht.join(bt);console.error(ot.error.message,pt)}throw new SendTransactionError({action:"simulate",signature:"",transactionMessage:ot.error.message,logs:ht})}return ot.result}async sendTransaction(e,s,a){if("version"in e){if(s&&Array.isArray(s))throw new Error("Invalid arguments");const h=e.serialize();return await this.sendRawTransaction(h,s)}if(s===void 0||!Array.isArray(s))throw new Error("Invalid arguments");const c=s;if(e.nonceInfo)e.sign(...c);else{let h=this._disableBlockhashCaching;for(;;){const _=await this._blockhashWithExpiryBlockHeight(h);if(e.lastValidBlockHeight=_.lastValidBlockHeight,e.recentBlockhash=_.blockhash,e.sign(...c),!e.signature)throw new Error("!signature");const b=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(b))h=!0;else{this._blockhashInfo.transactionSignatures.push(b);break}}}const d=e.serialize();return await this.sendRawTransaction(d,a)}async sendRawTransaction(e,s){const a=toBuffer$1(e).toString("base64");return await this.sendEncodedTransaction(a,s)}async sendEncodedTransaction(e,s){const a={encoding:"base64"},c=s&&s.skipPreflight,d=c===!0?"processed":s&&s.preflightCommitment||this.commitment;s&&s.maxRetries!=null&&(a.maxRetries=s.maxRetries),s&&s.minContextSlot!=null&&(a.minContextSlot=s.minContextSlot),c&&(a.skipPreflight=c),d&&(a.preflightCommitment=d);const h=[e,a],_=await this._rpcRequest("sendTransaction",h),b=create$1(_,SendTransactionRpcResult);if("error"in b){let $;throw"data"in b.error&&($=b.error.data.logs),new SendTransactionError({action:c?"send":"simulate",signature:"",transactionMessage:b.error.message,logs:$})}return b.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([s,a])=>{this._setSubscription(s,{...a,state:"pending"})})}_setSubscription(e,s){var c;const a=(c=this._subscriptionsByHash[e])==null?void 0:c.state;if(this._subscriptionsByHash[e]=s,a!==s.state){const d=this._subscriptionStateChangeCallbacksByHash[e];d&&d.forEach(h=>{try{h(s.state)}catch{}})}}_onSubscriptionStateChange(e,s){var d;const a=this._subscriptionHashByClientSubscriptionId[e];if(a==null)return()=>{};const c=(d=this._subscriptionStateChangeCallbacksByHash)[a]||(d[a]=new Set);return c.add(s),()=>{c.delete(s),c.size===0&&delete this._subscriptionStateChangeCallbacksByHash[a]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(a){a instanceof Error&&console.log(`Error when closing socket connection: ${a.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,s=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async a=>{const c=this._subscriptionsByHash[a];if(c!==void 0)switch(c.state){case"pending":case"unsubscribed":if(c.callbacks.size===0){delete this._subscriptionsByHash[a],c.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[c.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:d,method:h}=c;try{this._setSubscription(a,{...c,state:"subscribing"});const _=await this._rpcWebSocket.call(h,d);this._setSubscription(a,{...c,serverSubscriptionId:_,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[_]=c.callbacks,await this._updateSubscriptions()}catch(_){if(console.error(`Received ${_ instanceof Error?"":"JSON-RPC "}error calling \`${h}\``,{args:d,error:_}),!s())return;this._setSubscription(a,{...c,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":c.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:d,unsubscribeMethod:h}=c;if(this._subscriptionsAutoDisposedByRpc.has(d))this._subscriptionsAutoDisposedByRpc.delete(d);else{this._setSubscription(a,{...c,state:"unsubscribing"}),this._setSubscription(a,{...c,state:"unsubscribing"});try{await this._rpcWebSocket.call(h,[d])}catch(_){if(_ instanceof Error&&console.error(`${h} error:`,_.message),!s())return;this._setSubscription(a,{...c,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(a,{...c,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,s){const a=this._subscriptionCallbacksByServerSubscriptionId[e];a!==void 0&&a.forEach(c=>{try{c(...s)}catch(d){console.error(d)}})}_wsOnAccountNotification(e){const{result:s,subscription:a}=create$1(e,AccountNotificationResult);this._handleServerNotification(a,[s.value,s.context])}_makeSubscription(e,s){const a=this._nextClientSubscriptionId++,c=fastStableStringify([e.method,s]),d=this._subscriptionsByHash[c];return d===void 0?this._subscriptionsByHash[c]={...e,args:s,callbacks:new Set([e.callback]),state:"pending"}:d.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[a]=c,this._subscriptionDisposeFunctionsByClientSubscriptionId[a]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[a],delete this._subscriptionHashByClientSubscriptionId[a];const h=this._subscriptionsByHash[c];assert$2(h!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${a}`),h.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),a}onAccountChange(e,s,a){const{commitment:c,config:d}=extractCommitmentFromConfig(a),h=this._buildArgs([e.toBase58()],c||this._commitment||"finalized","base64",d);return this._makeSubscription({callback:s,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},h)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:s,subscription:a}=create$1(e,ProgramAccountNotificationResult);this._handleServerNotification(a,[{accountId:s.value.pubkey,accountInfo:s.value.account},s.context])}onProgramAccountChange(e,s,a,c){const{commitment:d,config:h}=extractCommitmentFromConfig(a),_=this._buildArgs([e.toBase58()],d||this._commitment||"finalized","base64",h||(c?{filters:applyDefaultMemcmpEncodingToFilters(c)}:void 0));return this._makeSubscription({callback:s,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},_)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,s,a){const c=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],a||this._commitment||"finalized");return this._makeSubscription({callback:s,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},c)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:s,subscription:a}=create$1(e,LogsNotificationResult);this._handleServerNotification(a,[s.value,s.context])}_wsOnSlotNotification(e){const{result:s,subscription:a}=create$1(e,SlotNotificationResult);this._handleServerNotification(a,[s])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:s,subscription:a}=create$1(e,SlotUpdateNotificationResult);this._handleServerNotification(a,[s])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,s){const a=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];a?await a():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${s}' events could not be found.`)}_buildArgs(e,s,a,c){const d=s||this._commitment;if(d||a||c){let h={};a&&(h.encoding=a),d&&(h.commitment=d),c&&(h=Object.assign(h,c)),e.push(h)}return e}_buildArgsAtLeastConfirmed(e,s,a,c){const d=s||this._commitment;if(d&&!["confirmed","finalized"].includes(d))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,s,a,c)}_wsOnSignatureNotification(e){const{result:s,subscription:a}=create$1(e,SignatureNotificationResult);s.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(a),this._handleServerNotification(a,s.value==="receivedSignature"?[{type:"received"},s.context]:[{type:"status",result:s.value},s.context])}onSignature(e,s,a){const c=this._buildArgs([e],a||this._commitment||"finalized"),d=this._makeSubscription({callback:(h,_)=>{if(h.type==="status"){s(h.result,_);try{this.removeSignatureListener(d)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return d}onSignatureWithOptions(e,s,a){const{commitment:c,...d}={...a,commitment:a&&a.commitment||this._commitment||"finalized"},h=this._buildArgs([e],c,void 0,d),_=this._makeSubscription({callback:(b,$)=>{s(b,$);try{this.removeSignatureListener(_)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},h);return _}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:s,subscription:a}=create$1(e,RootNotificationResult);this._handleServerNotification(a,[s])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,s){if(e.byteLength!==64)throw new Error("bad secret key size");const a=e.slice(32,64);if(!s||!s.skipValidation){const c=e.slice(0,32),d=getPublicKey(c);for(let h=0;h<32;h++)if(a[h]!==d[h])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:a,secretKey:e})}static fromSeed(e){const s=getPublicKey(e),a=new Uint8Array(64);return a.set(e),a.set(s,32),new Keypair({publicKey:s,secretKey:a})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$2("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$2(),seq(publicKey$4(),offset$1(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const a=u32$1("instruction").decode(e.data);let c;for(const[d,h]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(h.index==a){c=d;break}if(!c)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return c}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:s}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(s)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:s}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:s.map(a=>new PublicKey(a))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,s){if(e.length<s)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${s}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[s,a]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),c=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,d=encodeData(c,{recentSlot:BigInt(e.recentSlot),bumpSeed:a}),h=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:h,data:d}),s]}static freezeLookupTable(e){const s=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,a=encodeData(s),c=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:c,data:a})}static extendLookupTable(e){const s=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,a=encodeData(s,{addresses:e.addresses.map(d=>d.toBytes())}),c=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&c.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:c,data:a})}static deactivateLookupTable(e){const s=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,a=encodeData(s),c=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:c,data:a})}static closeLookupTable(e){const s=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,a=encodeData(s),c=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:c,data:a})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const a=u8$1("instruction").decode(e.data);let c;for(const[d,h]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(h.index==a){c=d;break}if(!c)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return c}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:s,additionalFee:a}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:s,additionalFee:a}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:s}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:s}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:s}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:s}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:s}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:s}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$2("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const s=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,a=encodeData(s,e);return new TransactionInstruction({keys:[],programId:this.programId,data:a})}static requestHeapFrame(e){const s=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,a=encodeData(s,e);return new TransactionInstruction({keys:[],programId:this.programId,data:a})}static setComputeUnitLimit(e){const s=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,a=encodeData(s,e);return new TransactionInstruction({keys:[],programId:this.programId,data:a})}static setComputeUnitPrice(e){const s=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,a=encodeData(s,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:a})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:s,message:a,signature:c,instructionIndex:d}=e;assert$2(s.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${s.length} bytes`),assert$2(c.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${c.length} bytes`);const h=ED25519_INSTRUCTION_LAYOUT.span,_=h+s.length,b=_+c.length,$=1,j=Buffer$1.alloc(b+a.length),rt=d??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:$,padding:0,signatureOffset:_,signatureInstructionIndex:rt,publicKeyOffset:h,publicKeyInstructionIndex:rt,messageDataOffset:b,messageDataSize:a.length,messageInstructionIndex:rt},j),j.fill(s,h),j.fill(c,_),j.fill(a,b),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:j})}static createInstructionWithPrivateKey(e){const{privateKey:s,message:a,instructionIndex:c}=e;assert$2(s.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${s.length} bytes`);try{const d=Keypair.fromSecretKey(s),h=d.publicKey.toBytes(),_=sign(a,d.secretKey);return this.createInstructionWithPublicKey({publicKey:h,message:a,signature:_,instructionIndex:c})}catch(d){throw new Error(`Error creating instruction; ${d}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");const ecdsaSign=(o,e)=>{const s=secp256k1.sign(o,e);return[s.toCompactRawBytes(),s.recovery]};secp256k1.utils.isValidPrivateKey;const publicKeyCreate=secp256k1.getPublicKey,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){assert$2(e.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${e.length} bytes`);try{return Buffer$1.from(keccak_256(toBuffer$1(e))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(s){throw new Error(`Error constructing Ethereum address: ${s}`)}}static createInstructionWithPublicKey(e){const{publicKey:s,message:a,signature:c,recoveryId:d,instructionIndex:h}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(s),message:a,signature:c,recoveryId:d,instructionIndex:h})}static createInstructionWithEthAddress(e){const{ethAddress:s,message:a,signature:c,recoveryId:d,instructionIndex:h=0}=e;let _;typeof s=="string"?s.startsWith("0x")?_=Buffer$1.from(s.substr(2),"hex"):_=Buffer$1.from(s,"hex"):_=s,assert$2(_.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${_.length} bytes`);const b=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,$=b,j=b+_.length,rt=j+c.length+1,it=1,ot=Buffer$1.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+a.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:it,signatureOffset:j,signatureInstructionIndex:h,ethAddressOffset:$,ethAddressInstructionIndex:h,messageDataOffset:rt,messageDataSize:a.length,messageInstructionIndex:h,signature:toBuffer$1(c),ethAddress:toBuffer$1(_),recoveryId:d},ot),ot.fill(toBuffer$1(a),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:ot})}static createInstructionWithPrivateKey(e){const{privateKey:s,message:a,instructionIndex:c}=e;assert$2(s.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${s.length} bytes`);try{const d=toBuffer$1(s),h=publicKeyCreate(d,!1).slice(1),_=Buffer$1.from(keccak_256(toBuffer$1(a))),[b,$]=ecdsaSign(_,d);return this.createInstructionWithPublicKey({publicKey:h,message:a,signature:b,recoveryId:$,instructionIndex:c})}catch(d){throw new Error(`Error creating instruction; ${d}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");var _Lockup;const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,s){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=s}}class Lockup{constructor(e,s,a){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=s,this.custodian=a}}_Lockup=Lockup;Lockup.default=new _Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const a=u32$1("instruction").decode(e.data);let c;for(const[d,h]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(h.index==a){c=d;break}if(!c)throw new Error("Instruction type incorrect; not a StakeInstruction");return c}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:s,lockup:a}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(s.staker),new PublicKey(s.withdrawer)),lockup:new Lockup(a.unixTimestamp,a.epoch,new PublicKey(a.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:s,stakeAuthorizationType:a}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,e.data),c={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(s),stakeAuthorizationType:{index:a}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:s,stakeAuthorizationType:a,authoritySeed:c,authorityOwner:d}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data),h={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:c,authorityOwner:new PublicKey(d),newAuthorizedPubkey:new PublicKey(s),stakeAuthorizationType:{index:a}};return e.keys.length>3&&(h.custodianPubkey=e.keys[3].pubkey),h}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:s}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:s}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:s}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,e.data),a={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:s};return e.keys.length>5&&(a.custodianPubkey=e.keys[5].pubkey),a}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,s){if(e.length<s)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${s}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$4("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:s,authorized:a,lockup:c}=e,d=c||Lockup.default,h=STAKE_INSTRUCTION_LAYOUTS.Initialize,_=encodeData(h,{authorized:{staker:toBuffer$1(a.staker.toBuffer()),withdrawer:toBuffer$1(a.withdrawer.toBuffer())},lockup:{unixTimestamp:d.unixTimestamp,epoch:d.epoch,custodian:toBuffer$1(d.custodian.toBuffer())}}),b={keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:_};return new TransactionInstruction(b)}static createAccountWithSeed(e){const s=new Transaction;s.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:a,authorized:c,lockup:d}=e;return s.add(this.initialize({stakePubkey:a,authorized:c,lockup:d}))}static createAccount(e){const s=new Transaction;s.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:a,authorized:c,lockup:d}=e;return s.add(this.initialize({stakePubkey:a,authorized:c,lockup:d}))}static delegate(e){const{stakePubkey:s,authorizedPubkey:a,votePubkey:c}=e,d=STAKE_INSTRUCTION_LAYOUTS.Delegate,h=encodeData(d);return new Transaction().add({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static authorize(e){const{stakePubkey:s,authorizedPubkey:a,newAuthorizedPubkey:c,stakeAuthorizationType:d,custodianPubkey:h}=e,_=STAKE_INSTRUCTION_LAYOUTS.Authorize,b=encodeData(_,{newAuthorized:toBuffer$1(c.toBuffer()),stakeAuthorizationType:d.index}),$=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1}];return h&&$.push({pubkey:h,isSigner:!0,isWritable:!1}),new Transaction().add({keys:$,programId:this.programId,data:b})}static authorizeWithSeed(e){const{stakePubkey:s,authorityBase:a,authoritySeed:c,authorityOwner:d,newAuthorizedPubkey:h,stakeAuthorizationType:_,custodianPubkey:b}=e,$=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,j=encodeData($,{newAuthorized:toBuffer$1(h.toBuffer()),stakeAuthorizationType:_.index,authoritySeed:c,authorityOwner:toBuffer$1(d.toBuffer())}),rt=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return b&&rt.push({pubkey:b,isSigner:!0,isWritable:!1}),new Transaction().add({keys:rt,programId:this.programId,data:j})}static splitInstruction(e){const{stakePubkey:s,authorizedPubkey:a,splitStakePubkey:c,lamports:d}=e,h=STAKE_INSTRUCTION_LAYOUTS.Split,_=encodeData(h,{lamports:d});return new TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1}],programId:this.programId,data:_})}static split(e,s){const a=new Transaction;return a.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction(e))}static splitWithSeed(e,s){const{stakePubkey:a,authorizedPubkey:c,splitStakePubkey:d,basePubkey:h,seed:_,lamports:b}=e,$=new Transaction;return $.add(SystemProgram.allocate({accountPubkey:d,basePubkey:h,seed:_,space:this.space,programId:this.programId})),s&&s>0&&$.add(SystemProgram.transfer({fromPubkey:e.authorizedPubkey,toPubkey:d,lamports:s})),$.add(this.splitInstruction({stakePubkey:a,authorizedPubkey:c,splitStakePubkey:d,lamports:b}))}static merge(e){const{stakePubkey:s,sourceStakePubKey:a,authorizedPubkey:c}=e,d=STAKE_INSTRUCTION_LAYOUTS.Merge,h=encodeData(d);return new Transaction().add({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static withdraw(e){const{stakePubkey:s,authorizedPubkey:a,toPubkey:c,lamports:d,custodianPubkey:h}=e,_=STAKE_INSTRUCTION_LAYOUTS.Withdraw,b=encodeData(_,{lamports:d}),$=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}];return h&&$.push({pubkey:h,isSigner:!0,isWritable:!1}),new Transaction().add({keys:$,programId:this.programId,data:b})}static deactivate(e){const{stakePubkey:s,authorizedPubkey:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Deactivate,d=encodeData(c);return new Transaction().add({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(e,s,a,c){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=s,this.authorizedWithdrawer=a,this.commission=c}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const a=u32$1("instruction").decode(e.data);let c;for(const[d,h]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(h.index==a){c=d;break}if(!c)throw new Error("Instruction type incorrect; not a VoteInstruction");return c}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:s}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(s.nodePubkey),new PublicKey(s.authorizedVoter),new PublicKey(s.authorizedWithdrawer),s.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:s,voteAuthorizationType:a}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(s),voteAuthorizationType:{index:a}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:s,currentAuthorityDerivedKeySeed:a,newAuthorized:c,voteAuthorizationType:d}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(s),currentAuthorityDerivedKeySeed:a,newAuthorizedPubkey:new PublicKey(c),voteAuthorizationType:{index:d},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:s}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:s,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,s){if(e.length<s)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${s}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},UpdateValidatorIdentity:{index:4,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:10,layout:struct$1([u32$1("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:s,nodePubkey:a,voteInit:c}=e,d=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,h=encodeData(d,{voteInit:{nodePubkey:toBuffer$1(c.nodePubkey.toBuffer()),authorizedVoter:toBuffer$1(c.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$1(c.authorizedWithdrawer.toBuffer()),commission:c.commission}}),_={keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}],programId:this.programId,data:h};return new TransactionInstruction(_)}static createAccount(e){const s=new Transaction;return s.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),s.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:s,authorizedPubkey:a,newAuthorizedPubkey:c,voteAuthorizationType:d}=e,h=VOTE_INSTRUCTION_LAYOUTS.Authorize,_=encodeData(h,{newAuthorized:toBuffer$1(c.toBuffer()),voteAuthorizationType:d.index}),b=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:b,programId:this.programId,data:_})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:s,currentAuthorityDerivedKeyOwnerPubkey:a,currentAuthorityDerivedKeySeed:c,newAuthorizedPubkey:d,voteAuthorizationType:h,votePubkey:_}=e,b=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,$=encodeData(b,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$1(a.toBuffer()),currentAuthorityDerivedKeySeed:c,newAuthorized:toBuffer$1(d.toBuffer()),voteAuthorizationType:h.index}}),j=[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:j,programId:this.programId,data:$})}static withdraw(e){const{votePubkey:s,authorizedWithdrawerPubkey:a,lamports:c,toPubkey:d}=e,h=VOTE_INSTRUCTION_LAYOUTS.Withdraw,_=encodeData(h,{lamports:c}),b=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:b,programId:this.programId,data:_})}static safeWithdraw(e,s,a){if(e.lamports>s-a)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:s,authorizedWithdrawerPubkey:a,nodePubkey:c}=e,d=VOTE_INSTRUCTION_LAYOUTS.UpdateValidatorIdentity,h=encodeData(d),_=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:_,programId:this.programId,data:h})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3762;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type$2({name:string$1(),website:optional$1(string$1()),details:optional$1(string$1()),iconUrl:optional$1(string$1()),keybaseUsername:optional$1(string$1())});class ValidatorInfo{constructor(e,s){this.key=void 0,this.info=void 0,this.key=e,this.info=s}static fromConfigData(e){let s=[...e];if(decodeLength(s)!==2)return null;const c=[];for(let d=0;d<2;d++){const h=new PublicKey(guardedSplice(s,0,PUBLIC_KEY_LENGTH)),_=guardedShift(s)===1;c.push({publicKey:h,isSigner:_})}if(c[0].publicKey.equals(VALIDATOR_INFO_KEY)&&c[1].isSigner){const d=rustString().decode(Buffer$1.from(s)),h=JSON.parse(d);return assert$3(h,InfoString),new ValidatorInfo(c[1].publicKey,h)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$4("nodePubkey"),publicKey$4("authorizedWithdrawer"),u8$1("commission"),nu64$1(),seq(struct$1([nu64$1("slot"),u32$1("confirmationCount")]),offset$1(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$1([nu64$1("epoch"),publicKey$4("authorizedVoter")]),offset$1(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$4("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$1("isEmpty")],"priorVoters"),nu64$1(),seq(struct$1([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$1(),-8),"epochCredits"),struct$1([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const a=VoteAccountLayout.decode(toBuffer$1(e),4);let c=a.rootSlot;return a.rootSlotValid||(c=null),new VoteAccount({nodePubkey:new PublicKey(a.nodePubkey),authorizedWithdrawer:new PublicKey(a.authorizedWithdrawer),commission:a.commission,votes:a.votes,rootSlot:c,authorizedVoters:a.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(a.priorVoters),epochCredits:a.epochCredits,lastTimestamp:a.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:o,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey(o)}}function parsePriorVoters({authorizedPubkey:o,epochOfLastAuthorizedSwitch:e,targetEpoch:s}){return{authorizedPubkey:new PublicKey(o),epochOfLastAuthorizedSwitch:e,targetEpoch:s}}function getPriorVoters({buf:o,idx:e,isEmpty:s}){return s?[]:[...o.slice(e+1).map(parsePriorVoters),...o.slice(0,e).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(o,e){const s=e===!1?"http":"https";if(!o)return endpoint[s].devnet;const a=endpoint[s][o];if(!a)throw new Error(`Unknown ${s} cluster: ${o}`);return a}async function sendAndConfirmRawTransaction$1(o,e,s,a){let c,d;s&&Object.prototype.hasOwnProperty.call(s,"lastValidBlockHeight")||s&&Object.prototype.hasOwnProperty.call(s,"nonceValue")?(c=s,d=a):d=s;const h=d&&{skipPreflight:d.skipPreflight,preflightCommitment:d.preflightCommitment||d.commitment,minContextSlot:d.minContextSlot},_=await o.sendRawTransaction(e,h),b=d&&d.commitment,j=(await(c?o.confirmTransaction(c,b):o.confirmTransaction(_,b))).value;if(j.err)throw _!=null?new SendTransactionError({action:h!=null&&h.skipPreflight?"send":"simulate",signature:_,transactionMessage:`Status: (${JSON.stringify(j)})`}):new Error(`Raw transaction ${_} failed (${JSON.stringify(j)})`);return _}const LAMPORTS_PER_SOL=1e9,index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct:Struct$1,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,TransactionStatus,VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$1,sendAndConfirmTransaction},Symbol.toStringTag,{value:"Module"})),TOKEN_PROGRAM_ID$1=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new PublicKey("So11111111111111111111111111111111111111112");new PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const encodeDecode=o=>{const e=o.decode.bind(o),s=o.encode.bind(o);return{decode:e,encode:s}},bigInt=o=>e=>{const s=blob$1(o,e),{encode:a,decode:c}=encodeDecode(s),d=s;return d.decode=(h,_)=>{const b=c(h,_);return toBigIntLE_1(Buffer.from(b))},d.encode=(h,_,b)=>{const $=toBufferLE_1(h,o);return a($,_,b)},d},u64$1=bigInt(8),bool=o=>{const e=u8$1(o),{encode:s,decode:a}=encodeDecode(e),c=e;return c.decode=(d,h)=>!!a(d,h),c.encode=(d,h,_)=>{const b=Number(d);return s(b,h,_)},c},publicKey$3=o=>{const e=blob$1(32,o),{encode:s,decode:a}=encodeDecode(e),c=e;return c.decode=(d,h)=>{const _=a(d,h);return new PublicKey(_)},c.encode=(d,h,_)=>{const b=d.toBuffer();return s(b,h,_)},c};class TokenError extends Error{constructor(e){super(e)}}class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const MintLayout=struct$1([u32$1("mintAuthorityOption"),publicKey$3("mintAuthority"),u64$1("supply"),u8$1("decimals"),bool("isInitialized"),u32$1("freezeAuthorityOption"),publicKey$3("freezeAuthority")]);MintLayout.span;async function getAssociatedTokenAddress(o,e,s=!1,a=TOKEN_PROGRAM_ID$1,c=ASSOCIATED_TOKEN_PROGRAM_ID){if(!s&&!PublicKey.isOnCurve(e.toBuffer()))throw new TokenOwnerOffCurveError;const[d]=await PublicKey.findProgramAddress([e.toBuffer(),a.toBuffer(),o.toBuffer()],c);return d}function createAssociatedTokenAccountInstruction(o,e,s,a,c=TOKEN_PROGRAM_ID$1,d=ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(o,e,s,a,Buffer.alloc(0),c,d)}function buildAssociatedTokenAccountInstruction(o,e,s,a,c,d=TOKEN_PROGRAM_ID$1,h=ASSOCIATED_TOKEN_PROGRAM_ID){const _=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:_,programId:h,data:c})}const DEATH_STAKING_PROGRAM_ID=new PublicKey("EMmqYXyEiJuBqSQFkpsXJLPPZVj6LbiaThEyMNgrYzXD");new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");const DEATH_MINT=new PublicKey("FXe6Wq53sNFHQkibdQQmFQQAe6jET4kfrJskdvjJvF8N"),NETWORK_ENDPOINT="https://api.devnet.solana.com",TIER_LEVELS={REAPER_I:1e3,REAPER_II:5e3,REAPER_III:1e4,REAPER_IV:5e4,REAPER_V:1e5},global$1=globalThis||void 0||self;var toByteArray_1=toByteArray,fromByteArray_1=fromByteArray,lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(o){var e=o.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=o.indexOf("=");s===-1&&(s=e);var a=s===e?0:4-s%4;return[s,a]}function _byteLength(o,e,s){return(e+s)*3/4-s}function toByteArray(o){var e,s=getLens(o),a=s[0],c=s[1],d=new Arr(_byteLength(o,a,c)),h=0,_=c>0?a-4:a,b;for(b=0;b<_;b+=4)e=revLookup[o.charCodeAt(b)]<<18|revLookup[o.charCodeAt(b+1)]<<12|revLookup[o.charCodeAt(b+2)]<<6|revLookup[o.charCodeAt(b+3)],d[h++]=e>>16&255,d[h++]=e>>8&255,d[h++]=e&255;return c===2&&(e=revLookup[o.charCodeAt(b)]<<2|revLookup[o.charCodeAt(b+1)]>>4,d[h++]=e&255),c===1&&(e=revLookup[o.charCodeAt(b)]<<10|revLookup[o.charCodeAt(b+1)]<<4|revLookup[o.charCodeAt(b+2)]>>2,d[h++]=e>>8&255,d[h++]=e&255),d}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[o&63]}function encodeChunk(o,e,s){for(var a,c=[],d=e;d<s;d+=3)a=(o[d]<<16&16711680)+(o[d+1]<<8&65280)+(o[d+2]&255),c.push(tripletToBase64(a));return c.join("")}function fromByteArray(o){for(var e,s=o.length,a=s%3,c=[],d=16383,h=0,_=s-a;h<_;h+=d)c.push(encodeChunk(o,h,h+d>_?_:h+d));return a===1?(e=o[s-1],c.push(lookup[e>>2]+lookup[e<<4&63]+"==")):a===2&&(e=(o[s-2]<<8)+o[s-1],c.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),c.join("")}var camelcase={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase=(o,e,s)=>{let a=!1,c=!1,d=!1;for(let h=0;h<o.length;h++){const _=o[h];a&&UPPERCASE.test(_)?(o=o.slice(0,h)+"-"+o.slice(h),a=!1,d=c,c=!0,h++):c&&d&&LOWERCASE.test(_)?(o=o.slice(0,h-1)+"-"+o.slice(h-1),d=c,c=!1,a=!0):(a=e(_)===_&&s(_)!==_,d=c,c=s(_)===_&&e(_)!==_)}return o},preserveConsecutiveUppercase=(o,e)=>(LEADING_CAPITAL.lastIndex=0,o.replace(LEADING_CAPITAL,s=>e(s))),postProcess=(o,e)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,o.replace(SEPARATORS_AND_IDENTIFIER,(s,a)=>e(a)).replace(NUMBERS_AND_IDENTIFIER,s=>e(s))),camelCase=(o,e)=>{if(!(typeof o=="string"||Array.isArray(o)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(o)?o=o.map(d=>d.trim()).filter(d=>d.length).join("-"):o=o.trim(),o.length===0)return"";const s=e.locale===!1?d=>d.toLowerCase():d=>d.toLocaleLowerCase(e.locale),a=e.locale===!1?d=>d.toUpperCase():d=>d.toLocaleUpperCase(e.locale);return o.length===1?e.pascalCase?a(o):s(o):(o!==s(o)&&(o=preserveCamelCase(o,s,a)),o=o.replace(LEADING_SEPARATORS,""),e.preserveConsecutiveUppercase?o=preserveConsecutiveUppercase(o,s):o=s(o),e.pascalCase&&(o=a(o.charAt(0))+o.slice(1)),postProcess(o,a))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var camelcaseExports=camelcase.exports;const camelCase$1=getDefaultExportFromCjs$2(camelcaseExports);function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var browser={exports:{}},process=browser.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(o){if(cachedSetTimeout===setTimeout)return setTimeout(o,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(o,0);try{return cachedSetTimeout(o,0)}catch{try{return cachedSetTimeout.call(null,o,0)}catch{return cachedSetTimeout.call(this,o,0)}}}function runClearTimeout(o){if(cachedClearTimeout===clearTimeout)return clearTimeout(o);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(o);try{return cachedClearTimeout(o)}catch{try{return cachedClearTimeout.call(null,o)}catch{return cachedClearTimeout.call(this,o)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var o=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(o)}}process.nextTick=function(o){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];queue.push(new Item(o,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(o,e){this.fun=o,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(o){return[]};process.binding=function(o){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(o){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser.exports;const process$1=getDefaultExportFromCjs(browserExports);var sha256={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(o){return typeof o=="object"&&o.buffer&&o.buffer.constructor===ArrayBuffer});var createOutputMethod=function(o,e){return function(s){return new Sha256(e,!0).update(s)[o]()}},createMethod=function(o){var e=createOutputMethod("hex",o);NODE_JS&&(e=nodeWrap(e,o)),e.create=function(){return new Sha256(o)},e.update=function(c){return e.create().update(c)};for(var s=0;s<OUTPUT_TYPES.length;++s){var a=OUTPUT_TYPES[s];e[a]=createOutputMethod(a,o)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(o){if(typeof o=="string")return crypto.createHash(algorithm).update(o,"utf8").digest("hex");if(o==null)throw new Error(ERROR);return o.constructor===ArrayBuffer&&(o=new Uint8Array(o)),Array.isArray(o)||ArrayBuffer.isView(o)||o.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(o)).digest("hex"):method(o)};return nodeMethod},createHmacOutputMethod=function(o,e){return function(s,a){return new HmacSha256(s,e,!0).update(a)[o]()}},createHmacMethod=function(o){var e=createHmacOutputMethod("hex",o);e.create=function(c){return new HmacSha256(c,o)},e.update=function(c,d){return e.create(c).update(d)};for(var s=0;s<OUTPUT_TYPES.length;++s){var a=OUTPUT_TYPES[s];e[a]=createHmacOutputMethod(a,o)}return e};function Sha256(o,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=o}Sha256.prototype.update=function(o){if(!this.finalized){var e,s=typeof o;if(s!=="string"){if(s==="object"){if(o===null)throw new Error(ERROR);if(ARRAY_BUFFER&&o.constructor===ArrayBuffer)o=new Uint8Array(o);else if(!Array.isArray(o)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(o)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var a,c=0,d,h=o.length,_=this.blocks;c<h;){if(this.hashed&&(this.hashed=!1,_[0]=this.block,_[16]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=0),e)for(d=this.start;c<h&&d<64;++c)_[d>>2]|=o[c]<<SHIFT[d++&3];else for(d=this.start;c<h&&d<64;++c)a=o.charCodeAt(c),a<128?_[d>>2]|=a<<SHIFT[d++&3]:a<2048?(_[d>>2]|=(192|a>>6)<<SHIFT[d++&3],_[d>>2]|=(128|a&63)<<SHIFT[d++&3]):a<55296||a>=57344?(_[d>>2]|=(224|a>>12)<<SHIFT[d++&3],_[d>>2]|=(128|a>>6&63)<<SHIFT[d++&3],_[d>>2]|=(128|a&63)<<SHIFT[d++&3]):(a=65536+((a&1023)<<10|o.charCodeAt(++c)&1023),_[d>>2]|=(240|a>>18)<<SHIFT[d++&3],_[d>>2]|=(128|a>>12&63)<<SHIFT[d++&3],_[d>>2]|=(128|a>>6&63)<<SHIFT[d++&3],_[d>>2]|=(128|a&63)<<SHIFT[d++&3]);this.lastByteIndex=d,this.bytes+=d-this.start,d>=64?(this.block=_[16],this.start=d-64,this.hash(),this.hashed=!0):this.start=d}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var o=this.blocks,e=this.lastByteIndex;o[16]=this.block,o[e>>2]|=EXTRA[e&3],this.block=o[16],e>=56&&(this.hashed||this.hash(),o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),o[14]=this.hBytes<<3|this.bytes>>>29,o[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var o=this.h0,e=this.h1,s=this.h2,a=this.h3,c=this.h4,d=this.h5,h=this.h6,_=this.h7,b=this.blocks,$,j,rt,it,ot,ht,bt,pt,dt,lt,at;for($=16;$<64;++$)ot=b[$-15],j=(ot>>>7|ot<<25)^(ot>>>18|ot<<14)^ot>>>3,ot=b[$-2],rt=(ot>>>17|ot<<15)^(ot>>>19|ot<<13)^ot>>>10,b[$]=b[$-16]+j+b[$-7]+rt<<0;for(at=e&s,$=0;$<64;$+=4)this.first?(this.is224?(pt=300032,ot=b[0]-1413257819,_=ot-150054599<<0,a=ot+24177077<<0):(pt=704751109,ot=b[0]-210244248,_=ot-1521486534<<0,a=ot+143694565<<0),this.first=!1):(j=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),rt=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),pt=o&e,it=pt^o&s^at,bt=c&d^~c&h,ot=_+rt+bt+K[$]+b[$],ht=j+it,_=a+ot<<0,a=ot+ht<<0),j=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),rt=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7),dt=a&o,it=dt^a&e^pt,bt=_&c^~_&d,ot=h+rt+bt+K[$+1]+b[$+1],ht=j+it,h=s+ot<<0,s=ot+ht<<0,j=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),rt=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),lt=s&a,it=lt^s&o^dt,bt=h&_^~h&c,ot=d+rt+bt+K[$+2]+b[$+2],ht=j+it,d=e+ot<<0,e=ot+ht<<0,j=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),rt=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),at=e&s,it=at^e&a^lt,bt=d&h^~d&_,ot=c+rt+bt+K[$+3]+b[$+3],ht=j+it,c=o+ot<<0,o=ot+ht<<0;this.h0=this.h0+o<<0,this.h1=this.h1+e<<0,this.h2=this.h2+s<<0,this.h3=this.h3+a<<0,this.h4=this.h4+c<<0,this.h5=this.h5+d<<0,this.h6=this.h6+h<<0,this.h7=this.h7+_<<0},Sha256.prototype.hex=function(){this.finalize();var o=this.h0,e=this.h1,s=this.h2,a=this.h3,c=this.h4,d=this.h5,h=this.h6,_=this.h7,b=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[h&15];return this.is224||(b+=HEX_CHARS[_>>28&15]+HEX_CHARS[_>>24&15]+HEX_CHARS[_>>20&15]+HEX_CHARS[_>>16&15]+HEX_CHARS[_>>12&15]+HEX_CHARS[_>>8&15]+HEX_CHARS[_>>4&15]+HEX_CHARS[_&15]),b},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var o=this.h0,e=this.h1,s=this.h2,a=this.h3,c=this.h4,d=this.h5,h=this.h6,_=this.h7,b=[o>>24&255,o>>16&255,o>>8&255,o&255,e>>24&255,e>>16&255,e>>8&255,e&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255,c>>24&255,c>>16&255,c>>8&255,c&255,d>>24&255,d>>16&255,d>>8&255,d&255,h>>24&255,h>>16&255,h>>8&255,h&255];return this.is224||b.push(_>>24&255,_>>16&255,_>>8&255,_&255),b},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var o=new ArrayBuffer(this.is224?28:32),e=new DataView(o);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),o};function HmacSha256(o,e,s){var a,c=typeof o;if(c==="string"){var d=[],h=o.length,_=0,b;for(a=0;a<h;++a)b=o.charCodeAt(a),b<128?d[_++]=b:b<2048?(d[_++]=192|b>>6,d[_++]=128|b&63):b<55296||b>=57344?(d[_++]=224|b>>12,d[_++]=128|b>>6&63,d[_++]=128|b&63):(b=65536+((b&1023)<<10|o.charCodeAt(++a)&1023),d[_++]=240|b>>18,d[_++]=128|b>>12&63,d[_++]=128|b>>6&63,d[_++]=128|b&63);o=d}else if(c==="object"){if(o===null)throw new Error(ERROR);if(ARRAY_BUFFER&&o.constructor===ArrayBuffer)o=new Uint8Array(o);else if(!Array.isArray(o)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(o)))throw new Error(ERROR)}else throw new Error(ERROR);o.length>64&&(o=new Sha256(e,!0).update(o).array());var $=[],j=[];for(a=0;a<64;++a){var rt=o[a]||0;$[a]=92^rt,j[a]=54^rt}Sha256.call(this,e,s),this.update(j),this.oKeyPad=$,this.inner=!0,this.sharedMemory=s}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var o=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(o),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var sha256Exports=sha256.exports,dist={},Layout$2={};let Layout$1=class{constructor(e,s){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=s}makeDestinationObject(){return{}}decode(e,s){throw new Error("Layout is abstract")}encode(e,s,a){throw new Error("Layout is abstract")}getSpan(e,s){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const s=Object.create(this.constructor.prototype);return Object.assign(s,this),s.property=e,s}fromArray(e){}};Layout$2.Layout=Layout$1;function nameWithProperty$1(o,e){return e.property?o+"["+e.property+"]":o}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(o,e){if(typeof o!="function")throw new TypeError("Class must be constructor");if(o.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");o.layout_=e,e.boundConstructor_=o,e.makeDestinationObject=()=>new o,Object.defineProperty(o.prototype,"encode",{value:function(s,a){return e.encode(this,s,a)},writable:!0}),Object.defineProperty(o,"decode",{value:function(s,a){return e.decode(s,a)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;let ExternalLayout$1=class extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}};class GreedyCount extends ExternalLayout$1{constructor(e,s){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,s),this.elementSpan=e}isCount(){return!0}decode(e,s){s===void 0&&(s=0);const a=e.length-s;return Math.floor(a/this.elementSpan)}encode(e,s,a){return 0}}let OffsetLayout$1=class extends ExternalLayout$1{constructor(e,s,a){if(!(e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(s===void 0)s=0;else if(!Number.isInteger(s))throw new TypeError("offset must be integer or undefined");super(e.span,a||e.property),this.layout=e,this.offset=s}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE$1}decode(e,s){return s===void 0&&(s=0),this.layout.decode(e,s+this.offset)}encode(e,s,a){return a===void 0&&(a=0),this.layout.encode(e,s,a+this.offset)}},UInt$1=class extends Layout$1{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s){return s===void 0&&(s=0),e.readUIntLE(s,this.span)}encode(e,s,a){return a===void 0&&(a=0),s.writeUIntLE(e,a,this.span),this.span}},UIntBE$1=class extends Layout$1{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s){return s===void 0&&(s=0),e.readUIntBE(s,this.span)}encode(e,s,a){return a===void 0&&(a=0),s.writeUIntBE(e,a,this.span),this.span}};class Int extends Layout$1{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s){return s===void 0&&(s=0),e.readIntLE(s,this.span)}encode(e,s,a){return a===void 0&&(a=0),s.writeIntLE(e,a,this.span),this.span}}class IntBE extends Layout$1{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s){return s===void 0&&(s=0),e.readIntBE(s,this.span)}encode(e,s,a){return a===void 0&&(a=0),s.writeIntBE(e,a,this.span),this.span}}const V2E32$1=Math.pow(2,32);function divmodInt64$1(o){const e=Math.floor(o/V2E32$1),s=o-e*V2E32$1;return{hi32:e,lo32:s}}function roundedInt64$1(o,e){return o*V2E32$1+e}let NearUInt64$1=class extends Layout$1{constructor(e){super(8,e)}decode(e,s){s===void 0&&(s=0);const a=e.readUInt32LE(s),c=e.readUInt32LE(s+4);return roundedInt64$1(c,a)}encode(e,s,a){a===void 0&&(a=0);const c=divmodInt64$1(e);return s.writeUInt32LE(c.lo32,a),s.writeUInt32LE(c.hi32,a+4),8}};class NearUInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,s){s===void 0&&(s=0);const a=e.readUInt32BE(s),c=e.readUInt32BE(s+4);return roundedInt64$1(a,c)}encode(e,s,a){a===void 0&&(a=0);const c=divmodInt64$1(e);return s.writeUInt32BE(c.hi32,a),s.writeUInt32BE(c.lo32,a+4),8}}let NearInt64$1=class extends Layout$1{constructor(e){super(8,e)}decode(e,s){s===void 0&&(s=0);const a=e.readUInt32LE(s),c=e.readInt32LE(s+4);return roundedInt64$1(c,a)}encode(e,s,a){a===void 0&&(a=0);const c=divmodInt64$1(e);return s.writeUInt32LE(c.lo32,a),s.writeInt32LE(c.hi32,a+4),8}};class NearInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,s){s===void 0&&(s=0);const a=e.readInt32BE(s),c=e.readUInt32BE(s+4);return roundedInt64$1(a,c)}encode(e,s,a){a===void 0&&(a=0);const c=divmodInt64$1(e);return s.writeInt32BE(c.hi32,a),s.writeUInt32BE(c.lo32,a+4),8}}class Float extends Layout$1{constructor(e){super(4,e)}decode(e,s){return s===void 0&&(s=0),e.readFloatLE(s)}encode(e,s,a){return a===void 0&&(a=0),s.writeFloatLE(e,a),4}}class FloatBE extends Layout$1{constructor(e){super(4,e)}decode(e,s){return s===void 0&&(s=0),e.readFloatBE(s)}encode(e,s,a){return a===void 0&&(a=0),s.writeFloatBE(e,a),4}}class Double extends Layout$1{constructor(e){super(8,e)}decode(e,s){return s===void 0&&(s=0),e.readDoubleLE(s)}encode(e,s,a){return a===void 0&&(a=0),s.writeDoubleLE(e,a),8}}class DoubleBE extends Layout$1{constructor(e){super(8,e)}decode(e,s){return s===void 0&&(s=0),e.readDoubleBE(s)}encode(e,s,a){return a===void 0&&(a=0),s.writeDoubleBE(e,a),8}}class Sequence extends Layout$1{constructor(e,s,a){if(!(e instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(s instanceof ExternalLayout$1&&s.isCount()||Number.isInteger(s)&&0<=s))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let c=-1;!(s instanceof ExternalLayout$1)&&0<e.span&&(c=s*e.span),super(c,a),this.elementLayout=e,this.count=s}getSpan(e,s){if(0<=this.span)return this.span;s===void 0&&(s=0);let a=0,c=this.count;if(c instanceof ExternalLayout$1&&(c=c.decode(e,s)),0<this.elementLayout.span)a=c*this.elementLayout.span;else{let d=0;for(;d<c;)a+=this.elementLayout.getSpan(e,s+a),++d}return a}decode(e,s){s===void 0&&(s=0);const a=[];let c=0,d=this.count;for(d instanceof ExternalLayout$1&&(d=d.decode(e,s));c<d;)a.push(this.elementLayout.decode(e,s)),s+=this.elementLayout.getSpan(e,s),c+=1;return a}encode(e,s,a){a===void 0&&(a=0);const c=this.elementLayout,d=e.reduce((h,_)=>h+c.encode(_,s,a+h),0);return this.count instanceof ExternalLayout$1&&this.count.encode(e.length,s,a),d}}let Structure$1=class extends Layout$1{constructor(e,s,a){if(!(Array.isArray(e)&&e.reduce((d,h)=>d&&h instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof s=="boolean"&&a===void 0&&(a=s,s=void 0);for(const d of e)if(0>d.span&&d.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let c=-1;try{c=e.reduce((d,h)=>d+h.getSpan(),0)}catch{}super(c,s),this.fields=e,this.decodePrefixes=!!a}getSpan(e,s){if(0<=this.span)return this.span;s===void 0&&(s=0);let a=0;try{a=this.fields.reduce((c,d)=>{const h=d.getSpan(e,s);return s+=h,c+h},0)}catch{throw new RangeError("indeterminate span")}return a}decode(e,s){s===void 0&&(s=0);const a=this.makeDestinationObject();for(const c of this.fields)if(c.property!==void 0&&(a[c.property]=c.decode(e,s)),s+=c.getSpan(e,s),this.decodePrefixes&&e.length===s)break;return a}encode(e,s,a){a===void 0&&(a=0);const c=a;let d=0,h=0;for(const _ of this.fields){let b=_.span;if(h=0<b?b:0,_.property!==void 0){const $=e[_.property];$!==void 0&&(h=_.encode($,s,a),0>b&&(b=_.getSpan(s,a)))}d=a,a+=b}return d+h-c}fromArray(e){const s=this.makeDestinationObject();for(const a of this.fields)a.property!==void 0&&0<e.length&&(s[a.property]=e.shift());return s}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const s of this.fields)if(s.property===e)return s}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let s=0;for(const a of this.fields){if(a.property===e)return s;0>a.span?s=-1:0<=s&&(s+=a.span)}}},UnionDiscriminator$1=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},UnionLayoutDiscriminator$1=class extends UnionDiscriminator$1{constructor(e,s){if(!(e instanceof ExternalLayout$1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(s||e.property||"variant"),this.layout=e}decode(e,s){return this.layout.decode(e,s)}encode(e,s,a){return this.layout.encode(e,s,a)}},Union$1=class extends Layout$1{constructor(e,s,a){const c=e instanceof UInt$1||e instanceof UIntBE$1;if(c)e=new UnionLayoutDiscriminator$1(new OffsetLayout$1(e));else if(e instanceof ExternalLayout$1&&e.isCount())e=new UnionLayoutDiscriminator$1(e);else if(!(e instanceof UnionDiscriminator$1))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(s===void 0&&(s=null),!(s===null||s instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(s!==null){if(0>s.span)throw new Error("defaultLayout must have constant span");s.property===void 0&&(s=s.replicate("content"))}let d=-1;s&&(d=s.span,0<=d&&c&&(d+=e.layout.span)),super(d,a),this.discriminator=e,this.usesPrefixDiscriminator=c,this.defaultLayout=s,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(_){return h(_)},this.configGetSourceVariant=function(_){h=_.bind(this)}}getSpan(e,s){if(0<=this.span)return this.span;s===void 0&&(s=0);const a=this.getVariant(e,s);if(!a)throw new Error("unable to determine span for unrecognized variant");return a.getSpan(e,s)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const s=this.registry[e[this.discriminator.property]];if(s&&(!s.layout||e.hasOwnProperty(s.property)))return s}else for(const s in this.registry){const a=this.registry[s];if(e.hasOwnProperty(a.property))return a}throw new Error("unable to infer src variant")}decode(e,s){s===void 0&&(s=0);let a;const c=this.discriminator,d=c.decode(e,s);let h=this.registry[d];if(h===void 0){let _=0;h=this.defaultLayout,this.usesPrefixDiscriminator&&(_=c.layout.span),a=this.makeDestinationObject(),a[c.property]=d,a[h.property]=this.defaultLayout.decode(e,s+_)}else a=h.decode(e,s);return a}encode(e,s,a){a===void 0&&(a=0);const c=this.getSourceVariant(e);if(c===void 0){const d=this.discriminator,h=this.defaultLayout;let _=0;return this.usesPrefixDiscriminator&&(_=d.layout.span),d.encode(e[d.property],s,a),_+h.encode(e[h.property],s,a+_)}return c.encode(e,s,a)}addVariant(e,s,a){const c=new VariantLayout$1(this,e,s,a);return this.registry[e]=c,c}getVariant(e,s){let a=e;return Buffer.isBuffer(e)&&(s===void 0&&(s=0),a=this.discriminator.decode(e,s)),this.registry[a]}},VariantLayout$1=class extends Layout$1{constructor(e,s,a,c){if(!(e instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(s)||0>s)throw new TypeError("variant must be a (non-negative) integer");if(typeof a=="string"&&c===void 0&&(c=a,a=null),a){if(!(a instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=a.span&&a.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof c!="string")throw new TypeError("variant must have a String property")}let d=e.span;0>e.span&&(d=a?a.span:0,0<=d&&e.usesPrefixDiscriminator&&(d+=e.discriminator.layout.span)),super(d,c),this.union=e,this.variant=s,this.layout=a||null}getSpan(e,s){if(0<=this.span)return this.span;s===void 0&&(s=0);let a=0;return this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),a+this.layout.getSpan(e,s+a)}decode(e,s){const a=this.makeDestinationObject();if(s===void 0&&(s=0),this!==this.union.getVariant(e,s))throw new Error("variant mismatch");let c=0;return this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout?a[this.property]=this.layout.decode(e,s+c):this.property?a[this.property]=!0:this.union.usesPrefixDiscriminator&&(a[this.union.discriminator.property]=this.variant),a}encode(e,s,a){a===void 0&&(a=0);let c=0;if(this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,s,a);let d=c;if(this.layout&&(this.layout.encode(e[this.property],s,a+c),d+=this.layout.getSpan(s,a+c),0<=this.union.span&&d>this.union.span))throw new Error("encoded variant overruns containing union");return d}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function fixBitwiseResult(o){return 0>o&&(o+=4294967296),o}class BitStructure extends Layout$1{constructor(e,s,a){if(!(e instanceof UInt$1||e instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof s=="string"&&a===void 0&&(a=s,s=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,a),this.word=e,this.msb=!!s,this.fields=[];let c=0;this._packedSetValue=function(d){return c=fixBitwiseResult(d),this},this._packedGetValue=function(){return c}}decode(e,s){const a=this.makeDestinationObject();s===void 0&&(s=0);const c=this.word.decode(e,s);this._packedSetValue(c);for(const d of this.fields)d.property!==void 0&&(a[d.property]=d.decode(c));return a}encode(e,s,a){a===void 0&&(a=0);const c=this.word.decode(s,a);this._packedSetValue(c);for(const d of this.fields)if(d.property!==void 0){const h=e[d.property];h!==void 0&&d.encode(h)}return this.word.encode(this._packedGetValue(),s,a)}addField(e,s){const a=new BitField(this,e,s);return this.fields.push(a),a}addBoolean(e){const s=new Boolean$1(this,e);return this.fields.push(s),s}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const s of this.fields)if(s.property===e)return s}}class BitField{constructor(e,s,a){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(s)||0>=s)throw new TypeError("bits must be positive integer");const c=8*e.span,d=e.fields.reduce((h,_)=>h+_.bits,0);if(s+d>c)throw new Error("bits too long for span remainder ("+(c-d)+" of "+c+" remain)");this.container=e,this.bits=s,this.valueMask=(1<<s)-1,s===32&&(this.valueMask=4294967295),this.start=d,this.container.msb&&(this.start=c-d-s),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=a}decode(){const e=this.container._packedGetValue();return fixBitwiseResult(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const s=this.container._packedGetValue(),a=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(s&~this.wordMask)|a)}}let Boolean$1=class extends BitField{constructor(e,s){super(e,1,s)}decode(e,s){return!!BitField.prototype.decode.call(this,e,s)}encode(e){return typeof e=="boolean"&&(e=+e),BitField.prototype.encode.call(this,e)}},Blob$2=class extends Layout$1{constructor(e,s){if(!(e instanceof ExternalLayout$1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let a=-1;e instanceof ExternalLayout$1||(a=e),super(a,s),this.length=e}getSpan(e,s){let a=this.span;return 0>a&&(a=this.length.decode(e,s)),a}decode(e,s){s===void 0&&(s=0);let a=this.span;return 0>a&&(a=this.length.decode(e,s)),e.slice(s,s+a)}encode(e,s,a){let c=this.length;if(this.length instanceof ExternalLayout$1&&(c=e.length),!(Buffer.isBuffer(e)&&c===e.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+c+") Buffer as src");if(a+c>s.length)throw new RangeError("encoding overruns Buffer");return s.write(e.toString("hex"),a,c,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(c,s,a),c}};class CString extends Layout$1{constructor(e){super(-1,e)}getSpan(e,s){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");s===void 0&&(s=0);let a=s;for(;a<e.length&&e[a]!==0;)a+=1;return 1+a-s}decode(e,s,a){s===void 0&&(s=0);let c=this.getSpan(e,s);return e.slice(s,s+c-1).toString("utf-8")}encode(e,s,a){a===void 0&&(a=0),typeof e!="string"&&(e=e.toString());const c=new Buffer(e,"utf8"),d=c.length;if(a+d>s.length)throw new RangeError("encoding overruns Buffer");return c.copy(s,a),s[a+d]=0,d+1}}class UTF8 extends Layout$1{constructor(e,s){if(typeof e=="string"&&s===void 0&&(s=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,s),this.maxSpan=e}getSpan(e,s){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return s===void 0&&(s=0),e.length-s}decode(e,s,a){s===void 0&&(s=0);let c=this.getSpan(e,s);if(0<=this.maxSpan&&this.maxSpan<c)throw new RangeError("text length exceeds maxSpan");return e.slice(s,s+c).toString("utf-8")}encode(e,s,a){a===void 0&&(a=0),typeof e!="string"&&(e=e.toString());const c=new Buffer(e,"utf8"),d=c.length;if(0<=this.maxSpan&&this.maxSpan<d)throw new RangeError("text length exceeds maxSpan");if(a+d>s.length)throw new RangeError("encoding overruns Buffer");return c.copy(s,a),d}}class Constant extends Layout$1{constructor(e,s){super(0,s),this.value=e}decode(e,s,a){return this.value}encode(e,s,a){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout$1;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE$1;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator$1;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;Layout$2.Union=Union$1;Layout$2.VariantLayout=VariantLayout$1;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(o,e)=>new GreedyCount(o,e);Layout$2.offset=(o,e,s)=>new OffsetLayout$1(o,e,s);Layout$2.u8=o=>new UInt$1(1,o);Layout$2.u16=o=>new UInt$1(2,o);Layout$2.u24=o=>new UInt$1(3,o);Layout$2.u32=o=>new UInt$1(4,o);Layout$2.u40=o=>new UInt$1(5,o);Layout$2.u48=o=>new UInt$1(6,o);Layout$2.nu64=o=>new NearUInt64$1(o);Layout$2.u16be=o=>new UIntBE$1(2,o);Layout$2.u24be=o=>new UIntBE$1(3,o);Layout$2.u32be=o=>new UIntBE$1(4,o);Layout$2.u40be=o=>new UIntBE$1(5,o);Layout$2.u48be=o=>new UIntBE$1(6,o);Layout$2.nu64be=o=>new NearUInt64BE(o);Layout$2.s8=o=>new Int(1,o);Layout$2.s16=o=>new Int(2,o);Layout$2.s24=o=>new Int(3,o);Layout$2.s32=o=>new Int(4,o);Layout$2.s40=o=>new Int(5,o);Layout$2.s48=o=>new Int(6,o);Layout$2.ns64=o=>new NearInt64$1(o);Layout$2.s16be=o=>new IntBE(2,o);Layout$2.s24be=o=>new IntBE(3,o);Layout$2.s32be=o=>new IntBE(4,o);Layout$2.s40be=o=>new IntBE(5,o);Layout$2.s48be=o=>new IntBE(6,o);Layout$2.ns64be=o=>new NearInt64BE(o);Layout$2.f32=o=>new Float(o);Layout$2.f32be=o=>new FloatBE(o);Layout$2.f64=o=>new Double(o);Layout$2.f64be=o=>new DoubleBE(o);Layout$2.struct=(o,e,s)=>new Structure$1(o,e,s);Layout$2.bits=(o,e,s)=>new BitStructure(o,e,s);Layout$2.seq=(o,e,s)=>new Sequence(o,e,s);Layout$2.union=(o,e,s)=>new Union$1(o,e,s);Layout$2.unionLayoutDiscriminator=(o,e)=>new UnionLayoutDiscriminator$1(o,e);Layout$2.blob=(o,e)=>new Blob$2(o,e);Layout$2.cstr=o=>new CString(o);Layout$2.utf8=(o,e)=>new UTF8(o,e);Layout$2.const=(o,e)=>new Constant(o,e);const require$$1=getAugmentedNamespace(index_browser_esm);(function(o){var e=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(Ut){return Ut&&Ut.__esModule?Ut:{default:Ut}};Object.defineProperty(o,"__esModule",{value:!0}),o.map=o.array=o.rustEnum=o.str=o.vecU8=o.tagged=o.vec=o.bool=o.option=o.publicKey=o.i256=o.u256=o.i128=o.u128=o.i64=o.u64=o.struct=o.f64=o.f32=o.i32=o.u32=o.i16=o.u16=o.i8=o.u8=void 0;const s=Layout$2,a=require$$1,c=e(bnExports);var d=Layout$2;Object.defineProperty(o,"u8",{enumerable:!0,get:function(){return d.u8}}),Object.defineProperty(o,"i8",{enumerable:!0,get:function(){return d.s8}}),Object.defineProperty(o,"u16",{enumerable:!0,get:function(){return d.u16}}),Object.defineProperty(o,"i16",{enumerable:!0,get:function(){return d.s16}}),Object.defineProperty(o,"u32",{enumerable:!0,get:function(){return d.u32}}),Object.defineProperty(o,"i32",{enumerable:!0,get:function(){return d.s32}}),Object.defineProperty(o,"f32",{enumerable:!0,get:function(){return d.f32}}),Object.defineProperty(o,"f64",{enumerable:!0,get:function(){return d.f64}}),Object.defineProperty(o,"struct",{enumerable:!0,get:function(){return d.struct}});class h extends s.Layout{constructor(Et,_e,tt){super(Et,tt),this.blob=(0,s.blob)(Et),this.signed=_e}decode(Et,_e=0){const tt=new c.default(this.blob.decode(Et,_e),10,"le");return this.signed?tt.fromTwos(this.span*8).clone():tt}encode(Et,_e,tt=0){return this.signed&&(Et=Et.toTwos(this.span*8)),this.blob.encode(Et.toArrayLike(Buffer,"le",this.span),_e,tt)}}function _(Ut){return new h(8,!1,Ut)}o.u64=_;function b(Ut){return new h(8,!0,Ut)}o.i64=b;function $(Ut){return new h(16,!1,Ut)}o.u128=$;function j(Ut){return new h(16,!0,Ut)}o.i128=j;function rt(Ut){return new h(32,!1,Ut)}o.u256=rt;function it(Ut){return new h(32,!0,Ut)}o.i256=it;class ot extends s.Layout{constructor(Et,_e,tt,ct){super(Et.span,ct),this.layout=Et,this.decoder=_e,this.encoder=tt}decode(Et,_e){return this.decoder(this.layout.decode(Et,_e))}encode(Et,_e,tt){return this.layout.encode(this.encoder(Et),_e,tt)}getSpan(Et,_e){return this.layout.getSpan(Et,_e)}}function ht(Ut){return new ot((0,s.blob)(32),Et=>new a.PublicKey(Et),Et=>Et.toBuffer(),Ut)}o.publicKey=ht;class bt extends s.Layout{constructor(Et,_e){super(-1,_e),this.layout=Et,this.discriminator=(0,s.u8)()}encode(Et,_e,tt=0){return Et==null?this.discriminator.encode(0,_e,tt):(this.discriminator.encode(1,_e,tt),this.layout.encode(Et,_e,tt+1)+1)}decode(Et,_e=0){const tt=this.discriminator.decode(Et,_e);if(tt===0)return null;if(tt===1)return this.layout.decode(Et,_e+1);throw new Error("Invalid option "+this.property)}getSpan(Et,_e=0){const tt=this.discriminator.decode(Et,_e);if(tt===0)return 1;if(tt===1)return this.layout.getSpan(Et,_e+1)+1;throw new Error("Invalid option "+this.property)}}function pt(Ut,Et){return new bt(Ut,Et)}o.option=pt;function dt(Ut){return new ot((0,s.u8)(),lt,at,Ut)}o.bool=dt;function lt(Ut){if(Ut===0)return!1;if(Ut===1)return!0;throw new Error("Invalid bool: "+Ut)}function at(Ut){return Ut?1:0}function xt(Ut,Et){const _e=(0,s.u32)("length"),tt=(0,s.struct)([_e,(0,s.seq)(Ut,(0,s.offset)(_e,-_e.span),"values")]);return new ot(tt,({values:ct})=>ct,ct=>({values:ct}),Et)}o.vec=xt;function Rt(Ut,Et,_e){const tt=(0,s.struct)([_("tag"),Et.replicate("data")]);function ct({tag:mt,data:yt}){if(!mt.eq(Ut))throw new Error("Invalid tag, expected: "+Ut.toString("hex")+", got: "+mt.toString("hex"));return yt}return new ot(tt,ct,mt=>({tag:Ut,data:mt}),_e)}o.tagged=Rt;function Tt(Ut){const Et=(0,s.u32)("length"),_e=(0,s.struct)([Et,(0,s.blob)((0,s.offset)(Et,-Et.span),"data")]);return new ot(_e,({data:tt})=>tt,tt=>({data:tt}),Ut)}o.vecU8=Tt;function It(Ut){return new ot(Tt(),Et=>Et.toString("utf-8"),Et=>Buffer.from(Et,"utf-8"),Ut)}o.str=It;function Bt(Ut,Et,_e){const tt=(0,s.union)(_e??(0,s.u8)(),Et);return Ut.forEach((ct,mt)=>tt.addVariant(mt,ct,ct.property)),tt}o.rustEnum=Bt;function Pt(Ut,Et,_e){const tt=(0,s.struct)([(0,s.seq)(Ut,Et,"values")]);return new ot(tt,({values:ct})=>ct,ct=>({values:ct}),_e)}o.array=Pt;class zt extends s.Layout{constructor(Et,_e,tt){super(Et.span+_e.span,tt),this.keyLayout=Et,this.valueLayout=_e}decode(Et,_e){_e=_e||0;const tt=this.keyLayout.decode(Et,_e),ct=this.valueLayout.decode(Et,_e+this.keyLayout.getSpan(Et,_e));return[tt,ct]}encode(Et,_e,tt){tt=tt||0;const ct=this.keyLayout.encode(Et[0],_e,tt),mt=this.valueLayout.encode(Et[1],_e,tt+ct);return ct+mt}getSpan(Et,_e){return this.keyLayout.getSpan(Et,_e)+this.valueLayout.getSpan(Et,_e)}}function Ht(Ut,Et,_e){const tt=(0,s.u32)("length"),ct=(0,s.struct)([tt,(0,s.seq)(new zt(Ut,Et),(0,s.offset)(tt,-tt.span),"values")]);return new ot(ct,({values:mt})=>new Map(mt),mt=>({values:Array.from(mt.entries())}),_e)}o.map=Ht})(dist);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(o){let e=o.length;for(;--e>=0;)o[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(o,e,s,a,c){this.static_tree=o,this.extra_bits=e,this.extra_base=s,this.elems=a,this.max_length=c,this.has_stree=o&&o.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(o,e){this.dyn_tree=o,this.max_code=0,this.stat_desc=e}const d_code=o=>o<256?_dist_code[o]:_dist_code[256+(o>>>7)],put_short=(o,e)=>{o.pending_buf[o.pending++]=e&255,o.pending_buf[o.pending++]=e>>>8&255},send_bits=(o,e,s)=>{o.bi_valid>Buf_size-s?(o.bi_buf|=e<<o.bi_valid&65535,put_short(o,o.bi_buf),o.bi_buf=e>>Buf_size-o.bi_valid,o.bi_valid+=s-Buf_size):(o.bi_buf|=e<<o.bi_valid&65535,o.bi_valid+=s)},send_code=(o,e,s)=>{send_bits(o,s[e*2],s[e*2+1])},bi_reverse=(o,e)=>{let s=0;do s|=o&1,o>>>=1,s<<=1;while(--e>0);return s>>>1},bi_flush=o=>{o.bi_valid===16?(put_short(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=o.bi_buf&255,o.bi_buf>>=8,o.bi_valid-=8)},gen_bitlen=(o,e)=>{const s=e.dyn_tree,a=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,_=e.stat_desc.extra_base,b=e.stat_desc.max_length;let $,j,rt,it,ot,ht,bt=0;for(it=0;it<=MAX_BITS$1;it++)o.bl_count[it]=0;for(s[o.heap[o.heap_max]*2+1]=0,$=o.heap_max+1;$<HEAP_SIZE$1;$++)j=o.heap[$],it=s[s[j*2+1]*2+1]+1,it>b&&(it=b,bt++),s[j*2+1]=it,!(j>a)&&(o.bl_count[it]++,ot=0,j>=_&&(ot=h[j-_]),ht=s[j*2],o.opt_len+=ht*(it+ot),d&&(o.static_len+=ht*(c[j*2+1]+ot)));if(bt!==0){do{for(it=b-1;o.bl_count[it]===0;)it--;o.bl_count[it]--,o.bl_count[it+1]+=2,o.bl_count[b]--,bt-=2}while(bt>0);for(it=b;it!==0;it--)for(j=o.bl_count[it];j!==0;)rt=o.heap[--$],!(rt>a)&&(s[rt*2+1]!==it&&(o.opt_len+=(it-s[rt*2+1])*s[rt*2],s[rt*2+1]=it),j--)}},gen_codes=(o,e,s)=>{const a=new Array(MAX_BITS$1+1);let c=0,d,h;for(d=1;d<=MAX_BITS$1;d++)c=c+s[d-1]<<1,a[d]=c;for(h=0;h<=e;h++){let _=o[h*2+1];_!==0&&(o[h*2]=bi_reverse(a[_]++,_))}},tr_static_init=()=>{let o,e,s,a,c;const d=new Array(MAX_BITS$1+1);for(s=0,a=0;a<LENGTH_CODES$1-1;a++)for(base_length[a]=s,o=0;o<1<<extra_lbits[a];o++)_length_code[s++]=a;for(_length_code[s-1]=a,c=0,a=0;a<16;a++)for(base_dist[a]=c,o=0;o<1<<extra_dbits[a];o++)_dist_code[c++]=a;for(c>>=7;a<D_CODES$1;a++)for(base_dist[a]=c<<7,o=0;o<1<<extra_dbits[a]-7;o++)_dist_code[256+c++]=a;for(e=0;e<=MAX_BITS$1;e++)d[e]=0;for(o=0;o<=143;)static_ltree[o*2+1]=8,o++,d[8]++;for(;o<=255;)static_ltree[o*2+1]=9,o++,d[9]++;for(;o<=279;)static_ltree[o*2+1]=7,o++,d[7]++;for(;o<=287;)static_ltree[o*2+1]=8,o++,d[8]++;for(gen_codes(static_ltree,L_CODES$1+1,d),o=0;o<D_CODES$1;o++)static_dtree[o*2+1]=5,static_dtree[o*2]=bi_reverse(o,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=o=>{let e;for(e=0;e<L_CODES$1;e++)o.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)o.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)o.bl_tree[e*2]=0;o.dyn_ltree[END_BLOCK*2]=1,o.opt_len=o.static_len=0,o.sym_next=o.matches=0},bi_windup=o=>{o.bi_valid>8?put_short(o,o.bi_buf):o.bi_valid>0&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0},smaller=(o,e,s,a)=>{const c=e*2,d=s*2;return o[c]<o[d]||o[c]===o[d]&&a[e]<=a[s]},pqdownheap=(o,e,s)=>{const a=o.heap[s];let c=s<<1;for(;c<=o.heap_len&&(c<o.heap_len&&smaller(e,o.heap[c+1],o.heap[c],o.depth)&&c++,!smaller(e,a,o.heap[c],o.depth));)o.heap[s]=o.heap[c],s=c,c<<=1;o.heap[s]=a},compress_block=(o,e,s)=>{let a,c,d=0,h,_;if(o.sym_next!==0)do a=o.pending_buf[o.sym_buf+d++]&255,a+=(o.pending_buf[o.sym_buf+d++]&255)<<8,c=o.pending_buf[o.sym_buf+d++],a===0?send_code(o,c,e):(h=_length_code[c],send_code(o,h+LITERALS$1+1,e),_=extra_lbits[h],_!==0&&(c-=base_length[h],send_bits(o,c,_)),a--,h=d_code(a),send_code(o,h,s),_=extra_dbits[h],_!==0&&(a-=base_dist[h],send_bits(o,a,_)));while(d<o.sym_next);send_code(o,END_BLOCK,e)},build_tree=(o,e)=>{const s=e.dyn_tree,a=e.stat_desc.static_tree,c=e.stat_desc.has_stree,d=e.stat_desc.elems;let h,_,b=-1,$;for(o.heap_len=0,o.heap_max=HEAP_SIZE$1,h=0;h<d;h++)s[h*2]!==0?(o.heap[++o.heap_len]=b=h,o.depth[h]=0):s[h*2+1]=0;for(;o.heap_len<2;)$=o.heap[++o.heap_len]=b<2?++b:0,s[$*2]=1,o.depth[$]=0,o.opt_len--,c&&(o.static_len-=a[$*2+1]);for(e.max_code=b,h=o.heap_len>>1;h>=1;h--)pqdownheap(o,s,h);$=d;do h=o.heap[1],o.heap[1]=o.heap[o.heap_len--],pqdownheap(o,s,1),_=o.heap[1],o.heap[--o.heap_max]=h,o.heap[--o.heap_max]=_,s[$*2]=s[h*2]+s[_*2],o.depth[$]=(o.depth[h]>=o.depth[_]?o.depth[h]:o.depth[_])+1,s[h*2+1]=s[_*2+1]=$,o.heap[1]=$++,pqdownheap(o,s,1);while(o.heap_len>=2);o.heap[--o.heap_max]=o.heap[1],gen_bitlen(o,e),gen_codes(s,b,o.bl_count)},scan_tree=(o,e,s)=>{let a,c=-1,d,h=e[0*2+1],_=0,b=7,$=4;for(h===0&&(b=138,$=3),e[(s+1)*2+1]=65535,a=0;a<=s;a++)d=h,h=e[(a+1)*2+1],!(++_<b&&d===h)&&(_<$?o.bl_tree[d*2]+=_:d!==0?(d!==c&&o.bl_tree[d*2]++,o.bl_tree[REP_3_6*2]++):_<=10?o.bl_tree[REPZ_3_10*2]++:o.bl_tree[REPZ_11_138*2]++,_=0,c=d,h===0?(b=138,$=3):d===h?(b=6,$=3):(b=7,$=4))},send_tree=(o,e,s)=>{let a,c=-1,d,h=e[0*2+1],_=0,b=7,$=4;for(h===0&&(b=138,$=3),a=0;a<=s;a++)if(d=h,h=e[(a+1)*2+1],!(++_<b&&d===h)){if(_<$)do send_code(o,d,o.bl_tree);while(--_!==0);else d!==0?(d!==c&&(send_code(o,d,o.bl_tree),_--),send_code(o,REP_3_6,o.bl_tree),send_bits(o,_-3,2)):_<=10?(send_code(o,REPZ_3_10,o.bl_tree),send_bits(o,_-3,3)):(send_code(o,REPZ_11_138,o.bl_tree),send_bits(o,_-11,7));_=0,c=d,h===0?(b=138,$=3):d===h?(b=6,$=3):(b=7,$=4)}},build_bl_tree=o=>{let e;for(scan_tree(o,o.dyn_ltree,o.l_desc.max_code),scan_tree(o,o.dyn_dtree,o.d_desc.max_code),build_tree(o,o.bl_desc),e=BL_CODES$1-1;e>=3&&o.bl_tree[bl_order[e]*2+1]===0;e--);return o.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(o,e,s,a)=>{let c;for(send_bits(o,e-257,5),send_bits(o,s-1,5),send_bits(o,a-4,4),c=0;c<a;c++)send_bits(o,o.bl_tree[bl_order[c]*2+1],3);send_tree(o,o.dyn_ltree,e-1),send_tree(o,o.dyn_dtree,s-1)},detect_data_type=o=>{let e=4093624447,s;for(s=0;s<=31;s++,e>>>=1)if(e&1&&o.dyn_ltree[s*2]!==0)return Z_BINARY;if(o.dyn_ltree[9*2]!==0||o.dyn_ltree[10*2]!==0||o.dyn_ltree[13*2]!==0)return Z_TEXT;for(s=32;s<LITERALS$1;s++)if(o.dyn_ltree[s*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=o=>{static_init_done||(tr_static_init(),static_init_done=!0),o.l_desc=new TreeDesc(o.dyn_ltree,static_l_desc),o.d_desc=new TreeDesc(o.dyn_dtree,static_d_desc),o.bl_desc=new TreeDesc(o.bl_tree,static_bl_desc),o.bi_buf=0,o.bi_valid=0,init_block(o)},_tr_stored_block$1=(o,e,s,a)=>{send_bits(o,(STORED_BLOCK<<1)+(a?1:0),3),bi_windup(o),put_short(o,s),put_short(o,~s),s&&o.pending_buf.set(o.window.subarray(e,e+s),o.pending),o.pending+=s},_tr_align$1=o=>{send_bits(o,STATIC_TREES<<1,3),send_code(o,END_BLOCK,static_ltree),bi_flush(o)},_tr_flush_block$1=(o,e,s,a)=>{let c,d,h=0;o.level>0?(o.strm.data_type===Z_UNKNOWN$1&&(o.strm.data_type=detect_data_type(o)),build_tree(o,o.l_desc),build_tree(o,o.d_desc),h=build_bl_tree(o),c=o.opt_len+3+7>>>3,d=o.static_len+3+7>>>3,d<=c&&(c=d)):c=d=s+5,s+4<=c&&e!==-1?_tr_stored_block$1(o,e,s,a):o.strategy===Z_FIXED$1||d===c?(send_bits(o,(STATIC_TREES<<1)+(a?1:0),3),compress_block(o,static_ltree,static_dtree)):(send_bits(o,(DYN_TREES<<1)+(a?1:0),3),send_all_trees(o,o.l_desc.max_code+1,o.d_desc.max_code+1,h+1),compress_block(o,o.dyn_ltree,o.dyn_dtree)),init_block(o),a&&bi_windup(o)},_tr_tally$1=(o,e,s)=>(o.pending_buf[o.sym_buf+o.sym_next++]=e,o.pending_buf[o.sym_buf+o.sym_next++]=e>>8,o.pending_buf[o.sym_buf+o.sym_next++]=s,e===0?o.dyn_ltree[s*2]++:(o.matches++,e--,o.dyn_ltree[(_length_code[s]+LITERALS$1+1)*2]++,o.dyn_dtree[d_code(e)*2]++),o.sym_next===o.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(o,e,s,a)=>{let c=o&65535|0,d=o>>>16&65535|0,h=0;for(;s!==0;){h=s>2e3?2e3:s,s-=h;do c=c+e[a++]|0,d=d+c|0;while(--h);c%=65521,d%=65521}return c|d<<16|0};var adler32_1=adler32;const makeTable=()=>{let o,e=[];for(var s=0;s<256;s++){o=s;for(var a=0;a<8;a++)o=o&1?3988292384^o>>>1:o>>>1;e[s]=o}return e},crcTable=new Uint32Array(makeTable()),crc32=(o,e,s,a)=>{const c=crcTable,d=a+s;o^=-1;for(let h=a;h<d;h++)o=o>>>8^c[(o^e[h])&255];return o^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(o,e)=>(o.msg=messages[e],e),rank=o=>o*2-(o>4?9:0),zero=o=>{let e=o.length;for(;--e>=0;)o[e]=0},slide_hash=o=>{let e,s,a,c=o.w_size;e=o.hash_size,a=e;do s=o.head[--a],o.head[a]=s>=c?s-c:0;while(--e);e=c,a=e;do s=o.prev[--a],o.prev[a]=s>=c?s-c:0;while(--e)};let HASH_ZLIB=(o,e,s)=>(e<<o.hash_shift^s)&o.hash_mask,HASH=HASH_ZLIB;const flush_pending=o=>{const e=o.state;let s=e.pending;s>o.avail_out&&(s=o.avail_out),s!==0&&(o.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+s),o.next_out),o.next_out+=s,e.pending_out+=s,o.total_out+=s,o.avail_out-=s,e.pending-=s,e.pending===0&&(e.pending_out=0))},flush_block_only=(o,e)=>{_tr_flush_block(o,o.block_start>=0?o.block_start:-1,o.strstart-o.block_start,e),o.block_start=o.strstart,flush_pending(o.strm)},put_byte=(o,e)=>{o.pending_buf[o.pending++]=e},putShortMSB=(o,e)=>{o.pending_buf[o.pending++]=e>>>8&255,o.pending_buf[o.pending++]=e&255},read_buf=(o,e,s,a)=>{let c=o.avail_in;return c>a&&(c=a),c===0?0:(o.avail_in-=c,e.set(o.input.subarray(o.next_in,o.next_in+c),s),o.state.wrap===1?o.adler=adler32_1(o.adler,e,c,s):o.state.wrap===2&&(o.adler=crc32_1(o.adler,e,c,s)),o.next_in+=c,o.total_in+=c,c)},longest_match=(o,e)=>{let s=o.max_chain_length,a=o.strstart,c,d,h=o.prev_length,_=o.nice_match;const b=o.strstart>o.w_size-MIN_LOOKAHEAD?o.strstart-(o.w_size-MIN_LOOKAHEAD):0,$=o.window,j=o.w_mask,rt=o.prev,it=o.strstart+MAX_MATCH;let ot=$[a+h-1],ht=$[a+h];o.prev_length>=o.good_match&&(s>>=2),_>o.lookahead&&(_=o.lookahead);do if(c=e,!($[c+h]!==ht||$[c+h-1]!==ot||$[c]!==$[a]||$[++c]!==$[a+1])){a+=2,c++;do;while($[++a]===$[++c]&&$[++a]===$[++c]&&$[++a]===$[++c]&&$[++a]===$[++c]&&$[++a]===$[++c]&&$[++a]===$[++c]&&$[++a]===$[++c]&&$[++a]===$[++c]&&a<it);if(d=MAX_MATCH-(it-a),a=it-MAX_MATCH,d>h){if(o.match_start=e,h=d,d>=_)break;ot=$[a+h-1],ht=$[a+h]}}while((e=rt[e&j])>b&&--s!==0);return h<=o.lookahead?h:o.lookahead},fill_window=o=>{const e=o.w_size;let s,a,c;do{if(a=o.window_size-o.lookahead-o.strstart,o.strstart>=e+(e-MIN_LOOKAHEAD)&&(o.window.set(o.window.subarray(e,e+e-a),0),o.match_start-=e,o.strstart-=e,o.block_start-=e,o.insert>o.strstart&&(o.insert=o.strstart),slide_hash(o),a+=e),o.strm.avail_in===0)break;if(s=read_buf(o.strm,o.window,o.strstart+o.lookahead,a),o.lookahead+=s,o.lookahead+o.insert>=MIN_MATCH)for(c=o.strstart-o.insert,o.ins_h=o.window[c],o.ins_h=HASH(o,o.ins_h,o.window[c+1]);o.insert&&(o.ins_h=HASH(o,o.ins_h,o.window[c+MIN_MATCH-1]),o.prev[c&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=c,c++,o.insert--,!(o.lookahead+o.insert<MIN_MATCH)););}while(o.lookahead<MIN_LOOKAHEAD&&o.strm.avail_in!==0)},deflate_stored=(o,e)=>{let s=o.pending_buf_size-5>o.w_size?o.w_size:o.pending_buf_size-5,a,c,d,h=0,_=o.strm.avail_in;do{if(a=65535,d=o.bi_valid+42>>3,o.strm.avail_out<d||(d=o.strm.avail_out-d,c=o.strstart-o.block_start,a>c+o.strm.avail_in&&(a=c+o.strm.avail_in),a>d&&(a=d),a<s&&(a===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||a!==c+o.strm.avail_in)))break;h=e===Z_FINISH$3&&a===c+o.strm.avail_in?1:0,_tr_stored_block(o,0,0,h),o.pending_buf[o.pending-4]=a,o.pending_buf[o.pending-3]=a>>8,o.pending_buf[o.pending-2]=~a,o.pending_buf[o.pending-1]=~a>>8,flush_pending(o.strm),c&&(c>a&&(c=a),o.strm.output.set(o.window.subarray(o.block_start,o.block_start+c),o.strm.next_out),o.strm.next_out+=c,o.strm.avail_out-=c,o.strm.total_out+=c,o.block_start+=c,a-=c),a&&(read_buf(o.strm,o.strm.output,o.strm.next_out,a),o.strm.next_out+=a,o.strm.avail_out-=a,o.strm.total_out+=a)}while(h===0);return _-=o.strm.avail_in,_&&(_>=o.w_size?(o.matches=2,o.window.set(o.strm.input.subarray(o.strm.next_in-o.w_size,o.strm.next_in),0),o.strstart=o.w_size,o.insert=o.strstart):(o.window_size-o.strstart<=_&&(o.strstart-=o.w_size,o.window.set(o.window.subarray(o.w_size,o.w_size+o.strstart),0),o.matches<2&&o.matches++,o.insert>o.strstart&&(o.insert=o.strstart)),o.window.set(o.strm.input.subarray(o.strm.next_in-_,o.strm.next_in),o.strstart),o.strstart+=_,o.insert+=_>o.w_size-o.insert?o.w_size-o.insert:_),o.block_start=o.strstart),o.high_water<o.strstart&&(o.high_water=o.strstart),h?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&o.strm.avail_in===0&&o.strstart===o.block_start?BS_BLOCK_DONE:(d=o.window_size-o.strstart,o.strm.avail_in>d&&o.block_start>=o.w_size&&(o.block_start-=o.w_size,o.strstart-=o.w_size,o.window.set(o.window.subarray(o.w_size,o.w_size+o.strstart),0),o.matches<2&&o.matches++,d+=o.w_size,o.insert>o.strstart&&(o.insert=o.strstart)),d>o.strm.avail_in&&(d=o.strm.avail_in),d&&(read_buf(o.strm,o.window,o.strstart,d),o.strstart+=d,o.insert+=d>o.w_size-o.insert?o.w_size-o.insert:d),o.high_water<o.strstart&&(o.high_water=o.strstart),d=o.bi_valid+42>>3,d=o.pending_buf_size-d>65535?65535:o.pending_buf_size-d,s=d>o.w_size?o.w_size:d,c=o.strstart-o.block_start,(c>=s||(c||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&o.strm.avail_in===0&&c<=d)&&(a=c>d?d:c,h=e===Z_FINISH$3&&o.strm.avail_in===0&&a===c?1:0,_tr_stored_block(o,o.block_start,a,h),o.block_start+=a,flush_pending(o.strm)),h?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(o,e)=>{let s,a;for(;;){if(o.lookahead<MIN_LOOKAHEAD){if(fill_window(o),o.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(s=0,o.lookahead>=MIN_MATCH&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),s!==0&&o.strstart-s<=o.w_size-MIN_LOOKAHEAD&&(o.match_length=longest_match(o,s)),o.match_length>=MIN_MATCH)if(a=_tr_tally(o,o.strstart-o.match_start,o.match_length-MIN_MATCH),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=MIN_MATCH){o.match_length--;do o.strstart++,o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!==0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+1]);else a=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(a&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=o.strstart<MIN_MATCH-1?o.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(o,e)=>{let s,a,c;for(;;){if(o.lookahead<MIN_LOOKAHEAD){if(fill_window(o),o.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(s=0,o.lookahead>=MIN_MATCH&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=MIN_MATCH-1,s!==0&&o.prev_length<o.max_lazy_match&&o.strstart-s<=o.w_size-MIN_LOOKAHEAD&&(o.match_length=longest_match(o,s),o.match_length<=5&&(o.strategy===Z_FILTERED||o.match_length===MIN_MATCH&&o.strstart-o.match_start>4096)&&(o.match_length=MIN_MATCH-1)),o.prev_length>=MIN_MATCH&&o.match_length<=o.prev_length){c=o.strstart+o.lookahead-MIN_MATCH,a=_tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-MIN_MATCH),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=c&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),s=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!==0);if(o.match_available=0,o.match_length=MIN_MATCH-1,o.strstart++,a&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}else if(o.match_available){if(a=_tr_tally(o,0,o.window[o.strstart-1]),a&&flush_block_only(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return BS_NEED_MORE}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(a=_tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<MIN_MATCH-1?o.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(o,e)=>{let s,a,c,d;const h=o.window;for(;;){if(o.lookahead<=MAX_MATCH){if(fill_window(o),o.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=MIN_MATCH&&o.strstart>0&&(c=o.strstart-1,a=h[c],a===h[++c]&&a===h[++c]&&a===h[++c])){d=o.strstart+MAX_MATCH;do;while(a===h[++c]&&a===h[++c]&&a===h[++c]&&a===h[++c]&&a===h[++c]&&a===h[++c]&&a===h[++c]&&a===h[++c]&&c<d);o.match_length=MAX_MATCH-(d-c),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=MIN_MATCH?(s=_tr_tally(o,1,o.match_length-MIN_MATCH),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(s=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),s&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=0,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(o,e)=>{let s;for(;;){if(o.lookahead===0&&(fill_window(o),o.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(o.match_length=0,s=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,s&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=0,e===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(o,e,s,a,c){this.good_length=o,this.max_lazy=e,this.nice_length=s,this.max_chain=a,this.func=c}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=o=>{o.window_size=2*o.w_size,zero(o.head),o.max_lazy_match=configuration_table[o.level].max_lazy,o.good_match=configuration_table[o.level].good_length,o.nice_match=configuration_table[o.level].nice_length,o.max_chain_length=configuration_table[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=MIN_MATCH-1,o.match_available=0,o.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=o=>{if(!o)return 1;const e=o.state;return!e||e.strm!==o||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=o=>{if(deflateStateCheck(o))return err(o,Z_STREAM_ERROR$2);o.total_in=o.total_out=0,o.data_type=Z_UNKNOWN;const e=o.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,o.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=o=>{const e=deflateResetKeep(o);return e===Z_OK$3&&lm_init(o.state),e},deflateSetHeader=(o,e)=>deflateStateCheck(o)||o.state.wrap!==2?Z_STREAM_ERROR$2:(o.state.gzhead=e,Z_OK$3),deflateInit2=(o,e,s,a,c,d)=>{if(!o)return Z_STREAM_ERROR$2;let h=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),a<0?(h=0,a=-a):a>15&&(h=2,a-=16),c<1||c>MAX_MEM_LEVEL||s!==Z_DEFLATED$2||a<8||a>15||e<0||e>9||d<0||d>Z_FIXED||a===8&&h!==1)return err(o,Z_STREAM_ERROR$2);a===8&&(a=9);const _=new DeflateState;return o.state=_,_.strm=o,_.status=INIT_STATE,_.wrap=h,_.gzhead=null,_.w_bits=a,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=c+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+MIN_MATCH-1)/MIN_MATCH),_.window=new Uint8Array(_.w_size*2),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<c+6,_.pending_buf_size=_.lit_bufsize*4,_.pending_buf=new Uint8Array(_.pending_buf_size),_.sym_buf=_.lit_bufsize,_.sym_end=(_.lit_bufsize-1)*3,_.level=e,_.strategy=d,_.method=s,deflateReset(o)},deflateInit=(o,e)=>deflateInit2(o,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(o,e)=>{if(deflateStateCheck(o)||e>Z_BLOCK$1||e<0)return o?err(o,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const s=o.state;if(!o.output||o.avail_in!==0&&!o.input||s.status===FINISH_STATE&&e!==Z_FINISH$3)return err(o,o.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const a=s.last_flush;if(s.last_flush=e,s.pending!==0){if(flush_pending(o),o.avail_out===0)return s.last_flush=-1,Z_OK$3}else if(o.avail_in===0&&rank(e)<=rank(a)&&e!==Z_FINISH$3)return err(o,Z_BUF_ERROR$1);if(s.status===FINISH_STATE&&o.avail_in!==0)return err(o,Z_BUF_ERROR$1);if(s.status===INIT_STATE&&s.wrap===0&&(s.status=BUSY_STATE),s.status===INIT_STATE){let c=Z_DEFLATED$2+(s.w_bits-8<<4)<<8,d=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2?d=0:s.level<6?d=1:s.level===6?d=2:d=3,c|=d<<6,s.strstart!==0&&(c|=PRESET_DICT),c+=31-c%31,putShortMSB(s,c),s.strstart!==0&&(putShortMSB(s,o.adler>>>16),putShortMSB(s,o.adler&65535)),o.adler=1,s.status=BUSY_STATE,flush_pending(o),s.pending!==0)return s.last_flush=-1,Z_OK$3}if(s.status===GZIP_STATE){if(o.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead)put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,s.gzhead.time&255),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,s.gzhead.extra.length&255),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(o.adler=crc32_1(o.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE;else if(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE,flush_pending(o),s.pending!==0)return s.last_flush=-1,Z_OK$3}if(s.status===EXTRA_STATE){if(s.gzhead.extra){let c=s.pending,d=(s.gzhead.extra.length&65535)-s.gzindex;for(;s.pending+d>s.pending_buf_size;){let _=s.pending_buf_size-s.pending;if(s.pending_buf.set(s.gzhead.extra.subarray(s.gzindex,s.gzindex+_),s.pending),s.pending=s.pending_buf_size,s.gzhead.hcrc&&s.pending>c&&(o.adler=crc32_1(o.adler,s.pending_buf,s.pending-c,c)),s.gzindex+=_,flush_pending(o),s.pending!==0)return s.last_flush=-1,Z_OK$3;c=0,d-=_}let h=new Uint8Array(s.gzhead.extra);s.pending_buf.set(h.subarray(s.gzindex,s.gzindex+d),s.pending),s.pending+=d,s.gzhead.hcrc&&s.pending>c&&(o.adler=crc32_1(o.adler,s.pending_buf,s.pending-c,c)),s.gzindex=0}s.status=NAME_STATE}if(s.status===NAME_STATE){if(s.gzhead.name){let c=s.pending,d;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>c&&(o.adler=crc32_1(o.adler,s.pending_buf,s.pending-c,c)),flush_pending(o),s.pending!==0)return s.last_flush=-1,Z_OK$3;c=0}s.gzindex<s.gzhead.name.length?d=s.gzhead.name.charCodeAt(s.gzindex++)&255:d=0,put_byte(s,d)}while(d!==0);s.gzhead.hcrc&&s.pending>c&&(o.adler=crc32_1(o.adler,s.pending_buf,s.pending-c,c)),s.gzindex=0}s.status=COMMENT_STATE}if(s.status===COMMENT_STATE){if(s.gzhead.comment){let c=s.pending,d;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>c&&(o.adler=crc32_1(o.adler,s.pending_buf,s.pending-c,c)),flush_pending(o),s.pending!==0)return s.last_flush=-1,Z_OK$3;c=0}s.gzindex<s.gzhead.comment.length?d=s.gzhead.comment.charCodeAt(s.gzindex++)&255:d=0,put_byte(s,d)}while(d!==0);s.gzhead.hcrc&&s.pending>c&&(o.adler=crc32_1(o.adler,s.pending_buf,s.pending-c,c))}s.status=HCRC_STATE}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size&&(flush_pending(o),s.pending!==0))return s.last_flush=-1,Z_OK$3;put_byte(s,o.adler&255),put_byte(s,o.adler>>8&255),o.adler=0}if(s.status=BUSY_STATE,flush_pending(o),s.pending!==0)return s.last_flush=-1,Z_OK$3}if(o.avail_in!==0||s.lookahead!==0||e!==Z_NO_FLUSH$2&&s.status!==FINISH_STATE){let c=s.level===0?deflate_stored(s,e):s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,e):s.strategy===Z_RLE?deflate_rle(s,e):configuration_table[s.level].func(s,e);if((c===BS_FINISH_STARTED||c===BS_FINISH_DONE)&&(s.status=FINISH_STATE),c===BS_NEED_MORE||c===BS_FINISH_STARTED)return o.avail_out===0&&(s.last_flush=-1),Z_OK$3;if(c===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(s):e!==Z_BLOCK$1&&(_tr_stored_block(s,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(o),o.avail_out===0))return s.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:s.wrap<=0?Z_STREAM_END$3:(s.wrap===2?(put_byte(s,o.adler&255),put_byte(s,o.adler>>8&255),put_byte(s,o.adler>>16&255),put_byte(s,o.adler>>24&255),put_byte(s,o.total_in&255),put_byte(s,o.total_in>>8&255),put_byte(s,o.total_in>>16&255),put_byte(s,o.total_in>>24&255)):(putShortMSB(s,o.adler>>>16),putShortMSB(s,o.adler&65535)),flush_pending(o),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=o=>{if(deflateStateCheck(o))return Z_STREAM_ERROR$2;const e=o.state.status;return o.state=null,e===BUSY_STATE?err(o,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(o,e)=>{let s=e.length;if(deflateStateCheck(o))return Z_STREAM_ERROR$2;const a=o.state,c=a.wrap;if(c===2||c===1&&a.status!==INIT_STATE||a.lookahead)return Z_STREAM_ERROR$2;if(c===1&&(o.adler=adler32_1(o.adler,e,s,0)),a.wrap=0,s>=a.w_size){c===0&&(zero(a.head),a.strstart=0,a.block_start=0,a.insert=0);let b=new Uint8Array(a.w_size);b.set(e.subarray(s-a.w_size,s),0),e=b,s=a.w_size}const d=o.avail_in,h=o.next_in,_=o.input;for(o.avail_in=s,o.next_in=0,o.input=e,fill_window(a);a.lookahead>=MIN_MATCH;){let b=a.strstart,$=a.lookahead-(MIN_MATCH-1);do a.ins_h=HASH(a,a.ins_h,a.window[b+MIN_MATCH-1]),a.prev[b&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=b,b++;while(--$);a.strstart=b,a.lookahead=MIN_MATCH-1,fill_window(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=MIN_MATCH-1,a.match_available=0,o.next_in=h,o.input=_,o.avail_in=d,a.wrap=c,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(o,e)=>Object.prototype.hasOwnProperty.call(o,e);var assign=function(o){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const s=e.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const a in s)_has(s,a)&&(o[a]=s[a])}}return o},flattenChunks=o=>{let e=0;for(let a=0,c=o.length;a<c;a++)e+=o[a].length;const s=new Uint8Array(e);for(let a=0,c=0,d=o.length;a<d;a++){let h=o[a];s.set(h,c),c+=h.length}return s},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(o){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let o=0;o<256;o++)_utf8len[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=o=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(o);let e,s,a,c,d,h=o.length,_=0;for(c=0;c<h;c++)s=o.charCodeAt(c),(s&64512)===55296&&c+1<h&&(a=o.charCodeAt(c+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),c++)),_+=s<128?1:s<2048?2:s<65536?3:4;for(e=new Uint8Array(_),d=0,c=0;d<_;c++)s=o.charCodeAt(c),(s&64512)===55296&&c+1<h&&(a=o.charCodeAt(c+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),c++)),s<128?e[d++]=s:s<2048?(e[d++]=192|s>>>6,e[d++]=128|s&63):s<65536?(e[d++]=224|s>>>12,e[d++]=128|s>>>6&63,e[d++]=128|s&63):(e[d++]=240|s>>>18,e[d++]=128|s>>>12&63,e[d++]=128|s>>>6&63,e[d++]=128|s&63);return e};const buf2binstring=(o,e)=>{if(e<65534&&o.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,o.length===e?o:o.subarray(0,e));let s="";for(let a=0;a<e;a++)s+=String.fromCharCode(o[a]);return s};var buf2string=(o,e)=>{const s=e||o.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(o.subarray(0,e));let a,c;const d=new Array(s*2);for(c=0,a=0;a<s;){let h=o[a++];if(h<128){d[c++]=h;continue}let _=_utf8len[h];if(_>4){d[c++]=65533,a+=_-1;continue}for(h&=_===2?31:_===3?15:7;_>1&&a<s;)h=h<<6|o[a++]&63,_--;if(_>1){d[c++]=65533;continue}h<65536?d[c++]=h:(h-=65536,d[c++]=55296|h>>10&1023,d[c++]=56320|h&1023)}return buf2binstring(d,c)},utf8border=(o,e)=>{e=e||o.length,e>o.length&&(e=o.length);let s=e-1;for(;s>=0&&(o[s]&192)===128;)s--;return s<0||s===0?e:s+_utf8len[o[s]]>e?s:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(o){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},o||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let s=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(s!==Z_OK$2)throw new Error(messages[s]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let a;if(typeof e.dictionary=="string"?a=strings.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(e.dictionary):a=e.dictionary,s=deflate_1$2.deflateSetDictionary(this.strm,a),s!==Z_OK$2)throw new Error(messages[s]);this._dict_set=!0}}Deflate$1.prototype.push=function(o,e){const s=this.strm,a=this.options.chunkSize;let c,d;if(this.ended)return!1;for(e===~~e?d=e:d=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof o=="string"?s.input=strings.string2buf(o):toString$1.call(o)==="[object ArrayBuffer]"?s.input=new Uint8Array(o):s.input=o,s.next_in=0,s.avail_in=s.input.length;;){if(s.avail_out===0&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),(d===Z_SYNC_FLUSH||d===Z_FULL_FLUSH)&&s.avail_out<=6){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(c=deflate_1$2.deflate(s,d),c===Z_STREAM_END$2)return s.next_out>0&&this.onData(s.output.subarray(0,s.next_out)),c=deflate_1$2.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===Z_OK$2;if(s.avail_out===0){this.onData(s.output);continue}if(d>0&&s.next_out>0){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(s.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(o){this.chunks.push(o)};Deflate$1.prototype.onEnd=function(o){o===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function o(e,s){let a,c,d,h,_,b,$,j,rt,it,ot,ht,bt,pt,dt,lt,at,xt,Rt,Tt,It,Bt,Pt,zt;const Ht=e.state;a=e.next_in,Pt=e.input,c=a+(e.avail_in-5),d=e.next_out,zt=e.output,h=d-(s-e.avail_out),_=d+(e.avail_out-257),b=Ht.dmax,$=Ht.wsize,j=Ht.whave,rt=Ht.wnext,it=Ht.window,ot=Ht.hold,ht=Ht.bits,bt=Ht.lencode,pt=Ht.distcode,dt=(1<<Ht.lenbits)-1,lt=(1<<Ht.distbits)-1;e:do{ht<15&&(ot+=Pt[a++]<<ht,ht+=8,ot+=Pt[a++]<<ht,ht+=8),at=bt[ot&dt];t:for(;;){if(xt=at>>>24,ot>>>=xt,ht-=xt,xt=at>>>16&255,xt===0)zt[d++]=at&65535;else if(xt&16){Rt=at&65535,xt&=15,xt&&(ht<xt&&(ot+=Pt[a++]<<ht,ht+=8),Rt+=ot&(1<<xt)-1,ot>>>=xt,ht-=xt),ht<15&&(ot+=Pt[a++]<<ht,ht+=8,ot+=Pt[a++]<<ht,ht+=8),at=pt[ot&lt];n:for(;;){if(xt=at>>>24,ot>>>=xt,ht-=xt,xt=at>>>16&255,xt&16){if(Tt=at&65535,xt&=15,ht<xt&&(ot+=Pt[a++]<<ht,ht+=8,ht<xt&&(ot+=Pt[a++]<<ht,ht+=8)),Tt+=ot&(1<<xt)-1,Tt>b){e.msg="invalid distance too far back",Ht.mode=BAD$1;break e}if(ot>>>=xt,ht-=xt,xt=d-h,Tt>xt){if(xt=Tt-xt,xt>j&&Ht.sane){e.msg="invalid distance too far back",Ht.mode=BAD$1;break e}if(It=0,Bt=it,rt===0){if(It+=$-xt,xt<Rt){Rt-=xt;do zt[d++]=it[It++];while(--xt);It=d-Tt,Bt=zt}}else if(rt<xt){if(It+=$+rt-xt,xt-=rt,xt<Rt){Rt-=xt;do zt[d++]=it[It++];while(--xt);if(It=0,rt<Rt){xt=rt,Rt-=xt;do zt[d++]=it[It++];while(--xt);It=d-Tt,Bt=zt}}}else if(It+=rt-xt,xt<Rt){Rt-=xt;do zt[d++]=it[It++];while(--xt);It=d-Tt,Bt=zt}for(;Rt>2;)zt[d++]=Bt[It++],zt[d++]=Bt[It++],zt[d++]=Bt[It++],Rt-=3;Rt&&(zt[d++]=Bt[It++],Rt>1&&(zt[d++]=Bt[It++]))}else{It=d-Tt;do zt[d++]=zt[It++],zt[d++]=zt[It++],zt[d++]=zt[It++],Rt-=3;while(Rt>2);Rt&&(zt[d++]=zt[It++],Rt>1&&(zt[d++]=zt[It++]))}}else if(xt&64){e.msg="invalid distance code",Ht.mode=BAD$1;break e}else{at=pt[(at&65535)+(ot&(1<<xt)-1)];continue n}break}}else if(xt&64)if(xt&32){Ht.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",Ht.mode=BAD$1;break e}else{at=bt[(at&65535)+(ot&(1<<xt)-1)];continue t}break}}while(a<c&&d<_);Rt=ht>>3,a-=Rt,ht-=Rt<<3,ot&=(1<<ht)-1,e.next_in=a,e.next_out=d,e.avail_in=a<c?5+(c-a):5-(a-c),e.avail_out=d<_?257+(_-d):257-(d-_),Ht.hold=ot,Ht.bits=ht};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(o,e,s,a,c,d,h,_)=>{const b=_.bits;let $=0,j=0,rt=0,it=0,ot=0,ht=0,bt=0,pt=0,dt=0,lt=0,at,xt,Rt,Tt,It,Bt=null,Pt;const zt=new Uint16Array(MAXBITS+1),Ht=new Uint16Array(MAXBITS+1);let Ut=null,Et,_e,tt;for($=0;$<=MAXBITS;$++)zt[$]=0;for(j=0;j<a;j++)zt[e[s+j]]++;for(ot=b,it=MAXBITS;it>=1&&zt[it]===0;it--);if(ot>it&&(ot=it),it===0)return c[d++]=1<<24|64<<16|0,c[d++]=1<<24|64<<16|0,_.bits=1,0;for(rt=1;rt<it&&zt[rt]===0;rt++);for(ot<rt&&(ot=rt),pt=1,$=1;$<=MAXBITS;$++)if(pt<<=1,pt-=zt[$],pt<0)return-1;if(pt>0&&(o===CODES$1||it!==1))return-1;for(Ht[1]=0,$=1;$<MAXBITS;$++)Ht[$+1]=Ht[$]+zt[$];for(j=0;j<a;j++)e[s+j]!==0&&(h[Ht[e[s+j]]++]=j);if(o===CODES$1?(Bt=Ut=h,Pt=20):o===LENS$1?(Bt=lbase,Ut=lext,Pt=257):(Bt=dbase,Ut=dext,Pt=0),lt=0,j=0,$=rt,It=d,ht=ot,bt=0,Rt=-1,dt=1<<ot,Tt=dt-1,o===LENS$1&&dt>ENOUGH_LENS$1||o===DISTS$1&&dt>ENOUGH_DISTS$1)return 1;for(;;){Et=$-bt,h[j]+1<Pt?(_e=0,tt=h[j]):h[j]>=Pt?(_e=Ut[h[j]-Pt],tt=Bt[h[j]-Pt]):(_e=96,tt=0),at=1<<$-bt,xt=1<<ht,rt=xt;do xt-=at,c[It+(lt>>bt)+xt]=Et<<24|_e<<16|tt|0;while(xt!==0);for(at=1<<$-1;lt&at;)at>>=1;if(at!==0?(lt&=at-1,lt+=at):lt=0,j++,--zt[$]===0){if($===it)break;$=e[s+h[j]]}if($>ot&&(lt&Tt)!==Rt){for(bt===0&&(bt=ot),It+=rt,ht=$-bt,pt=1<<ht;ht+bt<it&&(pt-=zt[ht+bt],!(pt<=0));)ht++,pt<<=1;if(dt+=1<<ht,o===LENS$1&&dt>ENOUGH_LENS$1||o===DISTS$1&&dt>ENOUGH_DISTS$1)return 1;Rt=lt&Tt,c[Rt]=ot<<24|ht<<16|It-d|0}}return lt!==0&&(c[It+lt]=$-bt<<24|64<<16|0),_.bits=ot,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=o=>(o>>>24&255)+(o>>>8&65280)+((o&65280)<<8)+((o&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=o=>{if(!o)return 1;const e=o.state;return!e||e.strm!==o||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const e=o.state;return o.total_in=o.total_out=e.total=0,o.msg="",e.wrap&&(o.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const e=o.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(o)},inflateReset2=(o,e)=>{let s;if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const a=o.state;return e<0?(s=0,e=-e):(s=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=s,a.wbits=e,inflateReset(o))},inflateInit2=(o,e)=>{if(!o)return Z_STREAM_ERROR$1;const s=new InflateState;o.state=s,s.strm=o,s.window=null,s.mode=HEAD;const a=inflateReset2(o,e);return a!==Z_OK$1&&(o.state=null),a},inflateInit=o=>inflateInit2(o,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=o=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)o.lens[e++]=8;for(;e<256;)o.lens[e++]=9;for(;e<280;)o.lens[e++]=7;for(;e<288;)o.lens[e++]=8;for(inftrees(LENS,o.lens,0,288,lenfix,0,o.work,{bits:9}),e=0;e<32;)o.lens[e++]=5;inftrees(DISTS,o.lens,0,32,distfix,0,o.work,{bits:5}),virgin=!1}o.lencode=lenfix,o.lenbits=9,o.distcode=distfix,o.distbits=5},updatewindow=(o,e,s,a)=>{let c;const d=o.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new Uint8Array(d.wsize)),a>=d.wsize?(d.window.set(e.subarray(s-d.wsize,s),0),d.wnext=0,d.whave=d.wsize):(c=d.wsize-d.wnext,c>a&&(c=a),d.window.set(e.subarray(s-a,s-a+c),d.wnext),a-=c,a?(d.window.set(e.subarray(s-a,s),0),d.wnext=a,d.whave=d.wsize):(d.wnext+=c,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=c))),0},inflate$2=(o,e)=>{let s,a,c,d,h,_,b,$,j,rt,it,ot,ht,bt,pt=0,dt,lt,at,xt,Rt,Tt,It,Bt;const Pt=new Uint8Array(4);let zt,Ht;const Ut=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(o)||!o.output||!o.input&&o.avail_in!==0)return Z_STREAM_ERROR$1;s=o.state,s.mode===TYPE&&(s.mode=TYPEDO),h=o.next_out,c=o.output,b=o.avail_out,d=o.next_in,a=o.input,_=o.avail_in,$=s.hold,j=s.bits,rt=_,it=b,Bt=Z_OK$1;e:for(;;)switch(s.mode){case HEAD:if(s.wrap===0){s.mode=TYPEDO;break}for(;j<16;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(s.wrap&2&&$===35615){s.wbits===0&&(s.wbits=15),s.check=0,Pt[0]=$&255,Pt[1]=$>>>8&255,s.check=crc32_1(s.check,Pt,2,0),$=0,j=0,s.mode=FLAGS;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||((($&255)<<8)+($>>8))%31){o.msg="incorrect header check",s.mode=BAD;break}if(($&15)!==Z_DEFLATED){o.msg="unknown compression method",s.mode=BAD;break}if($>>>=4,j-=4,It=($&15)+8,s.wbits===0&&(s.wbits=It),It>15||It>s.wbits){o.msg="invalid window size",s.mode=BAD;break}s.dmax=1<<s.wbits,s.flags=0,o.adler=s.check=1,s.mode=$&512?DICTID:TYPE,$=0,j=0;break;case FLAGS:for(;j<16;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(s.flags=$,(s.flags&255)!==Z_DEFLATED){o.msg="unknown compression method",s.mode=BAD;break}if(s.flags&57344){o.msg="unknown header flags set",s.mode=BAD;break}s.head&&(s.head.text=$>>8&1),s.flags&512&&s.wrap&4&&(Pt[0]=$&255,Pt[1]=$>>>8&255,s.check=crc32_1(s.check,Pt,2,0)),$=0,j=0,s.mode=TIME;case TIME:for(;j<32;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}s.head&&(s.head.time=$),s.flags&512&&s.wrap&4&&(Pt[0]=$&255,Pt[1]=$>>>8&255,Pt[2]=$>>>16&255,Pt[3]=$>>>24&255,s.check=crc32_1(s.check,Pt,4,0)),$=0,j=0,s.mode=OS;case OS:for(;j<16;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}s.head&&(s.head.xflags=$&255,s.head.os=$>>8),s.flags&512&&s.wrap&4&&(Pt[0]=$&255,Pt[1]=$>>>8&255,s.check=crc32_1(s.check,Pt,2,0)),$=0,j=0,s.mode=EXLEN;case EXLEN:if(s.flags&1024){for(;j<16;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}s.length=$,s.head&&(s.head.extra_len=$),s.flags&512&&s.wrap&4&&(Pt[0]=$&255,Pt[1]=$>>>8&255,s.check=crc32_1(s.check,Pt,2,0)),$=0,j=0}else s.head&&(s.head.extra=null);s.mode=EXTRA;case EXTRA:if(s.flags&1024&&(ot=s.length,ot>_&&(ot=_),ot&&(s.head&&(It=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(a.subarray(d,d+ot),It)),s.flags&512&&s.wrap&4&&(s.check=crc32_1(s.check,a,ot,d)),_-=ot,d+=ot,s.length-=ot),s.length))break e;s.length=0,s.mode=NAME;case NAME:if(s.flags&2048){if(_===0)break e;ot=0;do It=a[d+ot++],s.head&&It&&s.length<65536&&(s.head.name+=String.fromCharCode(It));while(It&&ot<_);if(s.flags&512&&s.wrap&4&&(s.check=crc32_1(s.check,a,ot,d)),_-=ot,d+=ot,It)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=COMMENT;case COMMENT:if(s.flags&4096){if(_===0)break e;ot=0;do It=a[d+ot++],s.head&&It&&s.length<65536&&(s.head.comment+=String.fromCharCode(It));while(It&&ot<_);if(s.flags&512&&s.wrap&4&&(s.check=crc32_1(s.check,a,ot,d)),_-=ot,d+=ot,It)break e}else s.head&&(s.head.comment=null);s.mode=HCRC;case HCRC:if(s.flags&512){for(;j<16;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(s.wrap&4&&$!==(s.check&65535)){o.msg="header crc mismatch",s.mode=BAD;break}$=0,j=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),o.adler=s.check=0,s.mode=TYPE;break;case DICTID:for(;j<32;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}o.adler=s.check=zswap32($),$=0,j=0,s.mode=DICT;case DICT:if(s.havedict===0)return o.next_out=h,o.avail_out=b,o.next_in=d,o.avail_in=_,s.hold=$,s.bits=j,Z_NEED_DICT$1;o.adler=s.check=1,s.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(s.last){$>>>=j&7,j-=j&7,s.mode=CHECK;break}for(;j<3;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}switch(s.last=$&1,$>>>=1,j-=1,$&3){case 0:s.mode=STORED;break;case 1:if(fixedtables(s),s.mode=LEN_,e===Z_TREES){$>>>=2,j-=2;break e}break;case 2:s.mode=TABLE;break;case 3:o.msg="invalid block type",s.mode=BAD}$>>>=2,j-=2;break;case STORED:for($>>>=j&7,j-=j&7;j<32;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(($&65535)!==($>>>16^65535)){o.msg="invalid stored block lengths",s.mode=BAD;break}if(s.length=$&65535,$=0,j=0,s.mode=COPY_,e===Z_TREES)break e;case COPY_:s.mode=COPY;case COPY:if(ot=s.length,ot){if(ot>_&&(ot=_),ot>b&&(ot=b),ot===0)break e;c.set(a.subarray(d,d+ot),h),_-=ot,d+=ot,b-=ot,h+=ot,s.length-=ot;break}s.mode=TYPE;break;case TABLE:for(;j<14;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(s.nlen=($&31)+257,$>>>=5,j-=5,s.ndist=($&31)+1,$>>>=5,j-=5,s.ncode=($&15)+4,$>>>=4,j-=4,s.nlen>286||s.ndist>30){o.msg="too many length or distance symbols",s.mode=BAD;break}s.have=0,s.mode=LENLENS;case LENLENS:for(;s.have<s.ncode;){for(;j<3;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}s.lens[Ut[s.have++]]=$&7,$>>>=3,j-=3}for(;s.have<19;)s.lens[Ut[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,zt={bits:s.lenbits},Bt=inftrees(CODES,s.lens,0,19,s.lencode,0,s.work,zt),s.lenbits=zt.bits,Bt){o.msg="invalid code lengths set",s.mode=BAD;break}s.have=0,s.mode=CODELENS;case CODELENS:for(;s.have<s.nlen+s.ndist;){for(;pt=s.lencode[$&(1<<s.lenbits)-1],dt=pt>>>24,lt=pt>>>16&255,at=pt&65535,!(dt<=j);){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(at<16)$>>>=dt,j-=dt,s.lens[s.have++]=at;else{if(at===16){for(Ht=dt+2;j<Ht;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if($>>>=dt,j-=dt,s.have===0){o.msg="invalid bit length repeat",s.mode=BAD;break}It=s.lens[s.have-1],ot=3+($&3),$>>>=2,j-=2}else if(at===17){for(Ht=dt+3;j<Ht;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}$>>>=dt,j-=dt,It=0,ot=3+($&7),$>>>=3,j-=3}else{for(Ht=dt+7;j<Ht;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}$>>>=dt,j-=dt,It=0,ot=11+($&127),$>>>=7,j-=7}if(s.have+ot>s.nlen+s.ndist){o.msg="invalid bit length repeat",s.mode=BAD;break}for(;ot--;)s.lens[s.have++]=It}}if(s.mode===BAD)break;if(s.lens[256]===0){o.msg="invalid code -- missing end-of-block",s.mode=BAD;break}if(s.lenbits=9,zt={bits:s.lenbits},Bt=inftrees(LENS,s.lens,0,s.nlen,s.lencode,0,s.work,zt),s.lenbits=zt.bits,Bt){o.msg="invalid literal/lengths set",s.mode=BAD;break}if(s.distbits=6,s.distcode=s.distdyn,zt={bits:s.distbits},Bt=inftrees(DISTS,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,zt),s.distbits=zt.bits,Bt){o.msg="invalid distances set",s.mode=BAD;break}if(s.mode=LEN_,e===Z_TREES)break e;case LEN_:s.mode=LEN;case LEN:if(_>=6&&b>=258){o.next_out=h,o.avail_out=b,o.next_in=d,o.avail_in=_,s.hold=$,s.bits=j,inffast(o,it),h=o.next_out,c=o.output,b=o.avail_out,d=o.next_in,a=o.input,_=o.avail_in,$=s.hold,j=s.bits,s.mode===TYPE&&(s.back=-1);break}for(s.back=0;pt=s.lencode[$&(1<<s.lenbits)-1],dt=pt>>>24,lt=pt>>>16&255,at=pt&65535,!(dt<=j);){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(lt&&!(lt&240)){for(xt=dt,Rt=lt,Tt=at;pt=s.lencode[Tt+(($&(1<<xt+Rt)-1)>>xt)],dt=pt>>>24,lt=pt>>>16&255,at=pt&65535,!(xt+dt<=j);){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}$>>>=xt,j-=xt,s.back+=xt}if($>>>=dt,j-=dt,s.back+=dt,s.length=at,lt===0){s.mode=LIT;break}if(lt&32){s.back=-1,s.mode=TYPE;break}if(lt&64){o.msg="invalid literal/length code",s.mode=BAD;break}s.extra=lt&15,s.mode=LENEXT;case LENEXT:if(s.extra){for(Ht=s.extra;j<Ht;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}s.length+=$&(1<<s.extra)-1,$>>>=s.extra,j-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=DIST;case DIST:for(;pt=s.distcode[$&(1<<s.distbits)-1],dt=pt>>>24,lt=pt>>>16&255,at=pt&65535,!(dt<=j);){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(!(lt&240)){for(xt=dt,Rt=lt,Tt=at;pt=s.distcode[Tt+(($&(1<<xt+Rt)-1)>>xt)],dt=pt>>>24,lt=pt>>>16&255,at=pt&65535,!(xt+dt<=j);){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}$>>>=xt,j-=xt,s.back+=xt}if($>>>=dt,j-=dt,s.back+=dt,lt&64){o.msg="invalid distance code",s.mode=BAD;break}s.offset=at,s.extra=lt&15,s.mode=DISTEXT;case DISTEXT:if(s.extra){for(Ht=s.extra;j<Ht;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}s.offset+=$&(1<<s.extra)-1,$>>>=s.extra,j-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){o.msg="invalid distance too far back",s.mode=BAD;break}s.mode=MATCH;case MATCH:if(b===0)break e;if(ot=it-b,s.offset>ot){if(ot=s.offset-ot,ot>s.whave&&s.sane){o.msg="invalid distance too far back",s.mode=BAD;break}ot>s.wnext?(ot-=s.wnext,ht=s.wsize-ot):ht=s.wnext-ot,ot>s.length&&(ot=s.length),bt=s.window}else bt=c,ht=h-s.offset,ot=s.length;ot>b&&(ot=b),b-=ot,s.length-=ot;do c[h++]=bt[ht++];while(--ot);s.length===0&&(s.mode=LEN);break;case LIT:if(b===0)break e;c[h++]=s.length,b--,s.mode=LEN;break;case CHECK:if(s.wrap){for(;j<32;){if(_===0)break e;_--,$|=a[d++]<<j,j+=8}if(it-=b,o.total_out+=it,s.total+=it,s.wrap&4&&it&&(o.adler=s.check=s.flags?crc32_1(s.check,c,it,h-it):adler32_1(s.check,c,it,h-it)),it=b,s.wrap&4&&(s.flags?$:zswap32($))!==s.check){o.msg="incorrect data check",s.mode=BAD;break}$=0,j=0}s.mode=LENGTH;case LENGTH:if(s.wrap&&s.flags){for(;j<32;){if(_===0)break e;_--,$+=a[d++]<<j,j+=8}if(s.wrap&4&&$!==(s.total&4294967295)){o.msg="incorrect length check",s.mode=BAD;break}$=0,j=0}s.mode=DONE;case DONE:Bt=Z_STREAM_END$1;break e;case BAD:Bt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return o.next_out=h,o.avail_out=b,o.next_in=d,o.avail_in=_,s.hold=$,s.bits=j,(s.wsize||it!==o.avail_out&&s.mode<BAD&&(s.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(o,o.output,o.next_out,it-o.avail_out),rt-=o.avail_in,it-=o.avail_out,o.total_in+=rt,o.total_out+=it,s.total+=it,s.wrap&4&&it&&(o.adler=s.check=s.flags?crc32_1(s.check,c,it,o.next_out-it):adler32_1(s.check,c,it,o.next_out-it)),o.data_type=s.bits+(s.last?64:0)+(s.mode===TYPE?128:0)+(s.mode===LEN_||s.mode===COPY_?256:0),(rt===0&&it===0||e===Z_FINISH$1)&&Bt===Z_OK$1&&(Bt=Z_BUF_ERROR),Bt},inflateEnd=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;let e=o.state;return e.window&&(e.window=null),o.state=null,Z_OK$1},inflateGetHeader=(o,e)=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const s=o.state;return s.wrap&2?(s.head=e,e.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(o,e)=>{const s=e.length;let a,c,d;return inflateStateCheck(o)||(a=o.state,a.wrap!==0&&a.mode!==DICT)?Z_STREAM_ERROR$1:a.mode===DICT&&(c=1,c=adler32_1(c,e,s,0),c!==a.check)?Z_DATA_ERROR$1:(d=updatewindow(o,e,s,s),d?(a.mode=MEM,Z_MEM_ERROR$1):(a.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(o){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},o||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(o&&o.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let s=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(s!==Z_OK)throw new Error(messages[s]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(s=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),s!==Z_OK)))throw new Error(messages[s])}Inflate$1.prototype.push=function(o,e){const s=this.strm,a=this.options.chunkSize,c=this.options.dictionary;let d,h,_;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?Z_FINISH:Z_NO_FLUSH,toString.call(o)==="[object ArrayBuffer]"?s.input=new Uint8Array(o):s.input=o,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),d=inflate_1$2.inflate(s,h),d===Z_NEED_DICT&&c&&(d=inflate_1$2.inflateSetDictionary(s,c),d===Z_OK?d=inflate_1$2.inflate(s,h):d===Z_DATA_ERROR&&(d=Z_NEED_DICT));s.avail_in>0&&d===Z_STREAM_END&&s.state.wrap>0&&o[s.next_in]!==0;)inflate_1$2.inflateReset(s),d=inflate_1$2.inflate(s,h);switch(d){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(d),this.ended=!0,!1}if(_=s.avail_out,s.next_out&&(s.avail_out===0||d===Z_STREAM_END))if(this.options.to==="string"){let b=strings.utf8border(s.output,s.next_out),$=s.next_out-b,j=strings.buf2string(s.output,b);s.next_out=$,s.avail_out=a-$,$&&s.output.set(s.output.subarray(b,b+$),0),this.onData(j)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(d===Z_OK&&_===0)){if(d===Z_STREAM_END)return d=inflate_1$2.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(o){this.chunks.push(o)};Inflate$1.prototype.onEnd=function(o){o===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function inflate$1(o,e){const s=new Inflate$1(e);if(s.push(o),s.err)throw s.msg||messages[s.err];return s.result}function inflateRaw$1(o,e){return e=e||{},e.raw=!0,inflate$1(o,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate,eventemitter3={exports:{}};(function(o){var e=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function c(b,$,j){this.fn=b,this.context=$,this.once=j||!1}function d(b,$,j,rt,it){if(typeof j!="function")throw new TypeError("The listener must be a function");var ot=new c(j,rt||b,it),ht=s?s+$:$;return b._events[ht]?b._events[ht].fn?b._events[ht]=[b._events[ht],ot]:b._events[ht].push(ot):(b._events[ht]=ot,b._eventsCount++),b}function h(b,$){--b._eventsCount===0?b._events=new a:delete b._events[$]}function _(){this._events=new a,this._eventsCount=0}_.prototype.eventNames=function(){var $=[],j,rt;if(this._eventsCount===0)return $;for(rt in j=this._events)e.call(j,rt)&&$.push(s?rt.slice(1):rt);return Object.getOwnPropertySymbols?$.concat(Object.getOwnPropertySymbols(j)):$},_.prototype.listeners=function($){var j=s?s+$:$,rt=this._events[j];if(!rt)return[];if(rt.fn)return[rt.fn];for(var it=0,ot=rt.length,ht=new Array(ot);it<ot;it++)ht[it]=rt[it].fn;return ht},_.prototype.listenerCount=function($){var j=s?s+$:$,rt=this._events[j];return rt?rt.fn?1:rt.length:0},_.prototype.emit=function($,j,rt,it,ot,ht){var bt=s?s+$:$;if(!this._events[bt])return!1;var pt=this._events[bt],dt=arguments.length,lt,at;if(pt.fn){switch(pt.once&&this.removeListener($,pt.fn,void 0,!0),dt){case 1:return pt.fn.call(pt.context),!0;case 2:return pt.fn.call(pt.context,j),!0;case 3:return pt.fn.call(pt.context,j,rt),!0;case 4:return pt.fn.call(pt.context,j,rt,it),!0;case 5:return pt.fn.call(pt.context,j,rt,it,ot),!0;case 6:return pt.fn.call(pt.context,j,rt,it,ot,ht),!0}for(at=1,lt=new Array(dt-1);at<dt;at++)lt[at-1]=arguments[at];pt.fn.apply(pt.context,lt)}else{var xt=pt.length,Rt;for(at=0;at<xt;at++)switch(pt[at].once&&this.removeListener($,pt[at].fn,void 0,!0),dt){case 1:pt[at].fn.call(pt[at].context);break;case 2:pt[at].fn.call(pt[at].context,j);break;case 3:pt[at].fn.call(pt[at].context,j,rt);break;case 4:pt[at].fn.call(pt[at].context,j,rt,it);break;default:if(!lt)for(Rt=1,lt=new Array(dt-1);Rt<dt;Rt++)lt[Rt-1]=arguments[Rt];pt[at].fn.apply(pt[at].context,lt)}}return!0},_.prototype.on=function($,j,rt){return d(this,$,j,rt,!1)},_.prototype.once=function($,j,rt){return d(this,$,j,rt,!0)},_.prototype.removeListener=function($,j,rt,it){var ot=s?s+$:$;if(!this._events[ot])return this;if(!j)return h(this,ot),this;var ht=this._events[ot];if(ht.fn)ht.fn===j&&(!it||ht.once)&&(!rt||ht.context===rt)&&h(this,ot);else{for(var bt=0,pt=[],dt=ht.length;bt<dt;bt++)(ht[bt].fn!==j||it&&!ht[bt].once||rt&&ht[bt].context!==rt)&&pt.push(ht[bt]);pt.length?this._events[ot]=pt.length===1?pt[0]:pt:h(this,ot)}return this},_.prototype.removeAllListeners=function($){var j;return $?(j=s?s+$:$,this._events[j]&&h(this,j)):(this._events=new a,this._eventsCount=0),this},_.prototype.off=_.prototype.removeListener,_.prototype.addListener=_.prototype.on,_.prefixed=s,_.EventEmitter=_,o.exports=_})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs$2(eventemitter3Exports);var assert$1={exports:{}},errors$1={},util={},types$1={},shams$1=function o(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},s=Symbol("test"),a=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var c=42;e[s]=c;for(s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var d=Object.getOwnPropertySymbols(e);if(d.length!==1||d[0]!==s||!Object.prototype.propertyIsEnumerable.call(e,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(e,s);if(h.value!==c||h.enumerable!==!0)return!1}return!0},hasSymbols$3=shams$1,shams=function o(){return hasSymbols$3()&&!!Symbol.toStringTag},esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type$1=TypeError,uri=URIError,origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$2=function o(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function o(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$4=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function o(e,s){for(var a=[],c=0;c<e.length;c+=1)a[c]=e[c];for(var d=0;d<s.length;d+=1)a[d+e.length]=s[d];return a},slicy=function o(e,s){for(var a=[],c=s,d=0;c<e.length;c+=1,d+=1)a[d]=e[c];return a},joiny=function(o,e){for(var s="",a=0;a<o.length;a+=1)s+=o[a],a+1<o.length&&(s+=e);return s},implementation$7=function o(e){var s=this;if(typeof s!="function"||toStr$4.apply(s)!==funcType)throw new TypeError(ERROR_MESSAGE+s);for(var a=slicy(arguments,1),c,d=function(){if(this instanceof c){var j=s.apply(this,concatty(a,arguments));return Object(j)===j?j:this}return s.apply(e,concatty(a,arguments))},h=max(0,s.length-a.length),_=[],b=0;b<h;b++)_[b]="$"+b;if(c=Function("binder","return function ("+joiny(_,",")+"){ return binder.apply(this,arguments); }")(d),s.prototype){var $=function(){};$.prototype=s.prototype,c.prototype=new $,$.prototype=null}return c},implementation$6=implementation$7,functionBind=Function.prototype.bind||implementation$6,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type$1,$URIError=uri,$Function=Function,getEvalledConstructor=function(o){try{return $Function('"use strict"; return ('+o+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=hasSymbols$2(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(o){return o.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(o){var errorProto=getProto$1(getProto$1(o));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function o(e){var s;if(e==="%AsyncFunction%")s=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")s=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")s=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var a=o("%AsyncGeneratorFunction%");a&&(s=a.prototype)}else if(e==="%AsyncIteratorPrototype%"){var c=o("%AsyncGenerator%");c&&getProto$1&&(s=getProto$1(c.prototype))}return INTRINSICS[e]=s,s},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function o(e){var s=$strSlice(e,0,1),a=$strSlice(e,-1);if(s==="%"&&a!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&s!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var c=[];return $replace(e,rePropName,function(d,h,_,b){c[c.length]=_?$replace(b,reEscapeChar,"$1"):h||d}),c},getBaseIntrinsic=function o(e,s){var a=e,c;if(hasOwn(LEGACY_ALIASES,a)&&(c=LEGACY_ALIASES[a],a="%"+c[0]+"%"),hasOwn(INTRINSICS,a)){var d=INTRINSICS[a];if(d===needsEval&&(d=doEval(a)),typeof d>"u"&&!s)throw new $TypeError$2("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:c,name:a,value:d}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function o(e,s){if(typeof e!="string"||e.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof s!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=stringToPath(e),c=a.length>0?a[0]:"",d=getBaseIntrinsic("%"+c+"%",s),h=d.name,_=d.value,b=!1,$=d.alias;$&&(c=$[0],$spliceApply(a,$concat([0,1],$)));for(var j=1,rt=!0;j<a.length;j+=1){var it=a[j],ot=$strSlice(it,0,1),ht=$strSlice(it,-1);if((ot==='"'||ot==="'"||ot==="`"||ht==='"'||ht==="'"||ht==="`")&&ot!==ht)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((it==="constructor"||!rt)&&(b=!0),c+="."+it,h="%"+c+"%",hasOwn(INTRINSICS,h))_=INTRINSICS[h];else if(_!=null){if(!(it in _)){if(!s)throw new $TypeError$2("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&j+1>=a.length){var bt=$gOPD$1(_,it);rt=!!bt,rt&&"get"in bt&&!("originalValue"in bt.get)?_=bt.get:_=_[it]}else rt=hasOwn(_,it),_=_[it];rt&&!b&&(INTRINSICS[h]=_)}}return _},callBind$2={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var o=getIntrinsic,e=o("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return esDefineProperty=e,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$1=type$1,gopd=gopd$1,defineDataProperty=function o(e,s,a){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,_=arguments.length>6?arguments[6]:!1,b=!!gopd&&gopd(e,s);if($defineProperty$1)$defineProperty$1(e,s,{configurable:h===null&&b?b.configurable:!h,enumerable:c===null&&b?b.enumerable:!c,value:a,writable:d===null&&b?b.writable:!d});else if(_||!c&&!d&&!h)e[s]=a;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function o(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function o(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define$1=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type$1,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function o(e,s){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof s!="number"||s<0||s>4294967295||$floor(s)!==s)throw new $TypeError("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],c=!0,d=!0;if("length"in e&&gOPD$1){var h=gOPD$1(e,"length");h&&!h.configurable&&(c=!1),h&&!h.writable&&(d=!1)}return(c||d||!a)&&(hasDescriptors?define$1(e,"length",s,!0,!0):define$1(e,"length",s)),e};(function(o){var e=functionBind,s=getIntrinsic,a=setFunctionLength,c=type$1,d=s("%Function.prototype.apply%"),h=s("%Function.prototype.call%"),_=s("%Reflect.apply%",!0)||e.call(h,d),b=requireEsDefineProperty(),$=s("%Math.max%");o.exports=function(it){if(typeof it!="function")throw new c("a function is required");var ot=_(e,h,arguments);return a(ot,1+$(0,it.length-(arguments.length-1)),!0)};var j=function(){return _(e,d,arguments)};b?b(o.exports,"apply",{value:j}):o.exports.apply=j})(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic=getIntrinsic,callBind$1=callBindExports,$indexOf$1=callBind$1(GetIntrinsic("String.prototype.indexOf")),callBound$3=function o(e,s){var a=GetIntrinsic(e,!!s);return typeof a=="function"&&$indexOf$1(e,".prototype.")>-1?callBind$1(a):a},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function o(e){return hasToStringTag$3&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$1(e)==="[object Arguments]"},isLegacyArguments=function o(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$1(e)!=="[object Array]"&&$toString$1(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$3=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function o(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$2){var s=toStr$3.call(e);return s==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var a=getGeneratorFunc();GeneratorFunction=a?getProto(a):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(o){o!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function o(e){try{var s=fnToStr.call(e);return constructorRegex.test(s)}catch{return!1}},tryFunctionObject=function o(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$2=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function o(){return!1};if(typeof document=="object"){var all=document.all;toStr$2.call(all)===toStr$2.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var s=toStr$2.call(e);return(s===ddaClass||s===ddaClass2||s===ddaClass3||s===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function o(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(s){if(s!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function o(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var s=toStr$2.call(e);return s!==fnClass&&s!==genClass&&!/^\[object HTML/.test(s)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr$1=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function o(e,s,a){for(var c=0,d=e.length;c<d;c++)hasOwnProperty.call(e,c)&&(a==null?s(e[c],c,e):s.call(a,e[c],c,e))},forEachString=function o(e,s,a){for(var c=0,d=e.length;c<d;c++)a==null?s(e.charAt(c),c,e):s.call(a,e.charAt(c),c,e)},forEachObject=function o(e,s,a){for(var c in e)hasOwnProperty.call(e,c)&&(a==null?s(e[c],c,e):s.call(a,e[c],c,e))},forEach$1=function o(e,s,a){if(!isCallable(s))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=a),toStr$1.call(e)==="[object Array]"?forEachArray(e,s,c):typeof e=="string"?forEachString(e,s,c):forEachObject(e,s,c)},forEach_1=forEach$1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal$1:globalThis,availableTypedArrays$1=function o(){for(var e=[],s=0;s<possibleNames.length;s++)typeof g$1[possibleNames[s]]=="function"&&(e[e.length]=possibleNames[s]);return e},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound$1=callBound$3,gOPD=gopd$1,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound$1("Array.prototype.indexOf",!0)||function o(e,s){for(var a=0;a<e.length;a+=1)if(e[a]===s)return a;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(o){var e=new g[o];if(Symbol.toStringTag in e){var s=getPrototypeOf(e),a=gOPD(s,Symbol.toStringTag);if(!a){var c=getPrototypeOf(s);a=gOPD(c,Symbol.toStringTag)}cache["$"+o]=callBind(a.get)}}):forEach(typedArrays,function(o){var e=new g[o],s=e.slice||e.set;s&&(cache["$"+o]=callBind(s))});var tryTypedArrays=function o(e){var s=!1;return forEach(cache,function(a,c){if(!s)try{"$"+a(e)===c&&(s=$slice(c,1))}catch{}}),s},trySlices=function o(e){var s=!1;return forEach(cache,function(a,c){if(!s)try{a(e),s=$slice(c,1)}catch{}}),s},whichTypedArray$1=function o(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var s=$slice($toString(e),8,-1);return $indexOf(typedArrays,s)>-1?s:s!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray=function o(e){return!!whichTypedArray(e)};(function(o){var e=isArguments$1,s=isGeneratorFunction,a=whichTypedArray$1,c=isTypedArray;function d(Kt){return Kt.call.bind(Kt)}var h=typeof BigInt<"u",_=typeof Symbol<"u",b=d(Object.prototype.toString),$=d(Number.prototype.valueOf),j=d(String.prototype.valueOf),rt=d(Boolean.prototype.valueOf);if(h)var it=d(BigInt.prototype.valueOf);if(_)var ot=d(Symbol.prototype.valueOf);function ht(Kt,ln){if(typeof Kt!="object")return!1;try{return ln(Kt),!0}catch{return!1}}o.isArgumentsObject=e,o.isGeneratorFunction=s,o.isTypedArray=c;function bt(Kt){return typeof Promise<"u"&&Kt instanceof Promise||Kt!==null&&typeof Kt=="object"&&typeof Kt.then=="function"&&typeof Kt.catch=="function"}o.isPromise=bt;function pt(Kt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Kt):c(Kt)||ft(Kt)}o.isArrayBufferView=pt;function dt(Kt){return a(Kt)==="Uint8Array"}o.isUint8Array=dt;function lt(Kt){return a(Kt)==="Uint8ClampedArray"}o.isUint8ClampedArray=lt;function at(Kt){return a(Kt)==="Uint16Array"}o.isUint16Array=at;function xt(Kt){return a(Kt)==="Uint32Array"}o.isUint32Array=xt;function Rt(Kt){return a(Kt)==="Int8Array"}o.isInt8Array=Rt;function Tt(Kt){return a(Kt)==="Int16Array"}o.isInt16Array=Tt;function It(Kt){return a(Kt)==="Int32Array"}o.isInt32Array=It;function Bt(Kt){return a(Kt)==="Float32Array"}o.isFloat32Array=Bt;function Pt(Kt){return a(Kt)==="Float64Array"}o.isFloat64Array=Pt;function zt(Kt){return a(Kt)==="BigInt64Array"}o.isBigInt64Array=zt;function Ht(Kt){return a(Kt)==="BigUint64Array"}o.isBigUint64Array=Ht;function Ut(Kt){return b(Kt)==="[object Map]"}Ut.working=typeof Map<"u"&&Ut(new Map);function Et(Kt){return typeof Map>"u"?!1:Ut.working?Ut(Kt):Kt instanceof Map}o.isMap=Et;function _e(Kt){return b(Kt)==="[object Set]"}_e.working=typeof Set<"u"&&_e(new Set);function tt(Kt){return typeof Set>"u"?!1:_e.working?_e(Kt):Kt instanceof Set}o.isSet=tt;function ct(Kt){return b(Kt)==="[object WeakMap]"}ct.working=typeof WeakMap<"u"&&ct(new WeakMap);function mt(Kt){return typeof WeakMap>"u"?!1:ct.working?ct(Kt):Kt instanceof WeakMap}o.isWeakMap=mt;function yt(Kt){return b(Kt)==="[object WeakSet]"}yt.working=typeof WeakSet<"u"&&yt(new WeakSet);function gt(Kt){return yt(Kt)}o.isWeakSet=gt;function St(Kt){return b(Kt)==="[object ArrayBuffer]"}St.working=typeof ArrayBuffer<"u"&&St(new ArrayBuffer);function _t(Kt){return typeof ArrayBuffer>"u"?!1:St.working?St(Kt):Kt instanceof ArrayBuffer}o.isArrayBuffer=_t;function et(Kt){return b(Kt)==="[object DataView]"}et.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&et(new DataView(new ArrayBuffer(1),0,1));function ft(Kt){return typeof DataView>"u"?!1:et.working?et(Kt):Kt instanceof DataView}o.isDataView=ft;var vt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function $t(Kt){return b(Kt)==="[object SharedArrayBuffer]"}function kt(Kt){return typeof vt>"u"?!1:(typeof $t.working>"u"&&($t.working=$t(new vt)),$t.working?$t(Kt):Kt instanceof vt)}o.isSharedArrayBuffer=kt;function jt(Kt){return b(Kt)==="[object AsyncFunction]"}o.isAsyncFunction=jt;function Nt(Kt){return b(Kt)==="[object Map Iterator]"}o.isMapIterator=Nt;function Dt(Kt){return b(Kt)==="[object Set Iterator]"}o.isSetIterator=Dt;function Vt(Kt){return b(Kt)==="[object Generator]"}o.isGeneratorObject=Vt;function qt(Kt){return b(Kt)==="[object WebAssembly.Module]"}o.isWebAssemblyCompiledModule=qt;function Gt(Kt){return ht(Kt,$)}o.isNumberObject=Gt;function en(Kt){return ht(Kt,j)}o.isStringObject=en;function tn(Kt){return ht(Kt,rt)}o.isBooleanObject=tn;function on(Kt){return h&&ht(Kt,it)}o.isBigIntObject=on;function dn(Kt){return _&&ht(Kt,ot)}o.isSymbolObject=dn;function un(Kt){return Gt(Kt)||en(Kt)||tn(Kt)||on(Kt)||dn(Kt)}o.isBoxedPrimitive=un;function sn(Kt){return typeof Uint8Array<"u"&&(_t(Kt)||kt(Kt))}o.isAnyArrayBuffer=sn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Kt){Object.defineProperty(o,Kt,{enumerable:!1,value:function(){throw new Error(Kt+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function o(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,s){s&&(e.super_=s,e.prototype=Object.create(s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,s){if(s){e.super_=s;var a=function(){};a.prototype=s.prototype,e.prototype=new a,e.prototype.constructor=e}};var inherits_browserExports=inherits_browser.exports;(function(o){var e={},s=Object.getOwnPropertyDescriptors||function(vt){for(var $t=Object.keys(vt),kt={},jt=0;jt<$t.length;jt++)kt[$t[jt]]=Object.getOwnPropertyDescriptor(vt,$t[jt]);return kt},a=/%[sdj%]/g;o.format=function(ft){if(!Tt(ft)){for(var vt=[],$t=0;$t<arguments.length;$t++)vt.push(_(arguments[$t]));return vt.join(" ")}for(var $t=1,kt=arguments,jt=kt.length,Nt=String(ft).replace(a,function(Vt){if(Vt==="%%")return"%";if($t>=jt)return Vt;switch(Vt){case"%s":return String(kt[$t++]);case"%d":return Number(kt[$t++]);case"%j":try{return JSON.stringify(kt[$t++])}catch{return"[Circular]"}default:return Vt}}),Dt=kt[$t];$t<jt;Dt=kt[++$t])at(Dt)||!zt(Dt)?Nt+=" "+Dt:Nt+=" "+_(Dt);return Nt},o.deprecate=function(ft,vt){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return ft;if(typeof process$1>"u")return function(){return o.deprecate(ft,vt).apply(this,arguments)};var $t=!1;function kt(){if(!$t){if(process$1.throwDeprecation)throw new Error(vt);process$1.traceDeprecation?console.trace(vt):console.error(vt),$t=!0}return ft.apply(this,arguments)}return kt};var c={},d=/^$/;if(e.NODE_DEBUG){var h=e.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),d=new RegExp("^"+h+"$","i")}o.debuglog=function(ft){if(ft=ft.toUpperCase(),!c[ft])if(d.test(ft)){var vt=process$1.pid;c[ft]=function(){var $t=o.format.apply(o,arguments);console.error("%s %d: %s",ft,vt,$t)}}else c[ft]=function(){};return c[ft]};function _(ft,vt){var $t={seen:[],stylize:$};return arguments.length>=3&&($t.depth=arguments[2]),arguments.length>=4&&($t.colors=arguments[3]),lt(vt)?$t.showHidden=vt:vt&&o._extend($t,vt),Bt($t.showHidden)&&($t.showHidden=!1),Bt($t.depth)&&($t.depth=2),Bt($t.colors)&&($t.colors=!1),Bt($t.customInspect)&&($t.customInspect=!0),$t.colors&&($t.stylize=b),rt($t,ft,$t.depth)}o.inspect=_,_.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function b(ft,vt){var $t=_.styles[vt];return $t?"\x1B["+_.colors[$t][0]+"m"+ft+"\x1B["+_.colors[$t][1]+"m":ft}function $(ft,vt){return ft}function j(ft){var vt={};return ft.forEach(function($t,kt){vt[$t]=!0}),vt}function rt(ft,vt,$t){if(ft.customInspect&&vt&&Et(vt.inspect)&&vt.inspect!==o.inspect&&!(vt.constructor&&vt.constructor.prototype===vt)){var kt=vt.inspect($t,ft);return Tt(kt)||(kt=rt(ft,kt,$t)),kt}var jt=it(ft,vt);if(jt)return jt;var Nt=Object.keys(vt),Dt=j(Nt);if(ft.showHidden&&(Nt=Object.getOwnPropertyNames(vt)),Ut(vt)&&(Nt.indexOf("message")>=0||Nt.indexOf("description")>=0))return ot(vt);if(Nt.length===0){if(Et(vt)){var Vt=vt.name?": "+vt.name:"";return ft.stylize("[Function"+Vt+"]","special")}if(Pt(vt))return ft.stylize(RegExp.prototype.toString.call(vt),"regexp");if(Ht(vt))return ft.stylize(Date.prototype.toString.call(vt),"date");if(Ut(vt))return ot(vt)}var qt="",Gt=!1,en=["{","}"];if(dt(vt)&&(Gt=!0,en=["[","]"]),Et(vt)){var tn=vt.name?": "+vt.name:"";qt=" [Function"+tn+"]"}if(Pt(vt)&&(qt=" "+RegExp.prototype.toString.call(vt)),Ht(vt)&&(qt=" "+Date.prototype.toUTCString.call(vt)),Ut(vt)&&(qt=" "+ot(vt)),Nt.length===0&&(!Gt||vt.length==0))return en[0]+qt+en[1];if($t<0)return Pt(vt)?ft.stylize(RegExp.prototype.toString.call(vt),"regexp"):ft.stylize("[Object]","special");ft.seen.push(vt);var on;return Gt?on=ht(ft,vt,$t,Dt,Nt):on=Nt.map(function(dn){return bt(ft,vt,$t,Dt,dn,Gt)}),ft.seen.pop(),pt(on,qt,en)}function it(ft,vt){if(Bt(vt))return ft.stylize("undefined","undefined");if(Tt(vt)){var $t="'"+JSON.stringify(vt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ft.stylize($t,"string")}if(Rt(vt))return ft.stylize(""+vt,"number");if(lt(vt))return ft.stylize(""+vt,"boolean");if(at(vt))return ft.stylize("null","null")}function ot(ft){return"["+Error.prototype.toString.call(ft)+"]"}function ht(ft,vt,$t,kt,jt){for(var Nt=[],Dt=0,Vt=vt.length;Dt<Vt;++Dt)gt(vt,String(Dt))?Nt.push(bt(ft,vt,$t,kt,String(Dt),!0)):Nt.push("");return jt.forEach(function(qt){qt.match(/^\d+$/)||Nt.push(bt(ft,vt,$t,kt,qt,!0))}),Nt}function bt(ft,vt,$t,kt,jt,Nt){var Dt,Vt,qt;if(qt=Object.getOwnPropertyDescriptor(vt,jt)||{value:vt[jt]},qt.get?qt.set?Vt=ft.stylize("[Getter/Setter]","special"):Vt=ft.stylize("[Getter]","special"):qt.set&&(Vt=ft.stylize("[Setter]","special")),gt(kt,jt)||(Dt="["+jt+"]"),Vt||(ft.seen.indexOf(qt.value)<0?(at($t)?Vt=rt(ft,qt.value,null):Vt=rt(ft,qt.value,$t-1),Vt.indexOf(`
`)>-1&&(Nt?Vt=Vt.split(`
`).map(function(Gt){return"  "+Gt}).join(`
`).slice(2):Vt=`
`+Vt.split(`
`).map(function(Gt){return"   "+Gt}).join(`
`))):Vt=ft.stylize("[Circular]","special")),Bt(Dt)){if(Nt&&jt.match(/^\d+$/))return Vt;Dt=JSON.stringify(""+jt),Dt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Dt=Dt.slice(1,-1),Dt=ft.stylize(Dt,"name")):(Dt=Dt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Dt=ft.stylize(Dt,"string"))}return Dt+": "+Vt}function pt(ft,vt,$t){var kt=ft.reduce(function(jt,Nt){return Nt.indexOf(`
`)>=0,jt+Nt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return kt>60?$t[0]+(vt===""?"":vt+`
 `)+" "+ft.join(`,
  `)+" "+$t[1]:$t[0]+vt+" "+ft.join(", ")+" "+$t[1]}o.types=types$1;function dt(ft){return Array.isArray(ft)}o.isArray=dt;function lt(ft){return typeof ft=="boolean"}o.isBoolean=lt;function at(ft){return ft===null}o.isNull=at;function xt(ft){return ft==null}o.isNullOrUndefined=xt;function Rt(ft){return typeof ft=="number"}o.isNumber=Rt;function Tt(ft){return typeof ft=="string"}o.isString=Tt;function It(ft){return typeof ft=="symbol"}o.isSymbol=It;function Bt(ft){return ft===void 0}o.isUndefined=Bt;function Pt(ft){return zt(ft)&&tt(ft)==="[object RegExp]"}o.isRegExp=Pt,o.types.isRegExp=Pt;function zt(ft){return typeof ft=="object"&&ft!==null}o.isObject=zt;function Ht(ft){return zt(ft)&&tt(ft)==="[object Date]"}o.isDate=Ht,o.types.isDate=Ht;function Ut(ft){return zt(ft)&&(tt(ft)==="[object Error]"||ft instanceof Error)}o.isError=Ut,o.types.isNativeError=Ut;function Et(ft){return typeof ft=="function"}o.isFunction=Et;function _e(ft){return ft===null||typeof ft=="boolean"||typeof ft=="number"||typeof ft=="string"||typeof ft=="symbol"||typeof ft>"u"}o.isPrimitive=_e,o.isBuffer=isBufferBrowser;function tt(ft){return Object.prototype.toString.call(ft)}function ct(ft){return ft<10?"0"+ft.toString(10):ft.toString(10)}var mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function yt(){var ft=new Date,vt=[ct(ft.getHours()),ct(ft.getMinutes()),ct(ft.getSeconds())].join(":");return[ft.getDate(),mt[ft.getMonth()],vt].join(" ")}o.log=function(){console.log("%s - %s",yt(),o.format.apply(o,arguments))},o.inherits=inherits_browserExports,o._extend=function(ft,vt){if(!vt||!zt(vt))return ft;for(var $t=Object.keys(vt),kt=$t.length;kt--;)ft[$t[kt]]=vt[$t[kt]];return ft};function gt(ft,vt){return Object.prototype.hasOwnProperty.call(ft,vt)}var St=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;o.promisify=function(vt){if(typeof vt!="function")throw new TypeError('The "original" argument must be of type Function');if(St&&vt[St]){var $t=vt[St];if(typeof $t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty($t,St,{value:$t,enumerable:!1,writable:!1,configurable:!0}),$t}function $t(){for(var kt,jt,Nt=new Promise(function(qt,Gt){kt=qt,jt=Gt}),Dt=[],Vt=0;Vt<arguments.length;Vt++)Dt.push(arguments[Vt]);Dt.push(function(qt,Gt){qt?jt(qt):kt(Gt)});try{vt.apply(this,Dt)}catch(qt){jt(qt)}return Nt}return Object.setPrototypeOf($t,Object.getPrototypeOf(vt)),St&&Object.defineProperty($t,St,{value:$t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties($t,s(vt))},o.promisify.custom=St;function _t(ft,vt){if(!ft){var $t=new Error("Promise was rejected with a falsy value");$t.reason=ft,ft=$t}return vt(ft)}function et(ft){if(typeof ft!="function")throw new TypeError('The "original" argument must be of type Function');function vt(){for(var $t=[],kt=0;kt<arguments.length;kt++)$t.push(arguments[kt]);var jt=$t.pop();if(typeof jt!="function")throw new TypeError("The last argument must be of type Function");var Nt=this,Dt=function(){return jt.apply(Nt,arguments)};ft.apply(this,$t).then(function(Vt){process$1.nextTick(Dt.bind(null,null,Vt))},function(Vt){process$1.nextTick(_t.bind(null,Vt,Dt))})}return Object.setPrototypeOf(vt,Object.getPrototypeOf(ft)),Object.defineProperties(vt,s(ft)),vt}o.callbackify=et})(util);var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors$1;hasRequiredErrors=1;function o(lt){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(at){return typeof at}:function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at},o(lt)}function e(lt,at,xt){return Object.defineProperty(lt,"prototype",{writable:!1}),lt}function s(lt,at){if(!(lt instanceof at))throw new TypeError("Cannot call a class as a function")}function a(lt,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(at&&at.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),at&&c(lt,at)}function c(lt,at){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Rt,Tt){return Rt.__proto__=Tt,Rt},c(lt,at)}function d(lt){var at=b();return function(){var Rt=$(lt),Tt;if(at){var It=$(this).constructor;Tt=Reflect.construct(Rt,arguments,It)}else Tt=Rt.apply(this,arguments);return h(this,Tt)}}function h(lt,at){if(at&&(o(at)==="object"||typeof at=="function"))return at;if(at!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(lt)}function _(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(lt){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xt){return xt.__proto__||Object.getPrototypeOf(xt)},$(lt)}var j={},rt,it;function ot(lt,at,xt){xt||(xt=Error);function Rt(It,Bt,Pt){return typeof at=="string"?at:at(It,Bt,Pt)}var Tt=function(It){a(Pt,It);var Bt=d(Pt);function Pt(zt,Ht,Ut){var Et;return s(this,Pt),Et=Bt.call(this,Rt(zt,Ht,Ut)),Et.code=lt,Et}return e(Pt)}(xt);j[lt]=Tt}function ht(lt,at){if(Array.isArray(lt)){var xt=lt.length;return lt=lt.map(function(Rt){return String(Rt)}),xt>2?"one of ".concat(at," ").concat(lt.slice(0,xt-1).join(", "),", or ")+lt[xt-1]:xt===2?"one of ".concat(at," ").concat(lt[0]," or ").concat(lt[1]):"of ".concat(at," ").concat(lt[0])}else return"of ".concat(at," ").concat(String(lt))}function bt(lt,at,xt){return lt.substr(0,at.length)===at}function pt(lt,at,xt){return(xt===void 0||xt>lt.length)&&(xt=lt.length),lt.substring(xt-at.length,xt)===at}function dt(lt,at,xt){return typeof xt!="number"&&(xt=0),xt+at.length>lt.length?!1:lt.indexOf(at,xt)!==-1}return ot("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),ot("ERR_INVALID_ARG_TYPE",function(lt,at,xt){rt===void 0&&(rt=requireAssert()),rt(typeof lt=="string","'name' must be a string");var Rt;typeof at=="string"&&bt(at,"not ")?(Rt="must not be",at=at.replace(/^not /,"")):Rt="must be";var Tt;if(pt(lt," argument"))Tt="The ".concat(lt," ").concat(Rt," ").concat(ht(at,"type"));else{var It=dt(lt,".")?"property":"argument";Tt='The "'.concat(lt,'" ').concat(It," ").concat(Rt," ").concat(ht(at,"type"))}return Tt+=". Received type ".concat(o(xt)),Tt},TypeError),ot("ERR_INVALID_ARG_VALUE",function(lt,at){var xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";it===void 0&&(it=util);var Rt=it.inspect(at);return Rt.length>128&&(Rt="".concat(Rt.slice(0,128),"...")),"The argument '".concat(lt,"' ").concat(xt,". Received ").concat(Rt)},TypeError),ot("ERR_INVALID_RETURN_VALUE",function(lt,at,xt){var Rt;return xt&&xt.constructor&&xt.constructor.name?Rt="instance of ".concat(xt.constructor.name):Rt="type ".concat(o(xt)),"Expected ".concat(lt,' to be returned from the "').concat(at,'"')+" function but got ".concat(Rt,".")},TypeError),ot("ERR_MISSING_ARGS",function(){for(var lt=arguments.length,at=new Array(lt),xt=0;xt<lt;xt++)at[xt]=arguments[xt];rt===void 0&&(rt=requireAssert()),rt(at.length>0,"At least one arg needs to be specified");var Rt="The ",Tt=at.length;switch(at=at.map(function(It){return'"'.concat(It,'"')}),Tt){case 1:Rt+="".concat(at[0]," argument");break;case 2:Rt+="".concat(at[0]," and ").concat(at[1]," arguments");break;default:Rt+=at.slice(0,Tt-1).join(", "),Rt+=", and ".concat(at[Tt-1]," arguments");break}return"".concat(Rt," must be specified")},TypeError),errors$1.codes=j,errors$1}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function o(gt,St){var _t=Object.keys(gt);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(gt);St&&(et=et.filter(function(ft){return Object.getOwnPropertyDescriptor(gt,ft).enumerable})),_t.push.apply(_t,et)}return _t}function e(gt){for(var St=1;St<arguments.length;St++){var _t=arguments[St]!=null?arguments[St]:{};St%2?o(Object(_t),!0).forEach(function(et){s(gt,et,_t[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(_t)):o(Object(_t)).forEach(function(et){Object.defineProperty(gt,et,Object.getOwnPropertyDescriptor(_t,et))})}return gt}function s(gt,St,_t){return St=h(St),St in gt?Object.defineProperty(gt,St,{value:_t,enumerable:!0,configurable:!0,writable:!0}):gt[St]=_t,gt}function a(gt,St){if(!(gt instanceof St))throw new TypeError("Cannot call a class as a function")}function c(gt,St){for(var _t=0;_t<St.length;_t++){var et=St[_t];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(gt,h(et.key),et)}}function d(gt,St,_t){return St&&c(gt.prototype,St),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function h(gt){var St=_(gt,"string");return lt(St)==="symbol"?St:String(St)}function _(gt,St){if(lt(gt)!=="object"||gt===null)return gt;var _t=gt[Symbol.toPrimitive];if(_t!==void 0){var et=_t.call(gt,St||"default");if(lt(et)!=="object")return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(gt)}function b(gt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(St&&St.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),St&&pt(gt,St)}function $(gt){var St=ht();return function(){var et=dt(gt),ft;if(St){var vt=dt(this).constructor;ft=Reflect.construct(et,arguments,vt)}else ft=et.apply(this,arguments);return j(this,ft)}}function j(gt,St){if(St&&(lt(St)==="object"||typeof St=="function"))return St;if(St!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(gt)}function rt(gt){if(gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}function it(gt){var St=typeof Map=="function"?new Map:void 0;return it=function(et){if(et===null||!bt(et))return et;if(typeof et!="function")throw new TypeError("Super expression must either be null or a function");if(typeof St<"u"){if(St.has(et))return St.get(et);St.set(et,ft)}function ft(){return ot(et,arguments,dt(this).constructor)}return ft.prototype=Object.create(et.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),pt(ft,et)},it(gt)}function ot(gt,St,_t){return ht()?ot=Reflect.construct.bind():ot=function(ft,vt,$t){var kt=[null];kt.push.apply(kt,vt);var jt=Function.bind.apply(ft,kt),Nt=new jt;return $t&&pt(Nt,$t.prototype),Nt},ot.apply(null,arguments)}function ht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bt(gt){return Function.toString.call(gt).indexOf("[native code]")!==-1}function pt(gt,St){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,ft){return et.__proto__=ft,et},pt(gt,St)}function dt(gt){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_t){return _t.__proto__||Object.getPrototypeOf(_t)},dt(gt)}function lt(gt){"@babel/helpers - typeof";return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},lt(gt)}var at=util,xt=at.inspect,Rt=requireErrors(),Tt=Rt.codes.ERR_INVALID_ARG_TYPE;function It(gt,St,_t){return(_t===void 0||_t>gt.length)&&(_t=gt.length),gt.substring(_t-St.length,_t)===St}function Bt(gt,St){if(St=Math.floor(St),gt.length==0||St==0)return"";var _t=gt.length*St;for(St=Math.floor(Math.log(St)/Math.log(2));St;)gt+=gt,St--;return gt+=gt.substring(0,_t-gt.length),gt}var Pt="",zt="",Ht="",Ut="",Et={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},_e=10;function tt(gt){var St=Object.keys(gt),_t=Object.create(Object.getPrototypeOf(gt));return St.forEach(function(et){_t[et]=gt[et]}),Object.defineProperty(_t,"message",{value:gt.message}),_t}function ct(gt){return xt(gt,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function mt(gt,St,_t){var et="",ft="",vt=0,$t="",kt=!1,jt=ct(gt),Nt=jt.split(`
`),Dt=ct(St).split(`
`),Vt=0,qt="";if(_t==="strictEqual"&&lt(gt)==="object"&&lt(St)==="object"&&gt!==null&&St!==null&&(_t="strictEqualObject"),Nt.length===1&&Dt.length===1&&Nt[0]!==Dt[0]){var Gt=Nt[0].length+Dt[0].length;if(Gt<=_e){if((lt(gt)!=="object"||gt===null)&&(lt(St)!=="object"||St===null)&&(gt!==0||St!==0))return"".concat(Et[_t],`

`)+"".concat(Nt[0]," !== ").concat(Dt[0],`
`)}else if(_t!=="strictEqualObject"){var en=process$1.stderr&&process$1.stderr.isTTY?process$1.stderr.columns:80;if(Gt<en){for(;Nt[0][Vt]===Dt[0][Vt];)Vt++;Vt>2&&(qt=`
  `.concat(Bt(" ",Vt),"^"),Vt=0)}}}for(var tn=Nt[Nt.length-1],on=Dt[Dt.length-1];tn===on&&(Vt++<2?$t=`
  `.concat(tn).concat($t):et=tn,Nt.pop(),Dt.pop(),!(Nt.length===0||Dt.length===0));)tn=Nt[Nt.length-1],on=Dt[Dt.length-1];var dn=Math.max(Nt.length,Dt.length);if(dn===0){var un=jt.split(`
`);if(un.length>30)for(un[26]="".concat(Pt,"...").concat(Ut);un.length>27;)un.pop();return"".concat(Et.notIdentical,`

`).concat(un.join(`
`),`
`)}Vt>3&&($t=`
`.concat(Pt,"...").concat(Ut).concat($t),kt=!0),et!==""&&($t=`
  `.concat(et).concat($t),et="");var sn=0,Kt=Et[_t]+`
`.concat(zt,"+ actual").concat(Ut," ").concat(Ht,"- expected").concat(Ut),ln=" ".concat(Pt,"...").concat(Ut," Lines skipped");for(Vt=0;Vt<dn;Vt++){var an=Vt-vt;if(Nt.length<Vt+1)an>1&&Vt>2&&(an>4?(ft+=`
`.concat(Pt,"...").concat(Ut),kt=!0):an>3&&(ft+=`
  `.concat(Dt[Vt-2]),sn++),ft+=`
  `.concat(Dt[Vt-1]),sn++),vt=Vt,et+=`
`.concat(Ht,"-").concat(Ut," ").concat(Dt[Vt]),sn++;else if(Dt.length<Vt+1)an>1&&Vt>2&&(an>4?(ft+=`
`.concat(Pt,"...").concat(Ut),kt=!0):an>3&&(ft+=`
  `.concat(Nt[Vt-2]),sn++),ft+=`
  `.concat(Nt[Vt-1]),sn++),vt=Vt,ft+=`
`.concat(zt,"+").concat(Ut," ").concat(Nt[Vt]),sn++;else{var Tn=Dt[Vt],cn=Nt[Vt],Ct=cn!==Tn&&(!It(cn,",")||cn.slice(0,-1)!==Tn);Ct&&It(Tn,",")&&Tn.slice(0,-1)===cn&&(Ct=!1,cn+=","),Ct?(an>1&&Vt>2&&(an>4?(ft+=`
`.concat(Pt,"...").concat(Ut),kt=!0):an>3&&(ft+=`
  `.concat(Nt[Vt-2]),sn++),ft+=`
  `.concat(Nt[Vt-1]),sn++),vt=Vt,ft+=`
`.concat(zt,"+").concat(Ut," ").concat(cn),et+=`
`.concat(Ht,"-").concat(Ut," ").concat(Tn),sn+=2):(ft+=et,et="",(an===1||Vt===0)&&(ft+=`
  `.concat(cn),sn++))}if(sn>20&&Vt<dn-2)return"".concat(Kt).concat(ln,`
`).concat(ft,`
`).concat(Pt,"...").concat(Ut).concat(et,`
`)+"".concat(Pt,"...").concat(Ut)}return"".concat(Kt).concat(kt?ln:"",`
`).concat(ft).concat(et).concat($t).concat(qt)}var yt=function(gt,St){b(et,gt);var _t=$(et);function et(ft){var vt;if(a(this,et),lt(ft)!=="object"||ft===null)throw new Tt("options","Object",ft);var $t=ft.message,kt=ft.operator,jt=ft.stackStartFn,Nt=ft.actual,Dt=ft.expected,Vt=Error.stackTraceLimit;if(Error.stackTraceLimit=0,$t!=null)vt=_t.call(this,String($t));else if(process$1.stderr&&process$1.stderr.isTTY&&(process$1.stderr&&process$1.stderr.getColorDepth&&process$1.stderr.getColorDepth()!==1?(Pt="\x1B[34m",zt="\x1B[32m",Ut="\x1B[39m",Ht="\x1B[31m"):(Pt="",zt="",Ut="",Ht="")),lt(Nt)==="object"&&Nt!==null&&lt(Dt)==="object"&&Dt!==null&&"stack"in Nt&&Nt instanceof Error&&"stack"in Dt&&Dt instanceof Error&&(Nt=tt(Nt),Dt=tt(Dt)),kt==="deepStrictEqual"||kt==="strictEqual")vt=_t.call(this,mt(Nt,Dt,kt));else if(kt==="notDeepStrictEqual"||kt==="notStrictEqual"){var qt=Et[kt],Gt=ct(Nt).split(`
`);if(kt==="notStrictEqual"&&lt(Nt)==="object"&&Nt!==null&&(qt=Et.notStrictEqualObject),Gt.length>30)for(Gt[26]="".concat(Pt,"...").concat(Ut);Gt.length>27;)Gt.pop();Gt.length===1?vt=_t.call(this,"".concat(qt," ").concat(Gt[0])):vt=_t.call(this,"".concat(qt,`

`).concat(Gt.join(`
`),`
`))}else{var en=ct(Nt),tn="",on=Et[kt];kt==="notDeepEqual"||kt==="notEqual"?(en="".concat(Et[kt],`

`).concat(en),en.length>1024&&(en="".concat(en.slice(0,1021),"..."))):(tn="".concat(ct(Dt)),en.length>512&&(en="".concat(en.slice(0,509),"...")),tn.length>512&&(tn="".concat(tn.slice(0,509),"...")),kt==="deepEqual"||kt==="equal"?en="".concat(on,`

`).concat(en,`

should equal

`):tn=" ".concat(kt," ").concat(tn)),vt=_t.call(this,"".concat(en).concat(tn))}return Error.stackTraceLimit=Vt,vt.generatedMessage=!$t,Object.defineProperty(rt(vt),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),vt.code="ERR_ASSERTION",vt.actual=Nt,vt.expected=Dt,vt.operator=kt,Error.captureStackTrace&&Error.captureStackTrace(rt(vt),jt),vt.stack,vt.name="AssertionError",j(vt)}return d(et,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:St,value:function(vt,$t){return xt(this,e(e({},$t),{},{customInspect:!1,depth:0}))}}]),et}(it(Error),xt.custom);return assertion_error=yt,assertion_error}var toStr=Object.prototype.toString,isArguments=function o(e){var s=toStr.call(e),a=s==="[object Arguments]";return a||(a=s!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&toStr.call(e.callee)==="[object Function]"),a},implementation$5,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$5;hasRequiredImplementation$1=1;var o;if(!Object.keys){var e=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=isArguments,c=Object.prototype.propertyIsEnumerable,d=!c.call({toString:null},"toString"),h=c.call(function(){},"prototype"),_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],b=function(it){var ot=it.constructor;return ot&&ot.prototype===it},$={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},j=function(){if(typeof window>"u")return!1;for(var it in window)try{if(!$["$"+it]&&e.call(window,it)&&window[it]!==null&&typeof window[it]=="object")try{b(window[it])}catch{return!0}}catch{return!0}return!1}(),rt=function(it){if(typeof window>"u"||!j)return b(it);try{return b(it)}catch{return!1}};o=function(ot){var ht=ot!==null&&typeof ot=="object",bt=s.call(ot)==="[object Function]",pt=a(ot),dt=ht&&s.call(ot)==="[object String]",lt=[];if(!ht&&!bt&&!pt)throw new TypeError("Object.keys called on a non-object");var at=h&&bt;if(dt&&ot.length>0&&!e.call(ot,0))for(var xt=0;xt<ot.length;++xt)lt.push(String(xt));if(pt&&ot.length>0)for(var Rt=0;Rt<ot.length;++Rt)lt.push(String(Rt));else for(var Tt in ot)!(at&&Tt==="prototype")&&e.call(ot,Tt)&&lt.push(String(Tt));if(d)for(var It=rt(ot),Bt=0;Bt<_.length;++Bt)!(It&&_[Bt]==="constructor")&&e.call(ot,_[Bt])&&lt.push(_[Bt]);return lt}}return implementation$5=o,implementation$5}var slice=Array.prototype.slice,isArgs=isArguments,origKeys=Object.keys,keysShim=origKeys?function o(e){return origKeys(e)}:requireImplementation$1(),originalKeys=Object.keys;keysShim.shim=function o(){if(Object.keys){var e=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);e||(Object.keys=function(a){return isArgs(a)?originalKeys(slice.call(a)):originalKeys(a)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$1=keysShim,objectKeys=objectKeys$1,hasSymbols=shams$1(),callBound=callBound$3,toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols?Object.getOwnPropertySymbols:null,implementation$4=function o(e,s){if(e==null)throw new TypeError("target must be an object");var a=toObject(e);if(arguments.length===1)return a;for(var c=1;c<arguments.length;++c){var d=toObject(arguments[c]),h=objectKeys(d),_=hasSymbols&&(Object.getOwnPropertySymbols||originalGetSymbols);if(_)for(var b=_(d),$=0;$<b.length;++$){var j=b[$];$propIsEnumerable(d,j)&&$push(h,j)}for(var rt=0;rt<h.length;++rt){var it=h[rt];if($propIsEnumerable(d,it)){var ot=d[it];a[it]=ot}}}return a},implementation$3=implementation$4,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var o="abcdefghijklmnopqrst",e=o.split(""),s={},a=0;a<e.length;++a)s[e[a]]=e[a];var c=Object.assign({},s),d="";for(var h in c)d+=h;return o!==d},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var o=Object.preventExtensions({1:2});try{Object.assign(o,"xy")}catch{return o[1]==="y"}return!1},polyfill$2=function o(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$3:Object.assign},numberIsNaN=function(o){return o!==o},implementation$2=function o(e,s){return e===0&&s===0?1/e===1/s:!!(e===s||numberIsNaN(e)&&numberIsNaN(s))},implementation$1=implementation$2,polyfill$1=function o(){return typeof Object.is=="function"?Object.is:implementation$1},defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var o=objectKeys$1,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",s=Object.prototype.toString,a=Array.prototype.concat,c=defineDataProperty,d=function($){return typeof $=="function"&&s.call($)==="[object Function]"},h=hasPropertyDescriptors_1(),_=function($,j,rt,it){if(j in $){if(it===!0){if($[j]===rt)return}else if(!d(it)||!it())return}h?c($,j,rt,!0):c($,j,rt)},b=function($,j){var rt=arguments.length>2?arguments[2]:{},it=o(j);e&&(it=a.call(it,Object.getOwnPropertySymbols(j)));for(var ot=0;ot<it.length;ot+=1)_($,it[ot],j[it[ot]],rt[it[ot]])};return b.supportsDescriptors=!!h,defineProperties_1=b,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var o=polyfill$1,e=requireDefineProperties();return shim$1=function(){var a=o();return e(Object,{is:a},{is:function(){return Object.is!==a}}),a},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var o=requireDefineProperties(),e=callBindExports,s=implementation$2,a=polyfill$1,c=requireShim$1(),d=e(a(),Object);return o(d,{getPolyfill:a,implementation:s,shim:c}),objectIs=d,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(e){return e!==e}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var o=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:o},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var o=requireDefineProperties(),e=requirePolyfill();return shim=function(){var a=e();return o(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var o=callBindExports,e=requireDefineProperties(),s=requireImplementation(),a=requirePolyfill(),c=requireShim(),d=o(a(),Number);return e(d,{getPolyfill:a,implementation:s,shim:c}),isNan=d,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function o(Ct,Mt){return d(Ct)||c(Ct,Mt)||s(Ct,Mt)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(Ct,Mt){if(Ct){if(typeof Ct=="string")return a(Ct,Mt);var Wt=Object.prototype.toString.call(Ct).slice(8,-1);if(Wt==="Object"&&Ct.constructor&&(Wt=Ct.constructor.name),Wt==="Map"||Wt==="Set")return Array.from(Ct);if(Wt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Wt))return a(Ct,Mt)}}function a(Ct,Mt){(Mt==null||Mt>Ct.length)&&(Mt=Ct.length);for(var Wt=0,Yt=new Array(Mt);Wt<Mt;Wt++)Yt[Wt]=Ct[Wt];return Yt}function c(Ct,Mt){var Wt=Ct==null?null:typeof Symbol<"u"&&Ct[Symbol.iterator]||Ct["@@iterator"];if(Wt!=null){var Yt,Zt,Xt,wt,nt=[],st=!0,At=!1;try{if(Xt=(Wt=Wt.call(Ct)).next,Mt!==0)for(;!(st=(Yt=Xt.call(Wt)).done)&&(nt.push(Yt.value),nt.length!==Mt);st=!0);}catch(Lt){At=!0,Zt=Lt}finally{try{if(!st&&Wt.return!=null&&(wt=Wt.return(),Object(wt)!==wt))return}finally{if(At)throw Zt}}return nt}}function d(Ct){if(Array.isArray(Ct))return Ct}function h(Ct){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt},h(Ct)}var _=/a/g.flags!==void 0,b=function(Mt){var Wt=[];return Mt.forEach(function(Yt){return Wt.push(Yt)}),Wt},$=function(Mt){var Wt=[];return Mt.forEach(function(Yt,Zt){return Wt.push([Zt,Yt])}),Wt},j=Object.is?Object.is:requireObjectIs(),rt=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},it=Number.isNaN?Number.isNaN:requireIsNan();function ot(Ct){return Ct.call.bind(Ct)}var ht=ot(Object.prototype.hasOwnProperty),bt=ot(Object.prototype.propertyIsEnumerable),pt=ot(Object.prototype.toString),dt=util.types,lt=dt.isAnyArrayBuffer,at=dt.isArrayBufferView,xt=dt.isDate,Rt=dt.isMap,Tt=dt.isRegExp,It=dt.isSet,Bt=dt.isNativeError,Pt=dt.isBoxedPrimitive,zt=dt.isNumberObject,Ht=dt.isStringObject,Ut=dt.isBooleanObject,Et=dt.isBigIntObject,_e=dt.isSymbolObject,tt=dt.isFloat32Array,ct=dt.isFloat64Array;function mt(Ct){if(Ct.length===0||Ct.length>10)return!0;for(var Mt=0;Mt<Ct.length;Mt++){var Wt=Ct.charCodeAt(Mt);if(Wt<48||Wt>57)return!0}return Ct.length===10&&Ct>=Math.pow(2,32)}function yt(Ct){return Object.keys(Ct).filter(mt).concat(rt(Ct).filter(Object.prototype.propertyIsEnumerable.bind(Ct)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function gt(Ct,Mt){if(Ct===Mt)return 0;for(var Wt=Ct.length,Yt=Mt.length,Zt=0,Xt=Math.min(Wt,Yt);Zt<Xt;++Zt)if(Ct[Zt]!==Mt[Zt]){Wt=Ct[Zt],Yt=Mt[Zt];break}return Wt<Yt?-1:Yt<Wt?1:0}var St=!0,_t=!1,et=0,ft=1,vt=2,$t=3;function kt(Ct,Mt){return _?Ct.source===Mt.source&&Ct.flags===Mt.flags:RegExp.prototype.toString.call(Ct)===RegExp.prototype.toString.call(Mt)}function jt(Ct,Mt){if(Ct.byteLength!==Mt.byteLength)return!1;for(var Wt=0;Wt<Ct.byteLength;Wt++)if(Ct[Wt]!==Mt[Wt])return!1;return!0}function Nt(Ct,Mt){return Ct.byteLength!==Mt.byteLength?!1:gt(new Uint8Array(Ct.buffer,Ct.byteOffset,Ct.byteLength),new Uint8Array(Mt.buffer,Mt.byteOffset,Mt.byteLength))===0}function Dt(Ct,Mt){return Ct.byteLength===Mt.byteLength&&gt(new Uint8Array(Ct),new Uint8Array(Mt))===0}function Vt(Ct,Mt){return zt(Ct)?zt(Mt)&&j(Number.prototype.valueOf.call(Ct),Number.prototype.valueOf.call(Mt)):Ht(Ct)?Ht(Mt)&&String.prototype.valueOf.call(Ct)===String.prototype.valueOf.call(Mt):Ut(Ct)?Ut(Mt)&&Boolean.prototype.valueOf.call(Ct)===Boolean.prototype.valueOf.call(Mt):Et(Ct)?Et(Mt)&&BigInt.prototype.valueOf.call(Ct)===BigInt.prototype.valueOf.call(Mt):_e(Mt)&&Symbol.prototype.valueOf.call(Ct)===Symbol.prototype.valueOf.call(Mt)}function qt(Ct,Mt,Wt,Yt){if(Ct===Mt)return Ct!==0?!0:Wt?j(Ct,Mt):!0;if(Wt){if(h(Ct)!=="object")return typeof Ct=="number"&&it(Ct)&&it(Mt);if(h(Mt)!=="object"||Ct===null||Mt===null||Object.getPrototypeOf(Ct)!==Object.getPrototypeOf(Mt))return!1}else{if(Ct===null||h(Ct)!=="object")return Mt===null||h(Mt)!=="object"?Ct==Mt:!1;if(Mt===null||h(Mt)!=="object")return!1}var Zt=pt(Ct),Xt=pt(Mt);if(Zt!==Xt)return!1;if(Array.isArray(Ct)){if(Ct.length!==Mt.length)return!1;var wt=yt(Ct),nt=yt(Mt);return wt.length!==nt.length?!1:en(Ct,Mt,Wt,Yt,ft,wt)}if(Zt==="[object Object]"&&(!Rt(Ct)&&Rt(Mt)||!It(Ct)&&It(Mt)))return!1;if(xt(Ct)){if(!xt(Mt)||Date.prototype.getTime.call(Ct)!==Date.prototype.getTime.call(Mt))return!1}else if(Tt(Ct)){if(!Tt(Mt)||!kt(Ct,Mt))return!1}else if(Bt(Ct)||Ct instanceof Error){if(Ct.message!==Mt.message||Ct.name!==Mt.name)return!1}else if(at(Ct)){if(!Wt&&(tt(Ct)||ct(Ct))){if(!jt(Ct,Mt))return!1}else if(!Nt(Ct,Mt))return!1;var st=yt(Ct),At=yt(Mt);return st.length!==At.length?!1:en(Ct,Mt,Wt,Yt,et,st)}else{if(It(Ct))return!It(Mt)||Ct.size!==Mt.size?!1:en(Ct,Mt,Wt,Yt,vt);if(Rt(Ct))return!Rt(Mt)||Ct.size!==Mt.size?!1:en(Ct,Mt,Wt,Yt,$t);if(lt(Ct)){if(!Dt(Ct,Mt))return!1}else if(Pt(Ct)&&!Vt(Ct,Mt))return!1}return en(Ct,Mt,Wt,Yt,et)}function Gt(Ct,Mt){return Mt.filter(function(Wt){return bt(Ct,Wt)})}function en(Ct,Mt,Wt,Yt,Zt,Xt){if(arguments.length===5){Xt=Object.keys(Ct);var wt=Object.keys(Mt);if(Xt.length!==wt.length)return!1}for(var nt=0;nt<Xt.length;nt++)if(!ht(Mt,Xt[nt]))return!1;if(Wt&&arguments.length===5){var st=rt(Ct);if(st.length!==0){var At=0;for(nt=0;nt<st.length;nt++){var Lt=st[nt];if(bt(Ct,Lt)){if(!bt(Mt,Lt))return!1;Xt.push(Lt),At++}else if(bt(Mt,Lt))return!1}var Ot=rt(Mt);if(st.length!==Ot.length&&Gt(Mt,Ot).length!==At)return!1}else{var Ft=rt(Mt);if(Ft.length!==0&&Gt(Mt,Ft).length!==0)return!1}}if(Xt.length===0&&(Zt===et||Zt===ft&&Ct.length===0||Ct.size===0))return!0;if(Yt===void 0)Yt={val1:new Map,val2:new Map,position:0};else{var rn=Yt.val1.get(Ct);if(rn!==void 0){var Jt=Yt.val2.get(Mt);if(Jt!==void 0)return rn===Jt}Yt.position++}Yt.val1.set(Ct,Yt.position),Yt.val2.set(Mt,Yt.position);var Qt=an(Ct,Mt,Wt,Xt,Yt,Zt);return Yt.val1.delete(Ct),Yt.val2.delete(Mt),Qt}function tn(Ct,Mt,Wt,Yt){for(var Zt=b(Ct),Xt=0;Xt<Zt.length;Xt++){var wt=Zt[Xt];if(qt(Mt,wt,Wt,Yt))return Ct.delete(wt),!0}return!1}function on(Ct){switch(h(Ct)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ct=+Ct;case"number":if(it(Ct))return!1}return!0}function dn(Ct,Mt,Wt){var Yt=on(Wt);return Yt??(Mt.has(Yt)&&!Ct.has(Yt))}function un(Ct,Mt,Wt,Yt,Zt){var Xt=on(Wt);if(Xt!=null)return Xt;var wt=Mt.get(Xt);return wt===void 0&&!Mt.has(Xt)||!qt(Yt,wt,!1,Zt)?!1:!Ct.has(Xt)&&qt(Yt,wt,!1,Zt)}function sn(Ct,Mt,Wt,Yt){for(var Zt=null,Xt=b(Ct),wt=0;wt<Xt.length;wt++){var nt=Xt[wt];if(h(nt)==="object"&&nt!==null)Zt===null&&(Zt=new Set),Zt.add(nt);else if(!Mt.has(nt)){if(Wt||!dn(Ct,Mt,nt))return!1;Zt===null&&(Zt=new Set),Zt.add(nt)}}if(Zt!==null){for(var st=b(Mt),At=0;At<st.length;At++){var Lt=st[At];if(h(Lt)==="object"&&Lt!==null){if(!tn(Zt,Lt,Wt,Yt))return!1}else if(!Wt&&!Ct.has(Lt)&&!tn(Zt,Lt,Wt,Yt))return!1}return Zt.size===0}return!0}function Kt(Ct,Mt,Wt,Yt,Zt,Xt){for(var wt=b(Ct),nt=0;nt<wt.length;nt++){var st=wt[nt];if(qt(Wt,st,Zt,Xt)&&qt(Yt,Mt.get(st),Zt,Xt))return Ct.delete(st),!0}return!1}function ln(Ct,Mt,Wt,Yt){for(var Zt=null,Xt=$(Ct),wt=0;wt<Xt.length;wt++){var nt=o(Xt[wt],2),st=nt[0],At=nt[1];if(h(st)==="object"&&st!==null)Zt===null&&(Zt=new Set),Zt.add(st);else{var Lt=Mt.get(st);if(Lt===void 0&&!Mt.has(st)||!qt(At,Lt,Wt,Yt)){if(Wt||!un(Ct,Mt,st,At,Yt))return!1;Zt===null&&(Zt=new Set),Zt.add(st)}}}if(Zt!==null){for(var Ot=$(Mt),Ft=0;Ft<Ot.length;Ft++){var rn=o(Ot[Ft],2),Jt=rn[0],Qt=rn[1];if(h(Jt)==="object"&&Jt!==null){if(!Kt(Zt,Ct,Jt,Qt,Wt,Yt))return!1}else if(!Wt&&(!Ct.has(Jt)||!qt(Ct.get(Jt),Qt,!1,Yt))&&!Kt(Zt,Ct,Jt,Qt,!1,Yt))return!1}return Zt.size===0}return!0}function an(Ct,Mt,Wt,Yt,Zt,Xt){var wt=0;if(Xt===vt){if(!sn(Ct,Mt,Wt,Zt))return!1}else if(Xt===$t){if(!ln(Ct,Mt,Wt,Zt))return!1}else if(Xt===ft)for(;wt<Ct.length;wt++)if(ht(Ct,wt)){if(!ht(Mt,wt)||!qt(Ct[wt],Mt[wt],Wt,Zt))return!1}else{if(ht(Mt,wt))return!1;for(var nt=Object.keys(Ct);wt<nt.length;wt++){var st=nt[wt];if(!ht(Mt,st)||!qt(Ct[st],Mt[st],Wt,Zt))return!1}return nt.length===Object.keys(Mt).length}for(wt=0;wt<Yt.length;wt++){var At=Yt[wt];if(!qt(Ct[At],Mt[At],Wt,Zt))return!1}return!0}function Tn(Ct,Mt){return qt(Ct,Mt,_t)}function cn(Ct,Mt){return qt(Ct,Mt,St)}return comparisons={isDeepEqual:Tn,isDeepStrictEqual:cn},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$1.exports;hasRequiredAssert=1;function o(vt){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($t){return typeof $t}:function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},o(vt)}function e(vt,$t,kt){return Object.defineProperty(vt,"prototype",{writable:!1}),vt}function s(vt,$t){if(!(vt instanceof $t))throw new TypeError("Cannot call a class as a function")}var a=requireErrors(),c=a.codes,d=c.ERR_AMBIGUOUS_ARGUMENT,h=c.ERR_INVALID_ARG_TYPE,_=c.ERR_INVALID_ARG_VALUE,b=c.ERR_INVALID_RETURN_VALUE,$=c.ERR_MISSING_ARGS,j=requireAssertion_error(),rt=util,it=rt.inspect,ot=util.types,ht=ot.isPromise,bt=ot.isRegExp,pt=polyfill$2(),dt=polyfill$1(),lt=callBound$3("RegExp.prototype.test"),at,xt;function Rt(){var vt=requireComparisons();at=vt.isDeepEqual,xt=vt.isDeepStrictEqual}var Tt=!1,It=assert$1.exports=Ut,Bt={};function Pt(vt){throw vt.message instanceof Error?vt.message:new j(vt)}function zt(vt,$t,kt,jt,Nt){var Dt=arguments.length,Vt;if(Dt===0)Vt="Failed";else if(Dt===1)kt=vt,vt=void 0;else{if(Tt===!1){Tt=!0;var qt=process$1.emitWarning?process$1.emitWarning:console.warn.bind(console);qt("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Dt===2&&(jt="!=")}if(kt instanceof Error)throw kt;var Gt={actual:vt,expected:$t,operator:jt===void 0?"fail":jt,stackStartFn:Nt||zt};kt!==void 0&&(Gt.message=kt);var en=new j(Gt);throw Vt&&(en.message=Vt,en.generatedMessage=!0),en}It.fail=zt,It.AssertionError=j;function Ht(vt,$t,kt,jt){if(!kt){var Nt=!1;if($t===0)Nt=!0,jt="No value argument passed to `assert.ok()`";else if(jt instanceof Error)throw jt;var Dt=new j({actual:kt,expected:!0,message:jt,operator:"==",stackStartFn:vt});throw Dt.generatedMessage=Nt,Dt}}function Ut(){for(var vt=arguments.length,$t=new Array(vt),kt=0;kt<vt;kt++)$t[kt]=arguments[kt];Ht.apply(void 0,[Ut,$t.length].concat($t))}It.ok=Ut,It.equal=function vt($t,kt,jt){if(arguments.length<2)throw new $("actual","expected");$t!=kt&&Pt({actual:$t,expected:kt,message:jt,operator:"==",stackStartFn:vt})},It.notEqual=function vt($t,kt,jt){if(arguments.length<2)throw new $("actual","expected");$t==kt&&Pt({actual:$t,expected:kt,message:jt,operator:"!=",stackStartFn:vt})},It.deepEqual=function vt($t,kt,jt){if(arguments.length<2)throw new $("actual","expected");at===void 0&&Rt(),at($t,kt)||Pt({actual:$t,expected:kt,message:jt,operator:"deepEqual",stackStartFn:vt})},It.notDeepEqual=function vt($t,kt,jt){if(arguments.length<2)throw new $("actual","expected");at===void 0&&Rt(),at($t,kt)&&Pt({actual:$t,expected:kt,message:jt,operator:"notDeepEqual",stackStartFn:vt})},It.deepStrictEqual=function vt($t,kt,jt){if(arguments.length<2)throw new $("actual","expected");at===void 0&&Rt(),xt($t,kt)||Pt({actual:$t,expected:kt,message:jt,operator:"deepStrictEqual",stackStartFn:vt})},It.notDeepStrictEqual=Et;function Et(vt,$t,kt){if(arguments.length<2)throw new $("actual","expected");at===void 0&&Rt(),xt(vt,$t)&&Pt({actual:vt,expected:$t,message:kt,operator:"notDeepStrictEqual",stackStartFn:Et})}It.strictEqual=function vt($t,kt,jt){if(arguments.length<2)throw new $("actual","expected");dt($t,kt)||Pt({actual:$t,expected:kt,message:jt,operator:"strictEqual",stackStartFn:vt})},It.notStrictEqual=function vt($t,kt,jt){if(arguments.length<2)throw new $("actual","expected");dt($t,kt)&&Pt({actual:$t,expected:kt,message:jt,operator:"notStrictEqual",stackStartFn:vt})};var _e=e(function vt($t,kt,jt){var Nt=this;s(this,vt),kt.forEach(function(Dt){Dt in $t&&(jt!==void 0&&typeof jt[Dt]=="string"&&bt($t[Dt])&&lt($t[Dt],jt[Dt])?Nt[Dt]=jt[Dt]:Nt[Dt]=$t[Dt])})});function tt(vt,$t,kt,jt,Nt,Dt){if(!(kt in vt)||!xt(vt[kt],$t[kt])){if(!jt){var Vt=new _e(vt,Nt),qt=new _e($t,Nt,vt),Gt=new j({actual:Vt,expected:qt,operator:"deepStrictEqual",stackStartFn:Dt});throw Gt.actual=vt,Gt.expected=$t,Gt.operator=Dt.name,Gt}Pt({actual:vt,expected:$t,message:jt,operator:Dt.name,stackStartFn:Dt})}}function ct(vt,$t,kt,jt){if(typeof $t!="function"){if(bt($t))return lt($t,vt);if(arguments.length===2)throw new h("expected",["Function","RegExp"],$t);if(o(vt)!=="object"||vt===null){var Nt=new j({actual:vt,expected:$t,message:kt,operator:"deepStrictEqual",stackStartFn:jt});throw Nt.operator=jt.name,Nt}var Dt=Object.keys($t);if($t instanceof Error)Dt.push("name","message");else if(Dt.length===0)throw new _("error",$t,"may not be an empty object");return at===void 0&&Rt(),Dt.forEach(function(Vt){typeof vt[Vt]=="string"&&bt($t[Vt])&&lt($t[Vt],vt[Vt])||tt(vt,$t,Vt,kt,Dt,jt)}),!0}return $t.prototype!==void 0&&vt instanceof $t?!0:Error.isPrototypeOf($t)?!1:$t.call({},vt)===!0}function mt(vt){if(typeof vt!="function")throw new h("fn","Function",vt);try{vt()}catch($t){return $t}return Bt}function yt(vt){return ht(vt)||vt!==null&&o(vt)==="object"&&typeof vt.then=="function"&&typeof vt.catch=="function"}function gt(vt){return Promise.resolve().then(function(){var $t;if(typeof vt=="function"){if($t=vt(),!yt($t))throw new b("instance of Promise","promiseFn",$t)}else if(yt(vt))$t=vt;else throw new h("promiseFn",["Function","Promise"],vt);return Promise.resolve().then(function(){return $t}).then(function(){return Bt}).catch(function(kt){return kt})})}function St(vt,$t,kt,jt){if(typeof kt=="string"){if(arguments.length===4)throw new h("error",["Object","Error","Function","RegExp"],kt);if(o($t)==="object"&&$t!==null){if($t.message===kt)throw new d("error/message",'The error message "'.concat($t.message,'" is identical to the message.'))}else if($t===kt)throw new d("error/message",'The error "'.concat($t,'" is identical to the message.'));jt=kt,kt=void 0}else if(kt!=null&&o(kt)!=="object"&&typeof kt!="function")throw new h("error",["Object","Error","Function","RegExp"],kt);if($t===Bt){var Nt="";kt&&kt.name&&(Nt+=" (".concat(kt.name,")")),Nt+=jt?": ".concat(jt):".";var Dt=vt.name==="rejects"?"rejection":"exception";Pt({actual:void 0,expected:kt,operator:vt.name,message:"Missing expected ".concat(Dt).concat(Nt),stackStartFn:vt})}if(kt&&!ct($t,kt,jt,vt))throw $t}function _t(vt,$t,kt,jt){if($t!==Bt){if(typeof kt=="string"&&(jt=kt,kt=void 0),!kt||ct($t,kt)){var Nt=jt?": ".concat(jt):".",Dt=vt.name==="doesNotReject"?"rejection":"exception";Pt({actual:$t,expected:kt,operator:vt.name,message:"Got unwanted ".concat(Dt).concat(Nt,`
`)+'Actual message: "'.concat($t&&$t.message,'"'),stackStartFn:vt})}throw $t}}It.throws=function vt($t){for(var kt=arguments.length,jt=new Array(kt>1?kt-1:0),Nt=1;Nt<kt;Nt++)jt[Nt-1]=arguments[Nt];St.apply(void 0,[vt,mt($t)].concat(jt))},It.rejects=function vt($t){for(var kt=arguments.length,jt=new Array(kt>1?kt-1:0),Nt=1;Nt<kt;Nt++)jt[Nt-1]=arguments[Nt];return gt($t).then(function(Dt){return St.apply(void 0,[vt,Dt].concat(jt))})},It.doesNotThrow=function vt($t){for(var kt=arguments.length,jt=new Array(kt>1?kt-1:0),Nt=1;Nt<kt;Nt++)jt[Nt-1]=arguments[Nt];_t.apply(void 0,[vt,mt($t)].concat(jt))},It.doesNotReject=function vt($t){for(var kt=arguments.length,jt=new Array(kt>1?kt-1:0),Nt=1;Nt<kt;Nt++)jt[Nt-1]=arguments[Nt];return gt($t).then(function(Dt){return _t.apply(void 0,[vt,Dt].concat(jt))})},It.ifError=function vt($t){if($t!=null){var kt="ifError got unwanted exception: ";o($t)==="object"&&typeof $t.message=="string"?$t.message.length===0&&$t.constructor?kt+=$t.constructor.name:kt+=$t.message:kt+=it($t);var jt=new j({actual:$t,expected:null,operator:"ifError",message:kt,stackStartFn:vt}),Nt=$t.stack;if(typeof Nt=="string"){var Dt=Nt.split(`
`);Dt.shift();for(var Vt=jt.stack.split(`
`),qt=0;qt<Dt.length;qt++){var Gt=Vt.indexOf(Dt[qt]);if(Gt!==-1){Vt=Vt.slice(0,Gt);break}}jt.stack="".concat(Vt.join(`
`),`
`).concat(Dt.join(`
`))}throw jt}};function et(vt,$t,kt,jt,Nt){if(!bt($t))throw new h("regexp","RegExp",$t);var Dt=Nt==="match";if(typeof vt!="string"||lt($t,vt)!==Dt){if(kt instanceof Error)throw kt;var Vt=!kt;kt=kt||(typeof vt!="string"?'The "string" argument must be of type string. Received type '+"".concat(o(vt)," (").concat(it(vt),")"):(Dt?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(it($t),`. Input:

`).concat(it(vt),`
`));var qt=new j({actual:vt,expected:$t,message:kt,operator:Nt,stackStartFn:jt});throw qt.generatedMessage=Vt,qt}}It.match=function vt($t,kt,jt){et($t,kt,jt,vt,"match")},It.doesNotMatch=function vt($t,kt,jt){et($t,kt,jt,vt,"doesNotMatch")};function ft(){for(var vt=arguments.length,$t=new Array(vt),kt=0;kt<vt;kt++)$t[kt]=arguments[kt];Ht.apply(void 0,[ft,$t.length].concat($t))}return It.strict=pt(ft,It,{equal:It.strictEqual,deepEqual:It.deepStrictEqual,notEqual:It.notStrictEqual,notDeepEqual:It.notDeepStrictEqual}),It.strict.strict=It.strict,assert$1.exports}var assertExports=requireAssert();function chunks(o,e){return Array.apply(0,new Array(Math.ceil(o.length/e))).map((s,a)=>o.slice(a*e,(a+1)*e))}function decode$2(o){return new TextDecoder("utf-8").decode(o)}function encode$2(o){return new TextEncoder().encode(o)}function encode$1(o){return bs58$1.encode(o)}function decode(o){return Buffer$1.from(toByteArray_1(o))}function parseIdlErrors(o){const e=new Map;return o.errors&&o.errors.forEach(s=>{var a;let c=(a=s.msg)!==null&&a!==void 0?a:s.name;e.set(s.code,c)}),e}function toInstruction(o,...e){if(o.args.length!=e.length)throw new Error("Invalid argument length");const s={};let a=0;return o.args.forEach(c=>{s[c.name]=e[a],a+=1}),s}function validateAccounts(o,e={}){o.forEach(s=>{if("accounts"in s)validateAccounts(s.accounts,e[s.name]);else if(e[s.name]===void 0)throw new Error(`Invalid arguments: ${s.name} not provided.`)})}function translateAddress(o){return o instanceof PublicKey?o:new PublicKey(o)}class StructError extends TypeError{constructor(e,s){let a;const{message:c,...d}=e,{path:h}=e,_=h.length===0?c:"At path: "+h.join(".")+" -- "+c;super(_),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,d),this.name=this.constructor.name,this.failures=()=>{var b;return(b=a)!=null?b:a=[e,...s()]}}}function isIterable(o){return isObject(o)&&typeof o[Symbol.iterator]=="function"}function isObject(o){return typeof o=="object"&&o!=null}function print(o){return typeof o=="string"?JSON.stringify(o):""+o}function shiftIterator(o){const{done:e,value:s}=o.next();return e?void 0:s}function toFailure(o,e,s,a){if(o===!0)return;o===!1?o={}:typeof o=="string"&&(o={message:o});const{path:c,branch:d}=e,{type:h}=s,{refinement:_,message:b="Expected a value of type `"+h+"`"+(_?" with refinement `"+_+"`":"")+", but received: `"+print(a)+"`"}=o;return{value:a,type:h,refinement:_,key:c[c.length-1],path:c,branch:d,...o,message:b}}function*toFailures(o,e,s,a){isIterable(o)||(o=[o]);for(const c of o){const d=toFailure(c,e,s,a);d&&(yield d)}}function*run(o,e,s){s===void 0&&(s={});const{path:a=[],branch:c=[o],coerce:d=!1,mask:h=!1}=s,_={path:a,branch:c};if(d&&(o=e.coercer(o,_),h&&e.type!=="type"&&isObject(e.schema)&&isObject(o)&&!Array.isArray(o)))for(const $ in o)e.schema[$]===void 0&&delete o[$];let b=!0;for(const $ of e.validator(o,_))b=!1,yield[$,void 0];for(let[$,j,rt]of e.entries(o,_)){const it=run(j,rt,{path:$===void 0?a:[...a,$],branch:$===void 0?c:[...c,j],coerce:d,mask:h});for(const ot of it)ot[0]?(b=!1,yield[ot[0],void 0]):d&&(j=ot[1],$===void 0?o=j:o instanceof Map?o.set($,j):o instanceof Set?o.add(j):isObject(o)&&(o[$]=j))}if(b)for(const $ of e.refiner(o,_))b=!1,yield[$,void 0];b&&(yield[void 0,o])}class Struct{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:s,schema:a,validator:c,refiner:d,coercer:h=b=>b,entries:_=function*(){}}=e;this.type=s,this.schema=a,this.entries=_,this.coercer=h,c?this.validator=(b,$)=>{const j=c(b,$);return toFailures(j,$,this,b)}:this.validator=()=>[],d?this.refiner=(b,$)=>{const j=d(b,$);return toFailures(j,$,this,b)}:this.refiner=()=>[]}assert(e){return assert(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return mask(e,this)}validate(e,s){return s===void 0&&(s={}),validate(e,this,s)}}function assert(o,e){const s=validate(o,e);if(s[0])throw s[0]}function create(o,e){const s=validate(o,e,{coerce:!0});if(s[0])throw s[0];return s[1]}function mask(o,e){const s=validate(o,e,{coerce:!0,mask:!0});if(s[0])throw s[0];return s[1]}function is(o,e){return!validate(o,e)[0]}function validate(o,e,s){s===void 0&&(s={});const a=run(o,e,s),c=shiftIterator(a);return c[0]?[new StructError(c[0],function*(){for(const h of a)h[0]&&(yield h[0])}),void 0]:[void 0,c[1]]}function define(o,e){return new Struct({type:o,schema:null,validator:e})}function any(){return define("any",()=>!0)}function array(o){return new Struct({type:"array",schema:o,*entries(e){if(o&&Array.isArray(e))for(const[s,a]of e.entries())yield[s,a,o]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print(e)}})}function boolean(){return define("boolean",o=>typeof o=="boolean")}function literal(o){const e=print(o);return new Struct({type:"literal",schema:o,validator(s){return s===o||"Expected the literal `"+e+"`, but received: "+print(s)}})}function nullable(o){return new Struct({...o,validator:(e,s)=>e===null||o.validator(e,s),refiner:(e,s)=>e===null||o.refiner(e,s)})}function number(){return define("number",o=>typeof o=="number"&&!isNaN(o)||"Expected a number, but received: "+print(o))}function optional(o){return new Struct({...o,validator:(e,s)=>e===void 0||o.validator(e,s),refiner:(e,s)=>e===void 0||o.refiner(e,s)})}function string(){return define("string",o=>typeof o=="string"||"Expected a string, but received: "+print(o))}function type(o){const e=Object.keys(o);return new Struct({type:"type",schema:o,*entries(s){if(isObject(s))for(const a of e)yield[a,s[a],o[a]]},validator(s){return isObject(s)||"Expected an object, but received: "+print(s)}})}function union$1(o){const e=o.map(s=>s.type).join(" | ");return new Struct({type:"union",schema:null,coercer(s,a){return(o.find(d=>{const[h]=d.validate(s,{coerce:!0});return!h})||unknown()).coercer(s,a)},validator(s,a){const c=[];for(const d of o){const[...h]=run(s,d,a),[_]=h;if(_[0])for(const[b]of h)b&&c.push(b);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print(s),...c]}})}function unknown(){return define("unknown",()=>!0)}function coerce(o,e,s){return new Struct({...o,coercer:(a,c)=>is(a,e)?o.coercer(s(a,c),c):o.coercer(a,c)})}const GET_MULTIPLE_ACCOUNTS_LIMIT=99;async function getMultipleAccountsAndContext(o,e,s){if(e.length<=GET_MULTIPLE_ACCOUNTS_LIMIT)return await getMultipleAccountsAndContextCore(o,e,s);{const a=chunks(e,GET_MULTIPLE_ACCOUNTS_LIMIT);return(await Promise.all(a.map(d=>getMultipleAccountsAndContextCore(o,d,s)))).flat()}}async function getMultipleAccountsAndContextCore(o,e,s){const a=s??o.commitment,{value:c,context:d}=await o.getMultipleAccountsInfoAndContext(e,a);return c.map((_,b)=>_===null?null:{publicKey:e[b],account:_,context:d})}async function simulateTransaction(o,e,s,a,c){s&&s.length>0&&e.sign(...s);const d=e._compile(),h=d.serialize(),b=e._serialize(h).toString("base64"),$={encoding:"base64",commitment:a??o.commitment};if(c){const ot=(Array.isArray(c)?c:d.nonProgramIds()).map(ht=>ht.toBase58());$.accounts={encoding:"base64",addresses:ot}}s&&($.sigVerify=!0);const j=[b,$],rt=await o._rpcRequest("simulateTransaction",j),it=create(rt,SimulatedTransactionResponseStruct);if("error"in it){let ot;if("data"in it.error&&(ot=it.error.data.logs,ot&&Array.isArray(ot))){const ht=`
    `,bt=ht+ot.join(ht);console.error(it.error.message,bt)}throw new SendTransactionError("failed to simulate transaction: "+it.error.message,ot)}return it.result}function jsonRpcResult(o){return coerce(createRpcResult(o),UnknownRpcResult,e=>"error"in e?e:{...e,result:create(e.result,o)})}const UnknownRpcResult=createRpcResult(unknown());function createRpcResult(o){return union$1([type({jsonrpc:literal("2.0"),id:string(),result:o}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}function jsonRpcResultAndContext(o){return jsonRpcResult(type({context:type({slot:number()}),value:o}))}const SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union$1([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number())}));class AnchorProvider{constructor(e,s,a){this.connection=e,this.wallet=s,this.opts=a,this.publicKey=s==null?void 0:s.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,s){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,s,a){var c;a===void 0&&(a=this.opts),e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(a.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(s??[]).forEach(h=>{e.partialSign(h)});const d=e.serialize();try{return await sendAndConfirmRawTransaction(this.connection,d,a)}catch(h){if(h instanceof ConfirmError){const _=await this.connection.getTransaction(encode$1(e.signature),{commitment:"confirmed"});if(_){const b=(c=_.meta)===null||c===void 0?void 0:c.logMessages;throw b?new SendTransactionError(h.message,b):h}else throw h}else throw h}}async sendAll(e,s){var a;s===void 0&&(s=this.opts);const c=await this.connection.getLatestBlockhash(s.preflightCommitment);let d=e.map(b=>{var $;let j=b.tx,rt=($=b.signers)!==null&&$!==void 0?$:[];return j.feePayer=j.feePayer||this.wallet.publicKey,j.recentBlockhash=c.blockhash,rt.forEach(it=>{j.partialSign(it)}),j});const h=await this.wallet.signAllTransactions(d),_=[];for(let b=0;b<d.length;b+=1){const $=h[b],j=$.serialize();try{_.push(await sendAndConfirmRawTransaction(this.connection,j,s))}catch(rt){if(rt instanceof ConfirmError){const it=await this.connection.getTransaction(encode$1($.signature),{commitment:"confirmed"});if(it){const ot=(a=it.meta)===null||a===void 0?void 0:a.logMessages;throw ot?new SendTransactionError(rt.message,ot):rt}else throw rt}else throw rt}}return _}async simulate(e,s,a,c){e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(a??this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const d=await simulateTransaction(this.connection,e,s,a,c);if(d.value.err)throw new SimulateError(d.value);return d.value}}class SimulateError extends Error{constructor(e,s){super(s),this.simulationResponse=e}}async function sendAndConfirmRawTransaction(o,e,s){const a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment},c=await o.sendRawTransaction(e,a),d=(await o.confirmTransaction(c,s&&s.commitment)).value;if(d.err)throw new ConfirmError(`Raw transaction ${c} failed (${JSON.stringify(d)})`);return c}class ConfirmError extends Error{constructor(e){super(e)}}function getProvider(){return AnchorProvider.local()}const _FEATURES=new Map;function isSet(o){return _FEATURES.get(o)!==void 0}class IdlError extends Error{constructor(e){super(e),this.name="IdlError"}}class ProgramErrorStack{constructor(e){this.stack=e}static parse(e){var s;const a=/^Program (\w*) invoke/,c=/^Program \w* success/,d=[];for(let h=0;h<e.length;h++){if(c.exec(e[h])){d.pop();continue}const _=(s=a.exec(e[h]))===null||s===void 0?void 0:s[1];_&&d.push(new PublicKey(_))}return new ProgramErrorStack(d)}}class AnchorError extends Error{constructor(e,s,a,c,d,h){super(a.join(`
`).replace("Program log: ","")),this.errorLogs=a,this.logs=c,this.error={errorCode:e,errorMessage:s,comparedValues:h,origin:d},this._programErrorStack=ProgramErrorStack.parse(c)}static parse(e){if(!e)return null;const s=e.findIndex(it=>it.startsWith("Program log: AnchorError"));if(s===-1)return null;const a=e[s],c=[a];let d;if(s+1<e.length){if(e[s+1]==="Program log: Left:"){const it=/^Program log: (.*)$/,ot=it.exec(e[s+2])[1],ht=it.exec(e[s+4])[1];d=[new PublicKey(ot),new PublicKey(ht)],c.push(...e.slice(s+1,s+5))}else if(e[s+1].startsWith("Program log: Left:")){const it=/^Program log: (Left|Right): (.*)$/,ot=it.exec(e[s+1])[2],ht=it.exec(e[s+2])[2];c.push(...e.slice(s+1,s+3)),d=[ot,ht]}}const _=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(a),$=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(a),rt=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(a);if(_){const[it,ot,ht]=_.slice(1,4),bt={code:it,number:parseInt(ot)};return new AnchorError(bt,ht,c,e,void 0,d)}else if($){const[it,ot,ht,bt,pt]=$.slice(1,6),dt={code:ht,number:parseInt(bt)},lt={file:it,line:parseInt(ot)};return new AnchorError(dt,pt,c,e,lt,d)}else if(rt){const[it,ot,ht,bt]=rt.slice(1,5),pt=it,dt={code:ot,number:parseInt(ht)};return new AnchorError(dt,bt,c,e,pt,d)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError extends Error{constructor(e,s,a){super(),this.code=e,this.msg=s,this.logs=a,a&&(this._programErrorStack=ProgramErrorStack.parse(a))}static parse(e,s){const a=e.toString();let c;if(a.includes("custom program error:")){let _=a.split("custom program error: ");if(_.length!==2)return null;c=_[1]}else{const _=a.match(/"Custom":([0-9]+)}/g);if(!_||_.length>1)return null;c=_[0].match(/([0-9]+)/g)[0]}let d;try{d=parseInt(c)}catch{return null}let h=s.get(d);return h!==void 0?new ProgramError(d,h,e.logs):(h=LangErrorMessage.get(d),h!==void 0?new ProgramError(d,h,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function translateError(o,e){isSet("debug-logs")&&console.log("Translating error:",o);const s=AnchorError.parse(o.logs);if(s)return s;const a=ProgramError.parse(o,e);if(a)return a;if(o.logs){const c={get:function(d,h){return h==="programErrorStack"?d.programErrorStack.stack:h==="program"?d.programErrorStack.stack[o.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return o.programErrorStack=ProgramErrorStack.parse(o.logs),new Proxy(o,c)}return o}const LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},LangErrorMessage=new Map([[LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode.ConstraintMut,"A mut constraint was violated"],[LangErrorCode.ConstraintHasOne,"A has one constraint was violated"],[LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode.ConstraintRentExempt,"A rent exemption constraint was violated"],[LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode.ConstraintState,"A state constraint was violated"],[LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode.ConstraintClose,"A close constraint was violated"],[LangErrorCode.ConstraintAddress,"An address constraint was violated"],[LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[LangErrorCode.ConstraintSpace,"A space constraint was violated"],[LangErrorCode.ConstraintAccountIsNone,"A required account for the constraint is None"],[LangErrorCode.RequireViolated,"A require expression was violated"],[LangErrorCode.RequireEqViolated,"A require_eq expression was violated"],[LangErrorCode.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[LangErrorCode.RequireNeqViolated,"A require_neq expression was violated"],[LangErrorCode.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[LangErrorCode.RequireGtViolated,"A require_gt expression was violated"],[LangErrorCode.RequireGteViolated,"A require_gte expression was violated"],[LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode.AccountNotMutable,"The given account is not mutable"],[LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[LangErrorCode.AccountNotSigner,"The given account did not sign"],[LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[LangErrorCode.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[LangErrorCode.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[LangErrorCode.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[LangErrorCode.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[LangErrorCode.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]]);var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(e[d]=s[d])}return e},__assign$1.apply(this,arguments)},__assign=function(){return __assign=Object.assign||function(e){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(e[d]=s[d])}return e},__assign.apply(this,arguments)};function lowerCase(o){return o.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(o,e){e===void 0&&(e={});for(var s=e.splitRegexp,a=s===void 0?DEFAULT_SPLIT_REGEXP:s,c=e.stripRegexp,d=c===void 0?DEFAULT_STRIP_REGEXP:c,h=e.transform,_=h===void 0?lowerCase:h,b=e.delimiter,$=b===void 0?" ":b,j=replace(replace(o,a,"$1\0$2"),d,"\0"),rt=0,it=j.length;j.charAt(rt)==="\0";)rt++;for(;j.charAt(it-1)==="\0";)it--;return j.slice(rt,it).split("\0").map(_).join($)}function replace(o,e,s){return e instanceof RegExp?o.replace(e,s):e.reduce(function(a,c){return a.replace(c,s)},o)}function dotCase(o,e){return e===void 0&&(e={}),noCase(o,__assign({delimiter:"."},e))}function snakeCase(o,e){return e===void 0&&(e={}),dotCase(o,__assign$1({delimiter:"_"},e))}class IdlCoder{static fieldLayout(e,s){const a=e.name!==void 0?camelCase$1(e.name):void 0;switch(e.type){case"bool":return dist.bool(a);case"u8":return dist.u8(a);case"i8":return dist.i8(a);case"u16":return dist.u16(a);case"i16":return dist.i16(a);case"u32":return dist.u32(a);case"i32":return dist.i32(a);case"f32":return dist.f32(a);case"u64":return dist.u64(a);case"i64":return dist.i64(a);case"f64":return dist.f64(a);case"u128":return dist.u128(a);case"i128":return dist.i128(a);case"u256":return dist.u256(a);case"i256":return dist.i256(a);case"bytes":return dist.vecU8(a);case"string":return dist.str(a);case"publicKey":return dist.publicKey(a);default:{if("vec"in e.type)return dist.vec(IdlCoder.fieldLayout({name:void 0,type:e.type.vec},s),a);if("option"in e.type)return dist.option(IdlCoder.fieldLayout({name:void 0,type:e.type.option},s),a);if("defined"in e.type){const c=e.type.defined;if(s===void 0)throw new IdlError("User defined types not provided");const d=s.filter(h=>h.name===c);if(d.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(e)}`);return IdlCoder.typeDefLayout(d[0],s,a)}else if("array"in e.type){let c=e.type.array[0],d=e.type.array[1],h=IdlCoder.fieldLayout({name:void 0,type:c},s);return dist.array(h,d,a)}else throw new Error(`Not yet implemented: ${e}`)}}}static typeDefLayout(e,s=[],a){if(e.type.kind==="struct"){const c=e.type.fields.map(d=>IdlCoder.fieldLayout(d,s));return dist.struct(c,a)}else if(e.type.kind==="enum"){let c=e.type.variants.map(d=>{const h=camelCase$1(d.name);if(d.fields===void 0)return dist.struct([],h);const _=d.fields.map((b,$)=>b.hasOwnProperty("name")?IdlCoder.fieldLayout(b,s):IdlCoder.fieldLayout({type:b,name:$.toString()},s));return dist.struct(_,h)});return a!==void 0?dist.rustEnum(c).replicate(a):dist.rustEnum(c,a)}else throw new Error(`Unknown type kint: ${e}`)}}const SIGHASH_STATE_NAMESPACE="state",SIGHASH_GLOBAL_NAMESPACE="global";class BorshInstructionCoder{constructor(e){this.idl=e,this.ixLayout=BorshInstructionCoder.parseIxLayout(e);const s=new Map;e.instructions.forEach(a=>{const c=sighash(SIGHASH_GLOBAL_NAMESPACE,a.name);s.set(bs58$1.encode(c),{layout:this.ixLayout.get(a.name),name:a.name})}),e.state&&e.state.methods.map(a=>{const c=sighash(SIGHASH_STATE_NAMESPACE,a.name);s.set(bs58$1.encode(c),{layout:this.ixLayout.get(a.name),name:a.name})}),this.sighashLayouts=s}encode(e,s){return this._encode(SIGHASH_GLOBAL_NAMESPACE,e,s)}encodeState(e,s){return this._encode(SIGHASH_STATE_NAMESPACE,e,s)}_encode(e,s,a){const c=Buffer$1.alloc(1e3),d=camelCase$1(s),h=this.ixLayout.get(d);if(!h)throw new Error(`Unknown method: ${d}`);const _=h.encode(a,c),b=c.slice(0,_);return Buffer$1.concat([sighash(e,s),b])}static parseIxLayout(e){const a=(e.state?e.state.methods:[]).map(c=>{let d=c.args.map(_=>{var b,$;return IdlCoder.fieldLayout(_,Array.from([...(b=e.accounts)!==null&&b!==void 0?b:[],...($=e.types)!==null&&$!==void 0?$:[]]))});const h=camelCase$1(c.name);return[h,dist.struct(d,h)]}).concat(e.instructions.map(c=>{let d=c.args.map(_=>{var b,$;return IdlCoder.fieldLayout(_,Array.from([...(b=e.accounts)!==null&&b!==void 0?b:[],...($=e.types)!==null&&$!==void 0?$:[]]))});const h=camelCase$1(c.name);return[h,dist.struct(d,h)]}));return new Map(a)}decode(e,s="hex"){typeof e=="string"&&(e=s==="hex"?Buffer$1.from(e,"hex"):bs58$1.decode(e));let a=bs58$1.encode(e.slice(0,8)),c=e.slice(8);const d=this.sighashLayouts.get(a);return d?{data:d.layout.decode(c),name:d.name}:null}format(e,s){return InstructionFormatter.format(e,s,this.idl)}}class InstructionFormatter{static format(e,s,a){const c=a.instructions.filter(b=>e.name===b.name)[0];if(c===void 0)return console.error("Invalid instruction given"),null;const d=c.args.map(b=>({name:b.name,type:InstructionFormatter.formatIdlType(b.type),data:InstructionFormatter.formatIdlData(b,e.data[b.name],a.types)})),h=InstructionFormatter.flattenIdlAccounts(c.accounts),_=s.map((b,$)=>$<h.length?{name:h[$].name,...b}:{name:void 0,...b});return{args:d,accounts:_}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,s,a){if(typeof e.type=="string")return s.toString();if(e.type.hasOwnProperty("vec"))return"["+s.map(c=>this.formatIdlData({name:"",type:e.type.vec},c)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return s===null?"null":this.formatIdlData({name:"",type:e.type.option},s,a);if(e.type.hasOwnProperty("defined")){if(a===void 0)throw new Error("User defined types not provided");const c=a.filter(d=>d.name===e.type.defined);if(c.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return InstructionFormatter.formatIdlDataDefined(c[0],s,a)}return"unknown"}static formatIdlDataDefined(e,s,a){if(e.type.kind==="struct"){const c=e.type;return"{ "+Object.keys(s).map(h=>{const _=c.fields.filter(b=>b.name===h)[0];if(_===void 0)throw new Error("Unable to find type");return h+": "+InstructionFormatter.formatIdlData(_,s[h],a)}).join(", ")+" }"}else{if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const c=e.type.variants,d=Object.keys(s)[0],h=s[d],_=Object.keys(h).map($=>{var j;const rt=h[$],it=(j=c[d])===null||j===void 0?void 0:j.filter(ot=>ot.name===$)[0];if(it===void 0)throw new Error("Unable to find variant");return $+": "+InstructionFormatter.formatIdlData(it,rt,a)}).join(", "),b=camelCase$1(d,{pascalCase:!0});return _.length===0?b:`${b} { ${_} }`}else return"Tuple formatting not yet implemented"}}static flattenIdlAccounts(e,s){return e.map(a=>{const c=sentenceCase(a.name);if(a.hasOwnProperty("accounts")){const d=s?`${s} > ${c}`:c;return InstructionFormatter.flattenIdlAccounts(a.accounts,d)}else return{...a,name:s?`${s} > ${c}`:c}}).flat()}}function sentenceCase(o){const e=o.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}function sighash(o,e){let s=snakeCase(e),a=`${o}:${s}`;return Buffer$1.from(sha256Exports.sha256.digest(a)).slice(0,8)}function accountSize(o,e){if(e.type.kind==="enum"){let s=e.type.variants.map(a=>a.fields===void 0?0:a.fields.map(c=>{if(!(typeof c=="object"&&"name"in c))throw new Error("Tuple enum variants not yet implemented.");return typeSize(o,c.type)}).reduce((c,d)=>c+d));return Math.max(...s)+1}return e.type.fields===void 0?0:e.type.fields.map(s=>typeSize(o,s.type)).reduce((s,a)=>s+a,0)}function typeSize(o,e){var s,a;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+typeSize(o,e.option);if("coption"in e)return 4+typeSize(o,e.coption);if("defined"in e){const c=(a=(s=o.types)===null||s===void 0?void 0:s.filter(h=>h.name===e.defined))!==null&&a!==void 0?a:[];if(c.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(e)}`);let d=c[0];return accountSize(o,d)}if("array"in e){let c=e.array[0],d=e.array[1];return typeSize(o,c)*d}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const ACCOUNT_DISCRIMINATOR_SIZE=8;class BorshAccountsCoder{constructor(e){if(e.accounts===void 0){this.accountLayouts=new Map;return}const s=e.accounts.map(a=>[a.name,IdlCoder.typeDefLayout(a,e.types)]);this.accountLayouts=new Map(s),this.idl=e}async encode(e,s){const a=Buffer$1.alloc(1e3),c=this.accountLayouts.get(e);if(!c)throw new Error(`Unknown account: ${e}`);const d=c.encode(s,a);let h=a.slice(0,d),_=BorshAccountsCoder.accountDiscriminator(e);return Buffer$1.concat([_,h])}decode(e,s){if(BorshAccountsCoder.accountDiscriminator(e).compare(s.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,s)}decodeAny(e){const s=e.slice(0,8),a=Array.from(this.accountLayouts.keys()).find(c=>BorshAccountsCoder.accountDiscriminator(c).equals(s));if(!a)throw new Error("Account descriminator not found");return this.decodeUnchecked(a,e)}decodeUnchecked(e,s){const a=s.slice(ACCOUNT_DISCRIMINATOR_SIZE),c=this.accountLayouts.get(e);if(!c)throw new Error(`Unknown account: ${e}`);return c.decode(a)}memcmp(e,s){const a=BorshAccountsCoder.accountDiscriminator(e);return{offset:0,bytes:bs58$1.encode(s?Buffer$1.concat([a,s]):a)}}size(e){var s;return ACCOUNT_DISCRIMINATOR_SIZE+((s=accountSize(this.idl,e))!==null&&s!==void 0?s:0)}static accountDiscriminator(e){return Buffer$1.from(sha256Exports.sha256.digest(`account:${camelCase$1(e,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)).slice(0,ACCOUNT_DISCRIMINATOR_SIZE)}}class BorshEventCoder{constructor(e){if(e.events===void 0){this.layouts=new Map;return}const s=e.events.map(a=>{let c={name:a.name,type:{kind:"struct",fields:a.fields.map(d=>({name:d.name,type:d.type}))}};return[a.name,IdlCoder.typeDefLayout(c,e.types)]});this.layouts=new Map(s),this.discriminators=new Map(e.events===void 0?[]:e.events.map(a=>[fromByteArray_1(eventDiscriminator(a.name)),a.name]))}decode(e){let s;try{s=Buffer$1.from(toByteArray_1(e))}catch{return null}const a=fromByteArray_1(s.slice(0,8)),c=this.discriminators.get(a);if(c===void 0)return null;const d=this.layouts.get(c);if(!d)throw new Error(`Unknown event: ${c}`);return{data:d.decode(s.slice(8)),name:c}}}function eventDiscriminator(o){return Buffer$1.from(sha256Exports.sha256.digest(`event:${o}`)).slice(0,8)}class BorshStateCoder{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=IdlCoder.typeDefLayout(e.state.struct,e.types)}async encode(e,s){const a=Buffer$1.alloc(1e3),c=this.layout.encode(s,a),d=await stateDiscriminator(e),h=a.slice(0,c);return Buffer$1.concat([d,h])}decode(e){const s=e.slice(8);return this.layout.decode(s)}}async function stateDiscriminator(o){let e=isSet("anchor-deprecated-state")?"account":"state";return Buffer$1.from(sha256Exports.sha256.digest(`${e}:${o}`)).slice(0,8)}class BorshTypesCoder{constructor(e){if(e.types===void 0){this.typeLayouts=new Map;return}const s=e.types.map(a=>[a.name,IdlCoder.typeDefLayout(a,e.types)]);this.typeLayouts=new Map(s),this.idl=e}encode(e,s){const a=Buffer$1.alloc(1e3),c=this.typeLayouts.get(e);if(!c)throw new Error(`Unknown type: ${e}`);const d=c.encode(s,a);return a.slice(0,d)}decode(e,s){const a=this.typeLayouts.get(e);if(!a)throw new Error(`Unknown type: ${e}`);return a.decode(s)}}class BorshCoder{constructor(e){this.instruction=new BorshInstructionCoder(e),this.accounts=new BorshAccountsCoder(e),this.events=new BorshEventCoder(e),e.state&&(this.state=new BorshStateCoder(e)),this.types=new BorshTypesCoder(e)}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{};class Layout{constructor(e,s){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=s}makeDestinationObject(){return{}}decode(e,s){throw new Error("Layout is abstract")}encode(e,s,a){throw new Error("Layout is abstract")}getSpan(e,s){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const s=Object.create(this.constructor.prototype);return Object.assign(s,this),s.property=e,s}fromArray(e){}}var Layout_2=Layout;function nameWithProperty(o,e){return e.property?o+"["+e.property+"]":o}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class OffsetLayout extends ExternalLayout{constructor(e,s,a){if(!(e instanceof Layout))throw new TypeError("layout must be a Layout");if(s===void 0)s=0;else if(!Number.isInteger(s))throw new TypeError("offset must be integer or undefined");super(e.span,a||e.property),this.layout=e,this.offset=s}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(e,s){return s===void 0&&(s=0),this.layout.decode(e,s+this.offset)}encode(e,s,a){return a===void 0&&(a=0),this.layout.encode(e,s,a+this.offset)}}class UInt extends Layout{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s){return s===void 0&&(s=0),e.readUIntLE(s,this.span)}encode(e,s,a){return a===void 0&&(a=0),s.writeUIntLE(e,a,this.span),this.span}}class UIntBE extends Layout{constructor(e,s){if(super(e,s),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,s){return s===void 0&&(s=0),e.readUIntBE(s,this.span)}encode(e,s,a){return a===void 0&&(a=0),s.writeUIntBE(e,a,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(o){const e=Math.floor(o/V2E32),s=o-e*V2E32;return{hi32:e,lo32:s}}function roundedInt64(o,e){return o*V2E32+e}class NearUInt64 extends Layout{constructor(e){super(8,e)}decode(e,s){s===void 0&&(s=0);const a=e.readUInt32LE(s),c=e.readUInt32LE(s+4);return roundedInt64(c,a)}encode(e,s,a){a===void 0&&(a=0);const c=divmodInt64(e);return s.writeUInt32LE(c.lo32,a),s.writeUInt32LE(c.hi32,a+4),8}}class NearInt64 extends Layout{constructor(e){super(8,e)}decode(e,s){s===void 0&&(s=0);const a=e.readUInt32LE(s),c=e.readInt32LE(s+4);return roundedInt64(c,a)}encode(e,s,a){a===void 0&&(a=0);const c=divmodInt64(e);return s.writeUInt32LE(c.lo32,a),s.writeInt32LE(c.hi32,a+4),8}}class Structure extends Layout{constructor(e,s,a){if(!(Array.isArray(e)&&e.reduce((d,h)=>d&&h instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof s=="boolean"&&a===void 0&&(a=s,s=void 0);for(const d of e)if(0>d.span&&d.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let c=-1;try{c=e.reduce((d,h)=>d+h.getSpan(),0)}catch{}super(c,s),this.fields=e,this.decodePrefixes=!!a}getSpan(e,s){if(0<=this.span)return this.span;s===void 0&&(s=0);let a=0;try{a=this.fields.reduce((c,d)=>{const h=d.getSpan(e,s);return s+=h,c+h},0)}catch{throw new RangeError("indeterminate span")}return a}decode(e,s){s===void 0&&(s=0);const a=this.makeDestinationObject();for(const c of this.fields)if(c.property!==void 0&&(a[c.property]=c.decode(e,s)),s+=c.getSpan(e,s),this.decodePrefixes&&e.length===s)break;return a}encode(e,s,a){a===void 0&&(a=0);const c=a;let d=0,h=0;for(const _ of this.fields){let b=_.span;if(h=0<b?b:0,_.property!==void 0){const $=e[_.property];$!==void 0&&(h=_.encode($,s,a),0>b&&(b=_.getSpan(s,a)))}d=a,a+=b}return d+h-c}fromArray(e){const s=this.makeDestinationObject();for(const a of this.fields)a.property!==void 0&&0<e.length&&(s[a.property]=e.shift());return s}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const s of this.fields)if(s.property===e)return s}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let s=0;for(const a of this.fields){if(a.property===e)return s;0>a.span?s=-1:0<=s&&(s+=a.span)}}}class UnionDiscriminator{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,s){if(!(e instanceof ExternalLayout&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(s||e.property||"variant"),this.layout=e}decode(e,s){return this.layout.decode(e,s)}encode(e,s,a){return this.layout.encode(e,s,a)}}class Union extends Layout{constructor(e,s,a){const c=e instanceof UInt||e instanceof UIntBE;if(c)e=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout&&e.isCount())e=new UnionLayoutDiscriminator(e);else if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(s===void 0&&(s=null),!(s===null||s instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(s!==null){if(0>s.span)throw new Error("defaultLayout must have constant span");s.property===void 0&&(s=s.replicate("content"))}let d=-1;s&&(d=s.span,0<=d&&c&&(d+=e.layout.span)),super(d,a),this.discriminator=e,this.usesPrefixDiscriminator=c,this.defaultLayout=s,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(_){return h(_)},this.configGetSourceVariant=function(_){h=_.bind(this)}}getSpan(e,s){if(0<=this.span)return this.span;s===void 0&&(s=0);const a=this.getVariant(e,s);if(!a)throw new Error("unable to determine span for unrecognized variant");return a.getSpan(e,s)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const s=this.registry[e[this.discriminator.property]];if(s&&(!s.layout||e.hasOwnProperty(s.property)))return s}else for(const s in this.registry){const a=this.registry[s];if(e.hasOwnProperty(a.property))return a}throw new Error("unable to infer src variant")}decode(e,s){s===void 0&&(s=0);let a;const c=this.discriminator,d=c.decode(e,s);let h=this.registry[d];if(h===void 0){let _=0;h=this.defaultLayout,this.usesPrefixDiscriminator&&(_=c.layout.span),a=this.makeDestinationObject(),a[c.property]=d,a[h.property]=this.defaultLayout.decode(e,s+_)}else a=h.decode(e,s);return a}encode(e,s,a){a===void 0&&(a=0);const c=this.getSourceVariant(e);if(c===void 0){const d=this.discriminator,h=this.defaultLayout;let _=0;return this.usesPrefixDiscriminator&&(_=d.layout.span),d.encode(e[d.property],s,a),_+h.encode(e[h.property],s,a+_)}return c.encode(e,s,a)}addVariant(e,s,a){const c=new VariantLayout(this,e,s,a);return this.registry[e]=c,c}getVariant(e,s){let a=e;return Buffer.isBuffer(e)&&(s===void 0&&(s=0),a=this.discriminator.decode(e,s)),this.registry[a]}}class VariantLayout extends Layout{constructor(e,s,a,c){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(s)||0>s)throw new TypeError("variant must be a (non-negative) integer");if(typeof a=="string"&&c===void 0&&(c=a,a=null),a){if(!(a instanceof Layout))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=a.span&&a.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof c!="string")throw new TypeError("variant must have a String property")}let d=e.span;0>e.span&&(d=a?a.span:0,0<=d&&e.usesPrefixDiscriminator&&(d+=e.discriminator.layout.span)),super(d,c),this.union=e,this.variant=s,this.layout=a||null}getSpan(e,s){if(0<=this.span)return this.span;s===void 0&&(s=0);let a=0;return this.union.usesPrefixDiscriminator&&(a=this.union.discriminator.layout.span),a+this.layout.getSpan(e,s+a)}decode(e,s){const a=this.makeDestinationObject();if(s===void 0&&(s=0),this!==this.union.getVariant(e,s))throw new Error("variant mismatch");let c=0;return this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout?a[this.property]=this.layout.decode(e,s+c):this.property?a[this.property]=!0:this.union.usesPrefixDiscriminator&&(a[this.union.discriminator.property]=this.variant),a}encode(e,s,a){a===void 0&&(a=0);let c=0;if(this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,s,a);let d=c;if(this.layout&&(this.layout.encode(e[this.property],s,a+c),d+=this.layout.getSpan(s,a+c),0<=this.union.span&&d>this.union.span))throw new Error("encoded variant overruns containing union");return d}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Blob$1 extends Layout{constructor(e,s){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let a=-1;e instanceof ExternalLayout||(a=e),super(a,s),this.length=e}getSpan(e,s){let a=this.span;return 0>a&&(a=this.length.decode(e,s)),a}decode(e,s){s===void 0&&(s=0);let a=this.span;return 0>a&&(a=this.length.decode(e,s)),e.slice(s,s+a)}encode(e,s,a){let c=this.length;if(this.length instanceof ExternalLayout&&(c=e.length),!(Buffer.isBuffer(e)&&c===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+c+") Buffer as src");if(a+c>s.length)throw new RangeError("encoding overruns Buffer");return s.write(e.toString("hex"),a,c,"hex"),this.length instanceof ExternalLayout&&this.length.encode(c,s,a),c}}var offset=(o,e,s)=>new OffsetLayout(o,e,s),u8=o=>new UInt(1,o),u32=o=>new UInt(4,o),nu64=o=>new NearUInt64(o),ns64=o=>new NearInt64(o),struct=(o,e,s)=>new Structure(o,e,s),union=(o,e,s)=>new Union(o,e,s),blob=(o,e)=>new Blob$1(o,e);class RustStringLayout extends Layout_2{constructor(e){super(-1,e),this.property=e,this.layout=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],this.property)}encode(e,s,a=0){if(e==null)return this.layout.span;const c={chars:Buffer.from(e,"utf8")};return this.layout.encode(c,s,a)}decode(e,s=0){return this.layout.decode(e,s).chars.toString()}getSpan(e,s=0){return u32().span+u32().span+new BN(new Uint8Array(e).slice(s,s+4),10,"le").toNumber()}}function rustStringLayout(o){return new RustStringLayout(o)}function publicKey$2(o){return blob(32,o)}const LAYOUT=union(u32("instruction"));LAYOUT.addVariant(0,struct([ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccount");LAYOUT.addVariant(1,struct([publicKey$2("owner")]),"assign");LAYOUT.addVariant(2,struct([ns64("lamports")]),"transfer");LAYOUT.addVariant(3,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccountWithSeed");LAYOUT.addVariant(4,struct([publicKey$2("authorized")]),"advanceNonceAccount");LAYOUT.addVariant(5,struct([ns64("lamports")]),"withdrawNonceAccount");LAYOUT.addVariant(6,struct([publicKey$2("authorized")]),"initializeNonceAccount");LAYOUT.addVariant(7,struct([publicKey$2("authorized")]),"authorizeNonceAccount");LAYOUT.addVariant(8,struct([ns64("space")]),"allocate");LAYOUT.addVariant(9,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("space"),publicKey$2("owner")]),"allocateWithSeed");LAYOUT.addVariant(10,struct([publicKey$2("base"),rustStringLayout("seed"),publicKey$2("owner")]),"assignWithSeed");LAYOUT.addVariant(11,struct([ns64("lamports"),rustStringLayout("seed"),publicKey$2("owner")]),"transferWithSeed");Math.max(...Object.values(LAYOUT.registry).map(o=>o.span));class WrappedLayout$1 extends Layout_2{constructor(e,s,a,c){super(e.span,c),this.layout=e,this.decoder=s,this.encoder=a}decode(e,s){return this.decoder(this.layout.decode(e,s))}encode(e,s,a){return this.layout.encode(this.encoder(e),s,a)}getSpan(e,s){return this.layout.getSpan(e,s)}}function publicKey$1(o){return new WrappedLayout$1(blob(32),e=>new PublicKey(e),e=>e.toBuffer(),o)}struct([u32("version"),u32("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct([nu64("lamportsPerSignature")],"feeCalculator")]);function createWithSeedSync(o,e,s){const a=Buffer$1.concat([o.toBuffer(),Buffer$1.from(e),s.toBuffer()]),c=sha256Exports.sha256.digest(a);return new PublicKey(Buffer$1.from(c))}function createProgramAddressSync(o,e){let a=Buffer$1.alloc(0);o.forEach(function(h){if(h.length>32)throw new TypeError("Max seed length exceeded");a=Buffer$1.concat([a,toBuffer(h)])}),a=Buffer$1.concat([a,e.toBuffer(),Buffer$1.from("ProgramDerivedAddress")]);let c=sha256Exports.sha256(new Uint8Array(a)),d=new BN(c,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(d)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(d)}function findProgramAddressSync(o,e){let s=255,a;for(;s!=0;){try{const c=o.concat(Buffer$1.from([s]));a=createProgramAddressSync(c,e)}catch(c){if(c instanceof TypeError)throw c;s--;continue}return[a,s]}throw new Error("Unable to find a viable program address nonce")}const toBuffer=o=>o instanceof Buffer$1?o:o instanceof Uint8Array?Buffer$1.from(o.buffer,o.byteOffset,o.byteLength):Buffer$1.from(o);async function associated(o,...e){let s=[Buffer$1.from([97,110,99,104,111,114])];e.forEach(c=>{s.push(c instanceof Buffer$1?c:translateAddress(c).toBuffer())});const[a]=await PublicKey.findProgramAddress(s,translateAddress(o));return a}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var browserPonyfill={exports:{}};(function(o,e){var s=typeof self<"u"?self:commonjsGlobal,a=function(){function d(){this.fetch=!1,this.DOMException=s.DOMException}return d.prototype=s,new d}();(function(d){(function(h){var _={searchParams:"URLSearchParams"in d,iterable:"Symbol"in d&&"iterator"in Symbol,blob:"FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in d,arrayBuffer:"ArrayBuffer"in d};function b(_e){return _e&&DataView.prototype.isPrototypeOf(_e)}if(_.arrayBuffer)var $=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],j=ArrayBuffer.isView||function(_e){return _e&&$.indexOf(Object.prototype.toString.call(_e))>-1};function rt(_e){if(typeof _e!="string"&&(_e=String(_e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(_e))throw new TypeError("Invalid character in header field name");return _e.toLowerCase()}function it(_e){return typeof _e!="string"&&(_e=String(_e)),_e}function ot(_e){var tt={next:function(){var ct=_e.shift();return{done:ct===void 0,value:ct}}};return _.iterable&&(tt[Symbol.iterator]=function(){return tt}),tt}function ht(_e){this.map={},_e instanceof ht?_e.forEach(function(tt,ct){this.append(ct,tt)},this):Array.isArray(_e)?_e.forEach(function(tt){this.append(tt[0],tt[1])},this):_e&&Object.getOwnPropertyNames(_e).forEach(function(tt){this.append(tt,_e[tt])},this)}ht.prototype.append=function(_e,tt){_e=rt(_e),tt=it(tt);var ct=this.map[_e];this.map[_e]=ct?ct+", "+tt:tt},ht.prototype.delete=function(_e){delete this.map[rt(_e)]},ht.prototype.get=function(_e){return _e=rt(_e),this.has(_e)?this.map[_e]:null},ht.prototype.has=function(_e){return this.map.hasOwnProperty(rt(_e))},ht.prototype.set=function(_e,tt){this.map[rt(_e)]=it(tt)},ht.prototype.forEach=function(_e,tt){for(var ct in this.map)this.map.hasOwnProperty(ct)&&_e.call(tt,this.map[ct],ct,this)},ht.prototype.keys=function(){var _e=[];return this.forEach(function(tt,ct){_e.push(ct)}),ot(_e)},ht.prototype.values=function(){var _e=[];return this.forEach(function(tt){_e.push(tt)}),ot(_e)},ht.prototype.entries=function(){var _e=[];return this.forEach(function(tt,ct){_e.push([ct,tt])}),ot(_e)},_.iterable&&(ht.prototype[Symbol.iterator]=ht.prototype.entries);function bt(_e){if(_e.bodyUsed)return Promise.reject(new TypeError("Already read"));_e.bodyUsed=!0}function pt(_e){return new Promise(function(tt,ct){_e.onload=function(){tt(_e.result)},_e.onerror=function(){ct(_e.error)}})}function dt(_e){var tt=new FileReader,ct=pt(tt);return tt.readAsArrayBuffer(_e),ct}function lt(_e){var tt=new FileReader,ct=pt(tt);return tt.readAsText(_e),ct}function at(_e){for(var tt=new Uint8Array(_e),ct=new Array(tt.length),mt=0;mt<tt.length;mt++)ct[mt]=String.fromCharCode(tt[mt]);return ct.join("")}function xt(_e){if(_e.slice)return _e.slice(0);var tt=new Uint8Array(_e.byteLength);return tt.set(new Uint8Array(_e)),tt.buffer}function Rt(){return this.bodyUsed=!1,this._initBody=function(_e){this._bodyInit=_e,_e?typeof _e=="string"?this._bodyText=_e:_.blob&&Blob.prototype.isPrototypeOf(_e)?this._bodyBlob=_e:_.formData&&FormData.prototype.isPrototypeOf(_e)?this._bodyFormData=_e:_.searchParams&&URLSearchParams.prototype.isPrototypeOf(_e)?this._bodyText=_e.toString():_.arrayBuffer&&_.blob&&b(_e)?(this._bodyArrayBuffer=xt(_e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_e)||j(_e))?this._bodyArrayBuffer=xt(_e):this._bodyText=_e=Object.prototype.toString.call(_e):this._bodyText="",this.headers.get("content-type")||(typeof _e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(_e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob&&(this.blob=function(){var _e=bt(this);if(_e)return _e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?bt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(dt)}),this.text=function(){var _e=bt(this);if(_e)return _e;if(this._bodyBlob)return lt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(at(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(Pt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Tt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function It(_e){var tt=_e.toUpperCase();return Tt.indexOf(tt)>-1?tt:_e}function Bt(_e,tt){tt=tt||{};var ct=tt.body;if(_e instanceof Bt){if(_e.bodyUsed)throw new TypeError("Already read");this.url=_e.url,this.credentials=_e.credentials,tt.headers||(this.headers=new ht(_e.headers)),this.method=_e.method,this.mode=_e.mode,this.signal=_e.signal,!ct&&_e._bodyInit!=null&&(ct=_e._bodyInit,_e.bodyUsed=!0)}else this.url=String(_e);if(this.credentials=tt.credentials||this.credentials||"same-origin",(tt.headers||!this.headers)&&(this.headers=new ht(tt.headers)),this.method=It(tt.method||this.method||"GET"),this.mode=tt.mode||this.mode||null,this.signal=tt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ct)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ct)}Bt.prototype.clone=function(){return new Bt(this,{body:this._bodyInit})};function Pt(_e){var tt=new FormData;return _e.trim().split("&").forEach(function(ct){if(ct){var mt=ct.split("="),yt=mt.shift().replace(/\+/g," "),gt=mt.join("=").replace(/\+/g," ");tt.append(decodeURIComponent(yt),decodeURIComponent(gt))}}),tt}function zt(_e){var tt=new ht,ct=_e.replace(/\r?\n[\t ]+/g," ");return ct.split(/\r?\n/).forEach(function(mt){var yt=mt.split(":"),gt=yt.shift().trim();if(gt){var St=yt.join(":").trim();tt.append(gt,St)}}),tt}Rt.call(Bt.prototype);function Ht(_e,tt){tt||(tt={}),this.type="default",this.status=tt.status===void 0?200:tt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in tt?tt.statusText:"OK",this.headers=new ht(tt.headers),this.url=tt.url||"",this._initBody(_e)}Rt.call(Ht.prototype),Ht.prototype.clone=function(){return new Ht(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ht(this.headers),url:this.url})},Ht.error=function(){var _e=new Ht(null,{status:0,statusText:""});return _e.type="error",_e};var Ut=[301,302,303,307,308];Ht.redirect=function(_e,tt){if(Ut.indexOf(tt)===-1)throw new RangeError("Invalid status code");return new Ht(null,{status:tt,headers:{location:_e}})},h.DOMException=d.DOMException;try{new h.DOMException}catch{h.DOMException=function(tt,ct){this.message=tt,this.name=ct;var mt=Error(tt);this.stack=mt.stack},h.DOMException.prototype=Object.create(Error.prototype),h.DOMException.prototype.constructor=h.DOMException}function Et(_e,tt){return new Promise(function(ct,mt){var yt=new Bt(_e,tt);if(yt.signal&&yt.signal.aborted)return mt(new h.DOMException("Aborted","AbortError"));var gt=new XMLHttpRequest;function St(){gt.abort()}gt.onload=function(){var _t={status:gt.status,statusText:gt.statusText,headers:zt(gt.getAllResponseHeaders()||"")};_t.url="responseURL"in gt?gt.responseURL:_t.headers.get("X-Request-URL");var et="response"in gt?gt.response:gt.responseText;ct(new Ht(et,_t))},gt.onerror=function(){mt(new TypeError("Network request failed"))},gt.ontimeout=function(){mt(new TypeError("Network request failed"))},gt.onabort=function(){mt(new h.DOMException("Aborted","AbortError"))},gt.open(yt.method,yt.url,!0),yt.credentials==="include"?gt.withCredentials=!0:yt.credentials==="omit"&&(gt.withCredentials=!1),"responseType"in gt&&_.blob&&(gt.responseType="blob"),yt.headers.forEach(function(_t,et){gt.setRequestHeader(et,_t)}),yt.signal&&(yt.signal.addEventListener("abort",St),gt.onreadystatechange=function(){gt.readyState===4&&yt.signal.removeEventListener("abort",St)}),gt.send(typeof yt._bodyInit>"u"?null:yt._bodyInit)})}return Et.polyfill=!0,d.fetch||(d.fetch=Et,d.Headers=ht,d.Request=Bt,d.Response=Ht),h.Headers=ht,h.Request=Bt,h.Response=Ht,h.fetch=Et,Object.defineProperty(h,"__esModule",{value:!0}),h})({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var c=a;e=c.fetch,e.default=c.fetch,e.fetch=c.fetch,e.Headers=c.Headers,e.Request=c.Request,e.Response=c.Response,o.exports=e})(browserPonyfill,browserPonyfill.exports);dist.rustEnum([dist.struct([],"uninitialized"),dist.struct([dist.option(dist.publicKey(),"authorityAddress")],"buffer"),dist.struct([dist.publicKey("programdataAddress")],"program"),dist.struct([dist.u64("slot"),dist.option(dist.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,dist.u32());function isIdlAccounts(o){return"accounts"in o}async function idlAddress(o){const e=(await PublicKey.findProgramAddress([],o))[0];return await PublicKey.createWithSeed(e,seed(),o)}function seed(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT=dist.struct([dist.publicKey("authority"),dist.vecU8("data")]);function decodeIdlAccount(o){return IDL_ACCOUNT_LAYOUT.decode(o)}function splitArgsAndCtx(o,e){var s,a;let c={};const d=o.args?o.args.length:0;if(e.length>d){if(e.length!==d+1)throw new Error(`provided too many arguments ${e} to instruction ${o==null?void 0:o.name} expecting: ${(a=(s=o.args)===null||s===void 0?void 0:s.map(h=>h.name))!==null&&a!==void 0?a:[]}`);c=e.pop()}return[e,c]}class InstructionNamespaceFactory{static build(e,s,a){if(e.name==="_inner")throw new IdlError("the _inner name is reserved");const c=(...d)=>{const[h,_]=splitArgsAndCtx(e,[...d]);validateAccounts(e.accounts,_.accounts),validateInstruction(e,...d);const b=c.accounts(_.accounts);return _.remainingAccounts!==void 0&&b.push(..._.remainingAccounts),isSet("debug-logs")&&console.log("Outgoing account metas:",b),new TransactionInstruction({keys:b,programId:a,data:s(e.name,toInstruction(e,...h))})};return c.accounts=d=>InstructionNamespaceFactory.accountsArray(d,e.accounts,a,e.name),c}static accountsArray(e,s,a,c){return e?s.map(d=>{if(("accounts"in d?d.accounts:void 0)!==void 0){const _=e[d.name];return InstructionNamespaceFactory.accountsArray(_,d.accounts,a,c).flat()}else{const _=d;let b;try{b=translateAddress(e[d.name])}catch{throw new Error(`Wrong input type for account "${d.name}" in the instruction accounts object${c!==void 0?' for instruction "'+c+'"':""}. Expected PublicKey or string.`)}const $=_.isOptional&&b.equals(a),j=_.isMut&&!$,rt=_.isSigner&&!$;return{pubkey:b,isWritable:j,isSigner:rt}}}).flat():[]}}function validateInstruction(o,...e){}class RpcFactory{static build(e,s,a,c){return async(...h)=>{var _;const b=s(...h),[,$]=splitArgsAndCtx(e,[...h]);if(c.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await c.sendAndConfirm(b,(_=$.signers)!==null&&_!==void 0?_:[],$.options)}catch(j){throw translateError(j,a)}}}}class TransactionFactory{static build(e,s){return(...c)=>{var d,h,_;const[,b]=splitArgsAndCtx(e,[...c]),$=new Transaction;if(b.preInstructions&&b.instructions)throw new Error("instructions is deprecated, use preInstructions");return(d=b.preInstructions)===null||d===void 0||d.forEach(j=>$.add(j)),(h=b.instructions)===null||h===void 0||h.forEach(j=>$.add(j)),$.add(s(...c)),(_=b.postInstructions)===null||_===void 0||_.forEach(j=>$.add(j)),$}}}class StateFactory{static build(e,s,a,c){if(e.state!==void 0)return new StateClient(e,a,c,s)}}class StateClient{get programId(){return this._programId}constructor(e,s,a=getProvider(),c=new BorshCoder(e)){this.provider=a,this.coder=c,this._idl=e,this._programId=s,this._address=programStateAddress(s),this._sub=null;const[d,h,_]=(()=>{var b;let $={},j={},rt={};return(b=e.state)===null||b===void 0||b.methods.forEach(it=>{const ot=InstructionNamespaceFactory.build(it,(dt,lt)=>c.instruction.encodeState(dt,lt),s);ot.accounts=dt=>stateInstructionKeys(s,a,it,dt).concat(InstructionNamespaceFactory.accountsArray(dt,it.accounts,s,it.name));const ht=TransactionFactory.build(it,ot),bt=RpcFactory.build(it,ht,parseIdlErrors(e),a),pt=camelCase$1(it.name);$[pt]=ot,j[pt]=ht,rt[pt]=bt}),[$,j,rt]})();this.instruction=d,this.transaction=h,this.rpc=_}async fetch(){const e=this.address(),s=await this.provider.connection.getAccountInfo(e);if(s===null)throw new Error(`Account does not exist ${e.toString()}`);const a=this._idl.state;if(!a)throw new Error("State is not specified in IDL.");if((await stateDiscriminator(a.struct.name)).compare(s.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(s.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const s=new EventEmitter,a=this.provider.connection.onAccountChange(this.address(),c=>{const d=this.coder.state.decode(c.data);s.emit("change",d)},e);return this._sub={ee:s,listener:a},s}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function programStateAddress(o){let[e]=findProgramAddressSync([],o);return createWithSeedSync(e,"unversioned",o)}function stateInstructionKeys(o,e,s,a){if(s.name==="new"){const[c]=findProgramAddressSync([],o);if(e.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:programStateAddress(o),isWritable:!0,isSigner:!1},{pubkey:c,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:o,isWritable:!1,isSigner:!1}]}else return validateAccounts(s.accounts,a),[{pubkey:programStateAddress(o),isWritable:!0,isSigner:!1}]}class AccountFactory{static build(e,s,a,c){var d;const h={};return(d=e.accounts)===null||d===void 0||d.forEach(_=>{const b=camelCase$1(_.name);h[b]=new AccountClient(e,_,a,c,s)}),h}}class AccountClient{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,s,a,c,d){this._idlAccount=s,this._programId=a,this._provider=c??getProvider(),this._coder=d??new BorshCoder(e),this._size=this._coder.accounts.size(s)}async fetchNullable(e,s){const{data:a}=await this.fetchNullableAndContext(e,s);return a}async fetchNullableAndContext(e,s){const a=await this.getAccountInfoAndContext(e,s),{value:c,context:d}=a;return{data:c&&c.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,c.data):null,context:d}}async fetch(e,s){const{data:a}=await this.fetchNullableAndContext(e,s);if(a===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return a}async fetchAndContext(e,s){const{data:a,context:c}=await this.fetchNullableAndContext(e,s);if(a===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:a,context:c}}async fetchMultiple(e,s){return(await this.fetchMultipleAndContext(e,s)).map(c=>c?c.data:null)}async fetchMultipleAndContext(e,s){return(await getMultipleAccountsAndContext(this._provider.connection,e.map(c=>translateAddress(c)),s)).map(c=>{if(c==null)return null;const{account:d,context:h}=c;return{data:this._coder.accounts.decode(this._idlAccount.name,d.data),context:h}})}async all(e){const s=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),a=[];return(s==null?void 0:s.offset)!=null&&(s==null?void 0:s.bytes)!=null&&a.push({memcmp:{offset:s.offset,bytes:s.bytes}}),(s==null?void 0:s.dataSize)!=null&&a.push({dataSize:s.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...a,...Array.isArray(e)?e:[]]})).map(({pubkey:d,account:h})=>({publicKey:d,account:this._coder.accounts.decode(this._idlAccount.name,h.data)}))}subscribe(e,s){const a=subscriptions.get(e.toString());if(a)return a.ee;const c=new EventEmitter;e=translateAddress(e);const d=this._provider.connection.onAccountChange(e,h=>{const _=this._coder.accounts.decode(this._idlAccount.name,h.data);c.emit("change",_)},s);return subscriptions.set(e.toString(),{ee:c,listener:d}),c}async unsubscribe(e){let s=subscriptions.get(e.toString());if(!s){console.warn("Address is not subscribed");return}subscriptions&&await this._provider.connection.removeAccountChangeListener(s.listener).then(()=>{subscriptions.delete(e.toString())}).catch(console.error)}async createInstruction(e,s){const a=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:s??a,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(s??a),programId:this._programId})}async associated(...e){const s=await this.associatedAddress(...e);return await this.fetch(s)}async associatedAddress(...e){return await associated(this._programId,...e)}async getAccountInfo(e,s){return await this._provider.connection.getAccountInfo(translateAddress(e),s)}async getAccountInfoAndContext(e,s){return await this._provider.connection.getAccountInfoAndContext(translateAddress(e),s)}}const subscriptions=new Map,PROGRAM_LOG="Program log: ",PROGRAM_DATA="Program data: ",PROGRAM_LOG_START_INDEX=PROGRAM_LOG.length,PROGRAM_DATA_START_INDEX=PROGRAM_DATA.length;class EventManager{constructor(e,s,a){this._programId=e,this._provider=s,this._eventParser=new EventParser(e,a),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,s){var a;let c=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((a=this._eventListeners.get(e))!==null&&a!==void 0?a:[]).concat(c)),this._eventCallbacks.set(c,[e,s]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(d,h)=>{if(!d.err)for(const _ of this._eventParser.parseLogs(d.logs)){const b=this._eventListeners.get(_.name);b&&b.forEach($=>{const j=this._eventCallbacks.get($);if(j){const[,rt]=j;rt(_.data,h.slot,d.signature)}})}})),c}async removeEventListener(e){const s=this._eventCallbacks.get(e);if(!s)throw new Error(`Event listener ${e} doesn't exist!`);const[a]=s;let c=this._eventListeners.get(a);if(!c)throw new Error(`Event listeners don't exist for ${a}!`);this._eventCallbacks.delete(e),c=c.filter(d=>d!==e),this._eventListeners.set(a,c),c.length===0&&this._eventListeners.delete(a),this._eventCallbacks.size==0&&(assertExports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class EventParser{constructor(e,s){this.coder=s,this.programId=e}*parseLogs(e,s=!1){const a=new LogScanner(e),c=new ExecutionContext;let d=a.next();for(;d!==null;){let[h,_,b]=this.handleLog(c,d,s);h&&(yield h),_&&c.push(_),b&&c.pop(),d=a.next()}}handleLog(e,s,a){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(s,a):[null,...this.handleSystemLog(s)]}handleProgramLog(e,s){if(e.startsWith(PROGRAM_LOG)||e.startsWith(PROGRAM_DATA)){const a=e.startsWith(PROGRAM_LOG)?e.slice(PROGRAM_LOG_START_INDEX):e.slice(PROGRAM_DATA_START_INDEX),c=this.coder.events.decode(a);if(s&&c===null)throw new Error(`Unable to decode event ${a}`);return[c,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const s=e.split(":")[0];return s.match(/^Program (.*) success/g)!==null?[null,!0]:s.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:s.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(){this.stack=[]}program(){return assertExports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){assertExports.ok(this.stack.length>0),this.stack.pop()}}class LogScanner{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class SimulateFactory{static build(e,s,a,c,d,h,_){return async(...$)=>{var j;const rt=s(...$),[,it]=splitArgsAndCtx(e,[...$]);let ot;if(c.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{ot=await c.simulate(rt,it.signers,(j=it.options)===null||j===void 0?void 0:j.commitment)}catch(pt){throw translateError(pt,a)}if(ot===void 0)throw new Error("Unable to simulate transaction");const ht=ot.logs;if(!ht)throw new Error("Simulated logs not found");const bt=[];if(_.events){let pt=new EventParser(h,d);for(const dt of pt.parseLogs(ht))bt.push(dt)}return{events:bt,raw:ht}}}}function uint64(o){return new WrappedLayout(blob(8),e=>u64.fromBuffer(e),e=>e.toBuffer(),o)}function publicKey(o){return new WrappedLayout(blob(32),e=>new PublicKey(e),e=>e.toBuffer(),o)}function coption(o,e){return new COptionLayout(o,e)}class WrappedLayout extends Layout_2{constructor(e,s,a,c){super(e.span,c),this.layout=e,this.decoder=s,this.encoder=a}decode(e,s){return this.decoder(this.layout.decode(e,s))}encode(e,s,a){return this.layout.encode(this.encoder(e),s,a)}getSpan(e,s){return this.layout.getSpan(e,s)}}class COptionLayout extends Layout_2{constructor(e,s){super(-1,s),this.layout=e,this.discriminator=u32()}encode(e,s,a=0){return e==null?this.layout.span+this.discriminator.encode(0,s,a):(this.discriminator.encode(1,s,a),this.layout.encode(e,s,a+4)+4)}decode(e,s=0){const a=this.discriminator.decode(e,s);if(a===0)return null;if(a===1)return this.layout.decode(e,s+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,s=0){return this.layout.getSpan(e,s+4)+4}}class u64 extends BN{toBuffer(){const e=super.toArray().reverse(),s=Buffer.from(e);if(s.length===8)return s;if(s.length>=8)throw new Error("u64 too large");const a=Buffer.alloc(8);return s.copy(a),a}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new u64([...e].reverse().map(s=>`00${s.toString(16)}`.slice(-2)).join(""),16)}}const TOKEN_ACCOUNT_LAYOUT=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),coption(publicKey(),"delegate"),(o=>{const e=union(u8("discriminator"),null,o);return e.addVariant(0,struct([]),"uninitialized"),e.addVariant(1,struct([]),"initialized"),e.addVariant(2,struct([]),"frozen"),e})("state"),coption(uint64(),"isNative"),uint64("delegatedAmount"),coption(publicKey(),"closeAuthority")]);function decodeTokenAccount(o){return TOKEN_ACCOUNT_LAYOUT.decode(o)}class AccountsResolver{constructor(e,s,a,c,d,h,_,b){this._accounts=s,this._provider=a,this._programId=c,this._idlIx=d,this._idlTypes=_,this._customResolver=b,this._args=e,this._accountStore=new AccountStore(a,h,this._programId)}args(e){this._args=e}async resolve(){for(await this.resolveConst(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:s}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,s}return 0}resolveOptionalsHelper(e,s){const a={};for(const c of s){const d=c.name,h=e[d];h!==void 0&&(isPartialAccounts(h)?isIdlAccounts(c)?a[d]=this.resolveOptionalsHelper(h,c.accounts):a[d]=flattenPartialAccounts(h):h!==null?a[d]=translateAddress(h):c.isOptional&&(a[d]=this._programId))}return a}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const s=e.reduce((a,c)=>a&&a[c],this._accounts);if(s&&s.toBase58)return s}set(e,s){let a=this._accounts;e.forEach((c,d)=>{d==e.length-1&&(a[c]=s),a[c]=a[c]||{},a=a[c]})}async resolveConst(e,s=[]){for(let a=0;a<e.length;a+=1){const c=e[a],d=c.accounts;d&&await this.resolveConst(d,[...s,camelCase$1(c.name)]);const h=c,_=camelCase$1(c.name);if(h.isSigner&&!this.get([...s,_])){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...s,_],this._provider.wallet.publicKey)}Reflect.has(AccountsResolver.CONST_ACCOUNTS,_)&&!this.get([...s,_])&&this.set([...s,_],AccountsResolver.CONST_ACCOUNTS[_])}}async resolvePdas(e,s=[]){let a=0;for(let c=0;c<e.length;c+=1){const d=e[c],h=d.accounts;h&&(a+=await this.resolvePdas(h,[...s,camelCase$1(d.name)]));const _=d,b=camelCase$1(d.name);_.pda&&_.pda.seeds.length>0&&!this.get([...s,b])&&await this.autoPopulatePda(_,s)&&(a+=1)}return a}async resolveRelations(e,s=[]){let a=0;for(let c=0;c<e.length;c+=1){const d=e[c],h=d.accounts;h&&(a+=await this.resolveRelations(h,[...s,camelCase$1(d.name)]));const _=d.relations||[],b=camelCase$1(d.name),$=[...s,b],j=this.get($);if(j){const rt=_.filter(it=>!this.get([...s,camelCase$1(it)]));if(a+=rt.length,rt.length>0){const it=await this._accountStore.fetchAccount({publicKey:j});await Promise.all(rt.map(async ot=>{const ht=camelCase$1(ot);return this.set([...s,ht],it[ht]),it[ht]}))}}}return a}async autoPopulatePda(e,s=[]){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const a=await Promise.all(e.pda.seeds.map(h=>this.toBuffer(h,s)));if(a.some(h=>typeof h>"u"))return;const c=await this.parseProgramId(e,s);if(!c)return;const[d]=await PublicKey.findProgramAddress(a,c);this.set([...s,camelCase$1(e.name)],d)}async parseProgramId(e,s=[]){var a;if(!(!((a=e.pda)===null||a===void 0)&&a.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId,s);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e,s=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,s);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}getType(e,s=[]){if(s.length>0&&e.defined){const a=this._idlTypes.find(h=>h.name===e.defined);if(!a)throw new Error(`Cannot find type ${e.defined}`);const d=a.type.fields.find(h=>h.name===s[0]);return this.getType(d.type,s.slice(1))}return e}toBufferConst(e){return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),e.value)}async toBufferArg(e){const s=this.argValue(e);if(!(typeof s>"u"))return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),s)}argValue(e){const s=e.path.split("."),a=camelCase$1(s[0]),c=this._idlIx.args.findIndex(d=>d.name===a);if(c===-1)throw new Error(`Unable to find argument for seed: ${a}`);return s.slice(1).reduce((d,h)=>(d||{})[h],this._args[c])}async toBufferAccount(e,s=[]){const a=await this.accountValue(e,s);if(a)return this.toBufferValue(e.type,a)}async accountValue(e,s=[]){const a=e.path.split("."),c=a[0],d=this.get([...s,camelCase$1(c)]);if(d===null)throw new Error("fieldPubkey is null");if(a.length===1)return d;const h=await this._accountStore.fetchAccount({publicKey:d,name:e.account});return this.parseAccountValue(h,a.slice(1))}parseAccountValue(e,s){let a;for(;s.length>0;)a=e[camelCase$1(s[0])],s=s.slice(1);return a}toBufferValue(e,s){switch(e){case"u8":return Buffer.from([s]);case"u16":let a=Buffer.alloc(2);return a.writeUInt16LE(s),a;case"u32":let c=Buffer.alloc(4);return c.writeUInt32LE(s),c;case"u64":let d=Buffer.alloc(8);return d.writeBigUInt64LE(BigInt(s)),d;case"string":return Buffer.from(encode$2(s));case"publicKey":return s.toBuffer();default:if(e.array)return Buffer.from(s);throw new Error(`Unexpected seed type: ${e}`)}}}AccountsResolver.CONST_ACCOUNTS={associatedTokenProgram:ASSOCIATED_PROGRAM_ID,rent:SYSVAR_RENT_PUBKEY,systemProgram:SystemProgram.programId,tokenProgram:TOKEN_PROGRAM_ID,clock:SYSVAR_CLOCK_PUBKEY};class AccountStore{constructor(e,s,a){this._provider=e,this._programId=a,this._cache=new Map,this._idls={},this._idls[a.toBase58()]=s}async ensureIdl(e){if(!this._idls[e.toBase58()]){const s=await Program.fetchIdl(e,this._provider);if(s){const a=new Program(s,e,this._provider);this._idls[e.toBase58()]=a.account}}return this._idls[e.toBase58()]}async fetchAccount({publicKey:e,name:s,programId:a=this._programId}){const c=e.toString();if(!this._cache.has(c))if(s==="TokenAccount"){const d=await this._provider.connection.getAccountInfo(e);if(d===null)throw new Error(`invalid account info for ${c}`);const h=decodeTokenAccount(d.data);this._cache.set(c,h)}else if(s){const d=await this.ensureIdl(a);if(d){const h=d[camelCase$1(s)];if(h){const _=await h.fetch(e);this._cache.set(c,_)}}}else{const d=await this._provider.connection.getAccountInfo(e);if(d===null)throw new Error(`invalid account info for ${c}`);const h=d.data,_=await this.ensureIdl(d.owner);if(_){const b=Object.values(_)[0];if(!b)throw new Error("No accounts for this program");const $=b.coder.accounts.decodeAny(h);this._cache.set(c,$)}}return this._cache.get(c)}}class MethodsBuilderFactory{static build(e,s,a,c,d,h,_,b,$,j,rt){return(...it)=>new MethodsBuilder(it,c,d,h,_,b,e,s,a,$,j,rt)}}function isPartialAccounts(o){return typeof o=="object"&&o!==null&&!("_bn"in o)}function flattenPartialAccounts(o,e){const s={};for(const a in o){const c=o[a];if(c===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");s[a]=isPartialAccounts(c)?flattenPartialAccounts(c):translateAddress(c)}return s}class MethodsBuilder{constructor(e,s,a,c,d,h,_,b,$,j,rt,it){this._ixFn=s,this._txFn=a,this._rpcFn=c,this._simulateFn=d,this._viewFn=h,this._programId=b,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=e,this._accountsResolver=new AccountsResolver(e,this._accounts,_,b,$,j,rt,it)}args(e){this._args=e,this._accountsResolver.args(e)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ViewFactory{static build(e,s,a,c){const d=s.accounts.find(b=>b.isMut),h=!!s.returns;return d||!h?void 0:async(...b)=>{var $,j;let rt=await a(...b);const it=`Program return: ${e} `;let ot=rt.raw.find(dt=>dt.startsWith(it));if(!ot)throw new Error("View expected return log");let ht=decode(ot.slice(it.length)),bt=s.returns;if(!bt)throw new Error("View expected return type");return IdlCoder.fieldLayout({type:bt},Array.from([...($=c.accounts)!==null&&$!==void 0?$:[],...(j=c.types)!==null&&j!==void 0?j:[]])).decode(ht)}}}class NamespaceFactory{static build(e,s,a,c,d){const h={},_={},b={},$={},j={},rt={},it=parseIdlErrors(e),ot=e.accounts?AccountFactory.build(e,s,a,c):{},ht=StateFactory.build(e,s,a,c);return e.instructions.forEach(bt=>{const pt=InstructionNamespaceFactory.build(bt,(It,Bt)=>s.instruction.encode(It,Bt),a),dt=TransactionFactory.build(bt,pt),lt=RpcFactory.build(bt,dt,it,c),at=SimulateFactory.build(bt,dt,it,c,s,a,e),xt=ViewFactory.build(a,bt,at,e),Rt=MethodsBuilderFactory.build(c,a,bt,pt,dt,lt,at,xt,ot,e.types||[],d&&d(bt)),Tt=camelCase$1(bt.name);_[Tt]=pt,b[Tt]=dt,h[Tt]=lt,$[Tt]=at,j[Tt]=Rt,xt&&(rt[Tt]=xt)}),[h,_,b,ot,$,j,ht,rt]}}class Program{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,s,a,c,d){s=translateAddress(s),a||(a=getProvider()),this._idl=e,this._provider=a,this._programId=s,this._coder=c??new BorshCoder(e),this._events=new EventManager(this._programId,a,this._coder);const[h,_,b,$,j,rt,it,ot]=NamespaceFactory.build(e,this._coder,s,a,d??(()=>{}));this.rpc=h,this.instruction=_,this.transaction=b,this.account=$,this.simulate=j,this.methods=rt,this.state=it,this.views=ot}static async at(e,s){const a=translateAddress(e),c=await Program.fetchIdl(a,s);if(!c)throw new Error(`IDL not found for program: ${e.toString()}`);return new Program(c,a,s)}static async fetchIdl(e,s){s=s??getProvider();const a=translateAddress(e),c=await idlAddress(a),d=await s.connection.getAccountInfo(c);if(!d)return null;let h=decodeIdlAccount(d.data.slice(8));const _=inflate_1(h.data);return JSON.parse(decode$2(_))}addEventListener(e,s){return this._events.addEventListener(e,s)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new PublicKey("11111111111111111111111111111111");const version="0.1.0",name="death_protocol",metadata={address:"EMmqYXyEiJuBqSQFkpsXJLPPZVj6LbiaThEyMNgrYzXD"},instructions=[{name:"initialize",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingState",isMut:!0,isSigner:!1},{name:"treasuryState",isMut:!0,isSigner:!1},{name:"governanceState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"config",type:{defined:"ProtocolConfig"}}]},{name:"stake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakingState",isMut:!0,isSigner:!1},{name:"userStakeInfo",isMut:!0,isSigner:!1},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"protocolTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"unstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakingState",isMut:!0,isSigner:!1},{name:"userStakeInfo",isMut:!0,isSigner:!1},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"protocolTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"claimRewards",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakingState",isMut:!0,isSigner:!1},{name:"userStakeInfo",isMut:!0,isSigner:!1},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"protocolTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"createProposal",accounts:[{name:"author",isMut:!0,isSigner:!0},{name:"governanceState",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"proposalData",type:{defined:"ProposalData"}}]},{name:"vote",accounts:[{name:"voter",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"governanceState",isMut:!0,isSigner:!1},{name:"userStakeInfo",isMut:!1,isSigner:!1}],args:[{name:"support",type:"bool"}]},{name:"executeProposal",accounts:[{name:"executor",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"governanceState",isMut:!0,isSigner:!1},{name:"stakingState",isMut:!0,isSigner:!1},{name:"treasuryState",isMut:!0,isSigner:!1}],args:[]}],accounts=[{name:"Proposal",type:{kind:"struct",fields:[{name:"proposalId",type:"u64"},{name:"author",type:"publicKey"},{name:"creationTime",type:"i64"},{name:"endTime",type:"i64"},{name:"executed",type:"bool"},{name:"forVotes",type:"u64"},{name:"againstVotes",type:"u64"},{name:"voters",type:{vec:"publicKey"}},{name:"data",type:{defined:"ProposalData"}}]}},{name:"StakingState",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"currentApy",type:"u64"},{name:"minStake",type:"u64"},{name:"maxStake",type:"u64"},{name:"emergencyCooldown",type:"i64"},{name:"paused",type:"bool"},{name:"totalStaked",type:"u64"}]}},{name:"UserStakeInfo",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"stakedAmount",type:"u64"},{name:"lastStakeTimestamp",type:"i64"},{name:"rewardsClaimed",type:"u64"}]}},{name:"TreasuryState",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"withdrawalLimit",type:"u64"},{name:"requiredSignatures",type:"u8"},{name:"totalBalance",type:"u64"}]}},{name:"WithdrawalState",type:{kind:"struct",fields:[{name:"requests",type:{vec:{defined:"WithdrawalRequest"}}},{name:"lastProcessedTime",type:"i64"}]}},{name:"GovernanceState",type:{kind:"struct",fields:[{name:"currentApy",type:"u64"},{name:"votingPeriod",type:"i64"},{name:"requiredQuorum",type:"u64"},{name:"proposalCount",type:"u64"}]}}],types=[{name:"ProtocolConfig",type:{kind:"struct",fields:[{name:"baseApy",type:"u64"},{name:"minStake",type:"u64"},{name:"maxStake",type:"u64"},{name:"emergencyCooldown",type:"i64"},{name:"withdrawalLimit",type:"u64"},{name:"votingPeriod",type:"i64"}]}},{name:"WithdrawalRequest",type:{kind:"struct",fields:[{name:"user",type:"publicKey"},{name:"amount",type:"u64"},{name:"requestTime",type:"i64"},{name:"processed",type:"bool"}]}},{name:"ProposalData",type:{kind:"enum",variants:[{name:"UpdateApy",fields:[{name:"newApy",type:"u64"}]},{name:"UpdateWithdrawalLimit",fields:[{name:"newLimit",type:"u64"}]},{name:"UpdateVotingPeriod",fields:[{name:"newPeriod",type:"i64"}]},{name:"UpdateQuorum",fields:[{name:"newQuorum",type:"u64"}]}]}}],errors=[{code:6e3,name:"InvalidStakeAmount",msg:"Invalid stake amount"},{code:6001,name:"ProtocolPaused",msg:"Protocol is paused"},{code:6002,name:"Overflow",msg:"Arithmetic overflow"},{code:6003,name:"InvalidUnstakeAmount",msg:"Invalid unstake amount"},{code:6004,name:"BondNotMature",msg:"Bond not mature"},{code:6005,name:"BondAlreadyClaimed",msg:"Bond already claimed"},{code:6006,name:"VotingPeriodEnded",msg:"Voting period has ended"},{code:6007,name:"AlreadyVoted",msg:"User has already voted"},{code:6008,name:"InsufficientStake",msg:"Insufficient stake for voting"},{code:6009,name:"InvalidWithdrawalAmount",msg:"Invalid withdrawal amount"},{code:6010,name:"ProposalNotPassed",msg:"Proposal has not passed"},{code:6011,name:"VotingPeriodActive",msg:"Voting period still active"},{code:6012,name:"InvalidProposalType",msg:"Invalid proposal type"},{code:6013,name:"NoRewardsAvailable",msg:"No rewards available to claim"}],IDL={version,name,metadata,instructions,accounts,types,errors};class DeathProtocolClient{constructor(e,s){In(this,"program");In(this,"connection");const a=new AnchorProvider(e,s,{commitment:"confirmed"});this.program=new Program(IDL,DEATH_STAKING_PROGRAM_ID,a),this.connection=e}async getStakingState(e){try{const[s]=PublicKey.findProgramAddressSync([Buffer.from("staking"),e.toBuffer()],this.program.programId);return await this.program.account.stakingState.fetch(s)}catch{await this.initializeStakingState(e);const[a]=PublicKey.findProgramAddressSync([Buffer.from("staking"),e.toBuffer()],this.program.programId);return await this.program.account.stakingState.fetch(a)}}async initializeStakingState(e){const[s]=PublicKey.findProgramAddressSync([Buffer.from("staking"),e.toBuffer()],this.program.programId);return await this.program.methods.initialize().accounts({authority:e,stakingState:s,systemProgram:SystemProgram.programId}).rpc()}async stake(e,s){const[a]=await PublicKey.findProgramAddress([Buffer.from("staking"),s.toBuffer()],this.program.programId),[c]=PublicKey.findProgramAddressSync([Buffer.from("user_stake"),s.toBuffer()],this.program.programId),d=await getAssociatedTokenAddress(DEATH_MINT,s,!1),h=await getAssociatedTokenAddress(DEATH_MINT,a,!0),_=await this.connection.getAccountInfo(h);let b=await this.program.methods.stake(new BN(e)).accounts({user:s,stakingState:a,userStakeInfo:c,userTokenAccount:d,protocolTokenAccount:h,tokenProgram:TOKEN_PROGRAM_ID$1,systemProgram:SystemProgram.programId}).transaction();return _||b.add(createAssociatedTokenAccountInstruction(s,h,a,DEATH_MINT)),b}async getUserStakeInfo(e){const[s]=PublicKey.findProgramAddressSync([Buffer.from("user_stake"),e.toBuffer()],this.program.programId);return await this.program.account.userStakeInfo.fetch(s)}async unstake(e,s){const[a]=PublicKey.findProgramAddressSync([Buffer.from("staking"),s.toBuffer()],this.program.programId),[c]=PublicKey.findProgramAddressSync([Buffer.from("user_stake"),s.toBuffer()],this.program.programId),d=new BN(e*1e9),h=await this.program.methods.unstake(d).accounts({user:s,stakingState:a,userStakeInfo:c,userTokenAccount:await getAssociatedTokenAddress(DEATH_MINT,s),protocolTokenAccount:await getAssociatedTokenAddress(DEATH_MINT,a,!0),tokenProgram:TOKEN_PROGRAM_ID$1,systemProgram:SystemProgram.programId}).transaction();h.feePayer=s;const{blockhash:_}=await this.connection.getLatestBlockhash();return h.recentBlockhash=_,h}async claimRewards(e){const[s]=PublicKey.findProgramAddressSync([Buffer.from("staking"),e.toBuffer()],this.program.programId),[a]=PublicKey.findProgramAddressSync([Buffer.from("user_stake"),e.toBuffer()],this.program.programId),c=await this.program.methods.claimRewards().accounts({user:e,stakingState:s,userStakeInfo:a,userTokenAccount:await getAssociatedTokenAddress(DEATH_MINT,e),protocolTokenAccount:await getAssociatedTokenAddress(DEATH_MINT,s,!0),tokenProgram:TOKEN_PROGRAM_ID$1,systemProgram:SystemProgram.programId}).transaction();c.feePayer=e;const{blockhash:d}=await this.connection.getLatestBlockhash();return c.recentBlockhash=d,c}}const calculateRewardTier=o=>{const e=Object.entries(TIER_LEVELS).sort((s,a)=>a[1]-s[1]);for(const[s,a]of e)if(o>=a)return s;return"REAPER_I"};async function signAndSendTransaction(o,e){const{solana:s}=window;if(!(s!=null&&s.isPhantom))throw new Error("Phantom wallet not found");try{o.feePayer=s.publicKey;const{blockhash:a,lastValidBlockHeight:c}=await e.getLatestBlockhash();o.recentBlockhash=a;const d=await s.signTransaction(o),h=await e.sendRawTransaction(d.serialize());return await e.confirmTransaction({signature:h,blockhash:a,lastValidBlockHeight:c}),h}catch(a){throw console.error("Error sending transaction:",a),a}}function useStaking(){const{connected:o,publicKey:e}=useWallet(),[s,a]=reactExports.useState(!1),[c,d]=reactExports.useState(null),[h,_]=reactExports.useState(0),[b,$]=reactExports.useState(0),[j,rt]=reactExports.useState(0),[it,ot]=reactExports.useState(66.6),[ht,bt]=reactExports.useState("REAPER I"),pt=reactExports.useCallback(Rt=>{const It=Date.now()/1e3-Rt.lastStakeTimestamp.toNumber(),Pt=Rt.stakedAmount.toNumber()*it/(365*24*60*60*100);return Math.floor(Pt*It)},[it]),dt=reactExports.useCallback(async()=>{var Rt,Tt,It;if(e)try{a(!0);const Bt=new Connection(NETWORK_ENDPOINT,"confirmed"),Pt=window.solana,zt=new DeathProtocolClient(Bt,Pt),Ht=await getAssociatedTokenAddress(DEATH_MINT,e);try{const Ut=await Bt.getTokenAccountBalance(Ht);$(Ut.value.uiAmount||0)}catch(Ut){console.error("Error fetching token balance:",Ut),$(0)}try{const Ut=await zt.getStakingState(e),Et=await zt.getUserStakeInfo(e);_(((Rt=Et==null?void 0:Et.stakedAmount)==null?void 0:Rt.toNumber())||0),rt(Et?pt(Et):0),ot(((Tt=Ut==null?void 0:Ut.currentApy)==null?void 0:Tt.toNumber())||66.6);const _e=calculateRewardTier(((It=Et==null?void 0:Et.stakedAmount)==null?void 0:It.toNumber())||0);bt(_e)}catch(Ut){console.error("Error fetching staking info:",Ut)}}catch(Bt){console.error("Error loading staking info:",Bt),d("Failed to load staking information")}finally{a(!1)}},[e,pt]);return reactExports.useEffect(()=>{o&&e&&dt()},[o,e,dt]),{isLoading:s,error:c,stakedBalance:h,tokenBalance:b,pendingRewards:j,currentAPY:it,rewardTier:ht,handleStake:async Rt=>{if(!(!e||!Rt))try{a(!0),d(null);const Tt=new Connection(NETWORK_ENDPOINT,"confirmed"),It=window.solana,Pt=await new DeathProtocolClient(Tt,It).stake(Rt,e),zt=await signAndSendTransaction(Pt,Tt);console.log("Stake transaction successful:",zt),await dt()}catch(Tt){console.error("Error staking:",Tt),d("Failed to stake tokens. Please try again.")}finally{a(!1)}},handleUnstake:async Rt=>{if(!(!e||!Rt))try{a(!0),d(null);const Tt=new Connection(NETWORK_ENDPOINT,"confirmed"),It=window.solana,Pt=await new DeathProtocolClient(Tt,It).unstake(Rt,e),zt=await signAndSendTransaction(Pt,Tt);console.log("Unstake transaction successful:",zt),await dt()}catch(Tt){console.error("Error unstaking:",Tt),d("Failed to unstake tokens. Please try again.")}finally{a(!1)}},handleClaimRewards:async()=>{if(e)try{a(!0),d(null);const Rt=new Connection(NETWORK_ENDPOINT,"confirmed"),Tt=window.solana,Bt=await new DeathProtocolClient(Rt,Tt).claimRewards(e),Pt=await signAndSendTransaction(Bt,Rt);console.log("Claim rewards transaction successful:",Pt),await dt()}catch(Rt){console.error("Error claiming rewards:",Rt),d("Failed to claim rewards. Please try again.")}finally{a(!1)}}}}const StakingInterface=()=>{const{connected:o,connect:e}=useWallet(),{currentAPY:s,stakedBalance:a,tokenBalance:c,pendingRewards:d,rewardTier:h,handleStake:_,handleUnstake:b,handleClaimRewards:$,isLoading:j,error:rt}=useStaking(),[it,ot]=reactExports.useState(""),ht=()=>{it&&(_(parseFloat(it)),ot(""))},bt=()=>{a<=0||b(a)},pt=()=>{ot(c.toString())},dt=()=>{d<=0||$()};return jsxRuntimeExports.jsxs("div",{className:"min-h-[500px] p-6 flex flex-col text-cyan-400",children:[jsxRuntimeExports.jsx("div",{className:"mb-8",children:"_DEATH Protocol Terminal"}),o?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[jsxRuntimeExports.jsx("div",{children:"Current DPY:"}),jsxRuntimeExports.jsxs("div",{children:[s,"% - APR: ",(s*365).toFixed(2),"%"]}),jsxRuntimeExports.jsx("div",{children:"Available Balance:"}),jsxRuntimeExports.jsxs("div",{children:[c," $DEATH"]}),jsxRuntimeExports.jsx("div",{children:"Staked Balance:"}),jsxRuntimeExports.jsxs("div",{children:[a," $DEATH"]}),jsxRuntimeExports.jsx("div",{children:"Pending Rewards:"}),jsxRuntimeExports.jsxs("div",{children:[d," $DEATH"]}),jsxRuntimeExports.jsx("div",{children:"Your Tier:"}),jsxRuntimeExports.jsx("div",{children:h})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("input",{type:"number",value:it,onChange:lt=>ot(lt.target.value),placeholder:"0",className:"w-full bg-black border border-cyan-400 p-2",disabled:j}),jsxRuntimeExports.jsx("button",{onClick:ht,disabled:j||!it||parseFloat(it)<=0,className:"w-full border border-cyan-400 p-2 hover:bg-cyan-400/10 transition-colors disabled:opacity-50",children:"STAKE"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("button",{onClick:pt,disabled:j||c<=0,className:"w-full border border-cyan-400 p-2 hover:bg-cyan-400/10 transition-colors disabled:opacity-50",children:"MAX"}),jsxRuntimeExports.jsx("button",{onClick:bt,disabled:j||a<=0,className:"w-full border border-cyan-400 p-2 hover:bg-cyan-400/10 transition-colors disabled:opacity-50",children:"UNSTAKE ALL"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsx("button",{onClick:dt,disabled:j||d<=0,className:"w-full border border-cyan-400 p-2 hover:bg-cyan-400/10 transition-colors disabled:opacity-50",children:"CLAIM REWARDS"})})]}),rt&&jsxRuntimeExports.jsx("div",{className:"text-red-400 text-sm mt-4 border border-red-400 p-2",children:rt}),j&&jsxRuntimeExports.jsx("div",{className:"text-cyan-400 animate-pulse",children:"_Processing transaction..."})]}):jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"text-red-400 text-center border border-red-400 px-8 py-4 bg-black/50 w-full max-w-md",children:"_ERROR: WALLET CONNECTION REQUIRED"}),jsxRuntimeExports.jsx("button",{onClick:e,className:"border border-cyan-400 px-12 py-2 hover:bg-cyan-400/10 transition-colors",children:"_CONNECT WALLET"})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-cyan-400/70 mt-6 pt-4 border-t border-cyan-400/30",children:[jsxRuntimeExports.jsx("div",{children:"_Type 'help' for command list"}),jsxRuntimeExports.jsx("div",{children:"_Press CTRL+C to terminate process"})]})]})},Staking=()=>{const{connected:o,connect:e,disconnect:s}=useWallet();return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black text-cyan-400 font-mono relative",children:[jsxRuntimeExports.jsx("div",{className:"grid-overlay"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/50 pointer-events-none z-[2]"}),jsxRuntimeExports.jsx(ScrollingHeader,{}),jsxRuntimeExports.jsxs("div",{className:"p-4 relative z-10 mt-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-8",children:[jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx("button",{className:"px-4 py-1 border-2 border-cyan-400 hover:bg-cyan-400/10 transition-colors tron-button",children:"_HOME"})}),jsxRuntimeExports.jsx("button",{onClick:o?s:e,className:"px-4 py-1 border-2 border-cyan-400 hover:bg-cyan-400/10 transition-colors tron-button",children:o?"_DISCONNECT":"_CONNECT"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-[80vh]",children:jsxRuntimeExports.jsxs("div",{className:"w-[600px] border-2 border-cyan-400 bg-black/80 shadow-[0_0_20px_rgba(34,211,238,0.3)]",children:[jsxRuntimeExports.jsxs("div",{className:"bg-cyan-400 px-2 py-1 flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-black font-bold",children:"STAKING.exe"}),jsxRuntimeExports.jsx("button",{className:"w-6 h-6 bg-black/10 hover:bg-black/20 text-black flex items-center justify-center",children:"×"})]}),jsxRuntimeExports.jsx(StakingInterface,{})]})})]})]})};function App(){return jsxRuntimeExports.jsxs(WalletProvider,{children:[jsxRuntimeExports.jsx("div",{className:"grid-overlay"}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/staking",element:jsxRuntimeExports.jsx(Staking,{})})]})})]})}window.Buffer=Buffer$1;client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(WalletProvider,{children:jsxRuntimeExports.jsx(App,{})})}));
